
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ—ï¸ Arquitetura do Sistema DoeSangue - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ—ï¸ Arquitetura do Sistema DoeSangue</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="../index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-arquitetura-do-sistema-doesangue">ğŸ—ï¸ Arquitetura do Sistema DoeSangue</h1><p><strong>VersÃ£o:</strong> v1.0<br><strong>Data:</strong> 27 de Agosto de 2025  </p>
<h2 id="-viso-geral">ğŸ“‹ VisÃ£o Geral</h2><p>Sistema de gestÃ£o completa para doaÃ§Ã£o de sangue baseado em arquitetura em camadas, seguindo rigorosamente o schema de banco de dados MVP fornecido.</p>
<h2 id="-objetivos-arquiteturais">ğŸ¯ Objetivos Arquiteturais</h2><h3 id="princpios-de-design">PrincÃ­pios de Design</h3><ul>
<li><strong>Holistic System Thinking</strong> - Cada componente integrado ao sistema maior</li>
<li><strong>User Experience Drives Architecture</strong> - Jornadas de usuÃ¡rio orientam decisÃµes</li>
<li><strong>Pragmatic Technology Selection</strong> - Spring Boot + JPA para rapidez e confiabilidade</li>
<li><strong>Progressive Complexity</strong> - Inicia simples, escala conforme necessÃ¡rio</li>
<li><strong>Security at Every Layer</strong> - Defesa em profundidade</li>
<li><strong>Data-Centric Design</strong> - Modelo de dados orienta arquitetura</li>
</ul>
<h2 id="-arquitetura-de-alto-nvel">ğŸ¢ Arquitetura de Alto NÃ­vel</h2><h3 id="stack-tecnolgico">Stack TecnolÃ³gico</h3><pre><code>Frontend (Futuro)
â”œâ”€â”€ React/Angular/Vue.js
â”œâ”€â”€ REST API Integration
â””â”€â”€ Material-UI/Bootstrap

Backend (Atual)
â”œâ”€â”€ Spring Boot 3.x
â”œâ”€â”€ Spring Security 6.x
â”œâ”€â”€ Spring Data JPA
â”œâ”€â”€ Hibernate ORM
â””â”€â”€ Maven

Database
â”œâ”€â”€ SQL Server (ProduÃ§Ã£o)
â”œâ”€â”€ H2 (Desenvolvimento)
â””â”€â”€ Connection Pool (HikariCP)

Infrastructure
â”œâ”€â”€ Docker containerization
â”œâ”€â”€ Azure/AWS deployment
â””â”€â”€ CI/CD pipelines
</code></pre>
<h2 id="-modelo-de-domnio">ğŸ“Š Modelo de DomÃ­nio</h2><h3 id="agregados-principais">Agregados Principais</h3><h4 id="1-strongagregado-institutionalstrong">1. <strong>Agregado INSTITUTIONAL</strong></h4><pre><code>Hemocentro (Root)
â”œâ”€â”€ SetorAtuacao
â”œâ”€â”€ User
â”œâ”€â”€ UserRole
â””â”€â”€ UserSetor (Association)
</code></pre>
<h4 id="2-strongagregado-donorstrong">2. <strong>Agregado DONOR</strong></h4><pre><code>Doador (Root)
â”œâ”€â”€ TipoSanguineo
â”œâ”€â”€ DoadorDoenca (Association)
â”œâ”€â”€ DoencaEspecifica
â””â”€â”€ ConsentimentoLgpd
</code></pre>
<h4 id="3-strongagregado-donation_processstrong">3. <strong>Agregado DONATION_PROCESS</strong></h4><pre><code>Doacao (Root)
â”œâ”€â”€ Agendamento
â”œâ”€â”€ TriagemClinica
â””â”€â”€ EstoqueSangue
</code></pre>
<h4 id="4-strongagregado-system_supportstrong">4. <strong>Agregado SYSTEM_SUPPORT</strong></h4><pre><code>ConfiguracaoSistema
â”œâ”€â”€ Notificacao
â””â”€â”€ LogAuditoriaLgpd
</code></pre>
<h2 id="-arquitetura-em-camadas">ğŸ›ï¸ Arquitetura em Camadas</h2><h3 id="layer-1-presentation-layer">Layer 1: Presentation Layer</h3><pre><code>ğŸ“± Controllers (REST API)
â”œâ”€â”€ DoadorController
â”œâ”€â”€ UserController  
â”œâ”€â”€ HemocentroController
â”œâ”€â”€ DoacaoController
â”œâ”€â”€ TriagemController
â”œâ”€â”€ EstoqueController
â””â”€â”€ ConfigController
</code></pre>
<h3 id="layer-2-application-layer">Layer 2: Application Layer</h3><pre><code>ğŸ”§ Services (Business Logic)
â”œâ”€â”€ DoadorService
â”œâ”€â”€ TriagemService
â”œâ”€â”€ DoacaoService
â”œâ”€â”€ EstoqueService
â”œâ”€â”€ NotificacaoService
â”œâ”€â”€ ElegibilidadeService
â””â”€â”€ AuditoriaService
</code></pre>
<h3 id="layer-3-domain-layer">Layer 3: Domain Layer</h3><pre><code>ğŸ¯ Entities + Domain Services
â”œâ”€â”€ Entities (17 entidades mapeadas)
â”œâ”€â”€ Value Objects (Enums)
â”œâ”€â”€ Domain Services
â”‚   â”œâ”€â”€ CompatibilidadeSanguineaService
â”‚   â”œâ”€â”€ ValidacaoMedicaService
â”‚   â””â”€â”€ ElegibilidadeDoadorService
â””â”€â”€ Repositories (Interfaces)
</code></pre>
<h3 id="layer-4-infrastructure-layer">Layer 4: Infrastructure Layer</h3><pre><code>ğŸ—„ï¸ Data Access + External Services
â”œâ”€â”€ JPA Repositories
â”œâ”€â”€ Database Configuration
â”œâ”€â”€ External APIs (Future)
â””â”€â”€ File Storage
</code></pre>
<h2 id="-segurana-multi-camada">ğŸ” SeguranÃ§a Multi-Camada</h2><h3 id="autenticao-amp-autorizao">AutenticaÃ§Ã£o &amp; AutorizaÃ§Ã£o</h3><pre><code class="language-java">@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    // Role-based Access Control
    ADMINISTRADOR (Level 4) - Full system access
    MEDICO (Level 3) - Medical validation + Clinical data
    ENFERMEIRO (Level 3) - Screening + Collection
    ATENDENTE (Level 2) - Basic registration + Scheduling
    
    // Multi-sector Support
    User -&gt; Multiple Sectors (TRIAGEM + COLETA simultaneously)
}
</code></pre>
<h3 id="lgpd-compliance-framework">LGPD Compliance Framework</h3><pre><code class="language-java">// Built-in Privacy Controls
â”œâ”€â”€ ConsentimentoLgpd - Granular consent tracking
â”œâ”€â”€ LogAuditoriaLgpd - Complete audit trail
â”œâ”€â”€ Soft Delete - Data retention compliance
â””â”€â”€ Data Minimization - Only necessary fields
</code></pre>
<h2 id="-fluxos-de-processo-crticos">ğŸ©¸ Fluxos de Processo CrÃ­ticos</h2><h3 id="1-strongjornada-do-doadorstrong">1. <strong>Jornada do Doador</strong></h3><pre><code class="language-mermaid">graph LR
    A[Cadastro] --&gt; B[Agendamento]
    B --&gt; C[Triagem]
    C --&gt; D{Apto?}
    D --&gt;|Sim| E[DoaÃ§Ã£o]
    D --&gt;|NÃ£o| F[Reagendamento]
    E --&gt; G[Estoque]
    F --&gt; B
</code></pre>
<h3 id="2-strongvalidao-mdica-de-doenasstrong">2. <strong>ValidaÃ§Ã£o MÃ©dica de DoenÃ§as</strong></h3><pre><code class="language-mermaid">graph TD
    A[Doador declara doenÃ§a] --&gt; B[DoadorDoenca criada]
    B --&gt; C[Status: Aguardando validaÃ§Ã£o]
    C --&gt; D[MÃ©dico revisa]
    D --&gt; E[ValidaÃ§Ã£o mÃ©dica]
    E --&gt; F[Status: Validado]
</code></pre>
<h3 id="3-stronggesto-multi-setorstrong">3. <strong>GestÃ£o Multi-Setor</strong></h3><pre><code class="language-mermaid">graph LR
    A[User] --&gt; B[UserSetor: TRIAGEM]
    A --&gt; C[UserSetor: COLETA]
    B --&gt; D[Setor Principal: TRIAGEM]
    C --&gt; E[Setor SecundÃ¡rio: COLETA]
</code></pre>
<h2 id="-estrutura-de-dados-otimizada">ğŸ“Š Estrutura de Dados Otimizada</h2><h3 id="relacionamentos-principais">Relacionamentos Principais</h3><pre><code class="language-sql">-- Hierarquia Institucional
Hemocentro 1:N User
User N:M SetorAtuacao (via UserSetor)

-- Dados do Doador
Doador N:1 TipoSanguineo
Doador N:M DoencaEspecifica (via DoadorDoenca)
Doador 1:N ConsentimentoLgpd

-- Processo de DoaÃ§Ã£o
Doador 1:N Agendamento
Doador 1:N TriagemClinica
TriagemClinica 1:N Doacao
TipoSanguineo 1:1 EstoqueSangue
</code></pre>
<h3 id="ndices-estratgicos">Ãndices EstratÃ©gicos</h3><pre><code class="language-sql">-- Performance CrÃ­tica
CREATE INDEX IX_DOADORES_CPF ON DOADORES(CPF);
CREATE INDEX IX_DOACOES_DATA ON DOACOES(DATA_DOACAO DESC);
CREATE INDEX IX_DOADOR_DOENCAS_VALIDACAO ON DOADOR_DOENCAS(VALIDADO_POR_MEDICO);

-- Multi-Sector Queries
CREATE INDEX IX_USER_SETORES_ATIVO ON USER_SETORES(ID_USER, ATIVO);
CREATE INDEX IX_USER_SETORES_PRINCIPAL ON USER_SETORES(IS_SETOR_PRINCIPAL);
</code></pre>
<h2 id="-componentes-de-negcio">ğŸ”§ Componentes de NegÃ³cio</h2><h3 id="domain-services-especializados">Domain Services Especializados</h3><h4 id="1-strongelegibilidadeservicestrong">1. <strong>ElegibilidadeService</strong></h4><pre><code class="language-java">@Service
public class ElegibilidadeService {
    
    // Verifica 95 doenÃ§as impeditivas
    public ElegibilidadeResult verificarElegibilidade(Long doadorId);
    
    // Valida critÃ©rios mÃ©dicos
    public boolean validarCriteriosMedicos(TriagemClinica triagem);
    
    // Calcula prÃ³xima doaÃ§Ã£o permitida
    public LocalDate calcularProximaDoacaoPermitida(Doador doador);
}
</code></pre>
<h4 id="2-strongcompatibilidadesanguineaservicestrong">2. <strong>CompatibilidadeSanguineaService</strong></h4><pre><code class="language-java">@Service  
public class CompatibilidadeSanguineaService {
    
    // LÃ³gica baseada em TipoSanguineo.podeDoarPara
    public List&lt;TipoSanguineo&gt; getReceptoresCompativeis(TipoSanguineo doador);
    
    // Dashboard de estoque crÃ­tico
    public EstoqueStatus avaliarEstoqueCritico();
}
</code></pre>
<h4 id="3-strongvalidacaomedicaservicestrong">3. <strong>ValidacaoMedicaService</strong></h4><pre><code class="language-java">@Service
public class ValidacaoMedicaService {
    
    // Workflow hÃ­brido: Doador declara + MÃ©dico valida
    public void validarDoencaDeclarada(Long doadorDoencaId, User medico);
    
    // Detectar doenÃ§as durante triagem
    public DoadorDoenca detectarDoencaTriagem(Long triagem, DoencaEspecifica doenca);
}
</code></pre>
<h2 id="-api-design-estratgico">ğŸ“± API Design EstratÃ©gico</h2><h3 id="restful-endpoints">RESTful Endpoints</h3><pre><code class="language-java">// Doador Management
GET    /api/doadores                    // Lista paginada
POST   /api/doadores                    // Cadastro completo
GET    /api/doadores/{id}               // Detalhes + doenÃ§as
PUT    /api/doadores/{id}               // AtualizaÃ§Ã£o
DELETE /api/doadores/{id}               // Soft delete

// Medical Workflow
GET    /api/doadores/{id}/doencas       // HistÃ³rico mÃ©dico
POST   /api/doadores/{id}/doencas       // Adicionar doenÃ§a
PUT    /api/doencas/{id}/validar        // ValidaÃ§Ã£o mÃ©dica

// Multi-Sector Management  
GET    /api/users/{id}/setores          // Setores do usuÃ¡rio
POST   /api/users/{id}/setores          // Adicionar setor
PUT    /api/users/{id}/setores/{setorId} // Alterar setor principal

// Donation Process
POST   /api/agendamentos                // Agendar doaÃ§Ã£o
GET    /api/triagem/{doadorId}          // Triagem pendente
POST   /api/triagem                     // Registrar triagem
POST   /api/doacoes                     // Registrar doaÃ§Ã£o

// Blood Inventory
GET    /api/estoque                     // Status por tipo sanguÃ­neo
PUT    /api/estoque/{tipoId}            // Atualizar estoque
GET    /api/estoque/criticos            // Tipos em nÃ­vel crÃ­tico
</code></pre>
<h3 id="padres-de-response">PadrÃµes de Response</h3><pre><code class="language-java">// Standard API Response
{
    &quot;success&quot;: true,
    &quot;data&quot;: { ... },
    &quot;message&quot;: &quot;OperaÃ§Ã£o realizada com sucesso&quot;,
    &quot;timestamp&quot;: &quot;2025-08-27T10:30:00Z&quot;
}

// Error Response
{
    &quot;success&quot;: false,
    &quot;error&quot;: {
        &quot;code&quot;: &quot;DOADOR_NOT_ELIGIBLE&quot;,
        &quot;message&quot;: &quot;Doador apresenta doenÃ§a impeditiva: Diabetes Tipo 1&quot;,
        &quot;details&quot;: [&quot;ID_DOENCA: 11&quot;, &quot;STATUS: ATIVO&quot;]
    },
    &quot;timestamp&quot;: &quot;2025-08-27T10:30:00Z&quot;
}
</code></pre>
<h2 id="-monitoring-amp-analytics">ğŸ“Š Monitoring &amp; Analytics</h2><h3 id="dashboard-metrics">Dashboard Metrics</h3><pre><code class="language-java">// Real-time KPIs
â”œâ”€â”€ Doadores ativos por tipo sanguÃ­neo
â”œâ”€â”€ Estoque crÃ­tico (&lt; nÃ­vel mÃ­nimo)
â”œâ”€â”€ DoaÃ§Ãµes por perÃ­odo
â”œâ”€â”€ Taxa de aprovaÃ§Ã£o em triagem
â”œâ”€â”€ DoenÃ§as mais prevalentes
â”œâ”€â”€ ValidaÃ§Ãµes mÃ©dicas pendentes
â””â”€â”€ UsuÃ¡rios por setor (multi-sector view)
</code></pre>
<h3 id="lgpd-audit-trail">LGPD Audit Trail</h3><pre><code class="language-java">// Compliance Tracking
â”œâ”€â”€ Todas as operaÃ§Ãµes em dados pessoais
â”œâ”€â”€ Finalidade de cada acesso
â”œâ”€â”€ Origem IP e usuÃ¡rio responsÃ¡vel
â”œâ”€â”€ Consentimentos ativos/revogados
â””â”€â”€ RelatÃ³rios de conformidade
</code></pre>
<h2 id="-deployment-strategy">ğŸš€ Deployment Strategy</h2><h3 id="environment-configuration">Environment Configuration</h3><pre><code class="language-yaml"># application-prod.yml
spring:
  datasource:
    url: jdbc:sqlserver://prod-db:1433;databaseName=DB_DOESANGUE_MVP
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: validate  # Never auto-create in prod
  security:
    require-ssl: true

# application-dev.yml  
spring:
  datasource:
    url: jdbc:h2:mem:testdb
  jpa:
    hibernate:
      ddl-auto: create-drop
  h2:
    console:
      enabled: true
</code></pre>
<h3 id="docker-configuration">Docker Configuration</h3><pre><code class="language-dockerfile">FROM openjdk:17-jdk-slim
COPY target/doesangue-backend.jar app.jar
EXPOSE 8080
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]
</code></pre>
<h2 id="-migration-strategy">ğŸ”„ Migration Strategy</h2><h3 id="implementao-faseada">ImplementaÃ§Ã£o Faseada</h3><pre><code>FASE 1 (2 semanas) - Core MVP
â”œâ”€â”€ Entidades bÃ¡sicas (User, Doador, TipoSanguineo, Hemocentro)
â”œâ”€â”€ AutenticaÃ§Ã£o bÃ¡sica
â””â”€â”€ CRUD operations

FASE 2 (3 semanas) - Medical Workflow  
â”œâ”€â”€ Setores mÃºltiplos (UserSetor)
â”œâ”€â”€ DoenÃ§as e validaÃ§Ã£o mÃ©dica
â”œâ”€â”€ Triagem e agendamentos
â””â”€â”€ Dashboard bÃ¡sico

FASE 3 (2 semanas) - Advanced Features
â”œâ”€â”€ DoaÃ§Ãµes e estoque
â”œâ”€â”€ LGPD compliance
â”œâ”€â”€ RelatÃ³rios e analytics
â””â”€â”€ NotificaÃ§Ãµes

FASE 4 (1 semana) - Production Ready
â”œâ”€â”€ Performance optimization
â”œâ”€â”€ Security hardening
â”œâ”€â”€ Monitoring integration
â””â”€â”€ Deployment automation
</code></pre>
<h2 id="-success-metrics">ğŸ¯ Success Metrics</h2><h3 id="technical-metrics">Technical Metrics</h3><ul>
<li><strong>Database Coverage:</strong> 100% (17/17 tabelas)</li>
<li><strong>API Response Time:</strong> &lt; 200ms (95th percentile)</li>
<li><strong>System Uptime:</strong> &gt; 99.5%</li>
<li><strong>LGPD Compliance:</strong> 100% audit coverage</li>
</ul>
<h3 id="business-metrics">Business Metrics</h3><ul>
<li><strong>User Adoption:</strong> Multi-sector usage tracking</li>
<li><strong>Process Efficiency:</strong> Triagem-to-donation conversion rate</li>
<li><strong>Data Quality:</strong> Medical validation completion rate</li>
<li><strong>Operational Excellence:</strong> Blood shortage prevention</li>
</ul>
<hr>
<h2 id="-technical-documentation">ğŸ“š Technical Documentation</h2><h3 id="code-standards">Code Standards</h3><ul>
<li><strong>Java 17+</strong> with modern features</li>
<li><strong>Spring Boot 3.x</strong> for rapid development</li>
<li><strong>JPA/Hibernate</strong> for ORM</li>
<li><strong>Maven</strong> for dependency management</li>
<li><strong>JUnit 5</strong> for testing</li>
<li><strong>SonarQube</strong> for code quality</li>
</ul>
<h3 id="database-standards">Database Standards</h3><ul>
<li><strong>Foreign Keys</strong> enforced for referential integrity</li>
<li><strong>Indexes</strong> optimized for query patterns</li>
<li><strong>Audit Columns</strong> for all entities</li>
<li><strong>Soft Delete</strong> for LGPD compliance</li>
</ul>
<hr>
<p><em>Esta arquitetura estabelece uma base sÃ³lida e escalÃ¡vel para o Sistema DoeSangue, respeitando totalmente o modelo de dados fornecido e preparando o terreno para crescimento futuro.</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š DocumentaÃ§Ã£o Detalhada - DoadorController - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ“š DocumentaÃ§Ã£o Detalhada - DoadorController</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-documentao-detalhada-doadorcontroller">ğŸ“š DocumentaÃ§Ã£o Detalhada - DoadorController</h1><p><strong>Data:</strong> 27 de Agosto de 2025<br><strong>Autor:</strong> Winston (Dev Agent)<br><strong>Finalidade:</strong> Estudo de caso para desenvolvimento de controllers REST</p>
<hr>
<h2 id="-objetivo-deste-controller">ğŸ¯ Objetivo deste Controller</h2><p>O <code>DoadorController</code> foi criado como um <strong>exemplo completo</strong> demonstrando as melhores prÃ¡ticas para desenvolvimento de APIs REST no Spring Boot com documentaÃ§Ã£o Swagger profissional. Este controller serve como <strong>template de referÃªncia</strong> para implementaÃ§Ã£o de outros controllers no sistema.</p>
<hr>
<h2 id="-estrutura-do-controller">ğŸ“‹ Estrutura do Controller</h2><h3 id="strong-arquivos-criadosstrong"><strong>ğŸ—‚ï¸ Arquivos Criados:</strong></h3><pre><code>src/main/java/com/faculdade/doesangue_api/
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ DoadorController.java           # Controller principal
â””â”€â”€ dtos/
    â”œâ”€â”€ DoadorCreateDTO.java           # DTO para criaÃ§Ã£o
    â”œâ”€â”€ DoadorDTO.java                 # DTO para resposta
    â””â”€â”€ DoadorFiltroDTO.java           # DTO para filtros
</code></pre>
<h3 id="strong-estatsticas-do-cdigostrong"><strong>ğŸ“Š EstatÃ­sticas do CÃ³digo:</strong></h3><ul>
<li><strong>700+ linhas</strong> de cÃ³digo documentado</li>
<li><strong>6 endpoints</strong> REST completos</li>
<li><strong>50+ anotaÃ§Ãµes</strong> Swagger</li>
<li><strong>15+ validaÃ§Ãµes</strong> Bean Validation</li>
<li><strong>100+ exemplos</strong> JSON</li>
<li><strong>DocumentaÃ§Ã£o multilÃ­ngue</strong> (PT/EN)</li>
</ul>
<hr>
<h2 id="-funcionalidades-implementadas">ğŸš€ Funcionalidades Implementadas</h2><h3 id="strong1-listagem-paginada-com-filtrosstrong"><strong>1. ğŸ“‹ Listagem Paginada com Filtros</strong></h3><pre><code class="language-java">GET /api/doadores?page=0&amp;size=20&amp;nome=JoÃ£o&amp;tipoSanguineo=O+
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>PaginaÃ§Ã£o</strong> configurÃ¡vel (pÃ¡gina, tamanho)</li>
<li><span class="badge success">âœ…</span> <strong>OrdenaÃ§Ã£o</strong> por mÃºltiplos campos</li>
<li><span class="badge success">âœ…</span> <strong>Filtros avanÃ§ados</strong> (nome, CPF, tipo sanguÃ­neo, idade, etc.)</li>
<li><span class="badge success">âœ…</span> <strong>Performance</strong> otimizada</li>
<li><span class="badge success">âœ…</span> <strong>DocumentaÃ§Ã£o completa</strong> com exemplos</li>
</ul>
<p><strong>Filtros DisponÃ­veis:</strong></p>
<ul>
<li><code>nome</code> - Busca parcial por nome</li>
<li><code>cpf</code> - CPF completo</li>
<li><code>tipoSanguineo</code> - A+, A-, B+, B-, AB+, AB-, O+, O-</li>
<li><code>gender</code> - M ou F</li>
<li><code>hemocentroId</code> - ID do hemocentro</li>
<li><code>idadeMinima/idadeMaxima</code> - Faixa etÃ¡ria</li>
<li><code>apenasAptos</code> - Apenas doadores aptos</li>
</ul>
<h3 id="strong2-busca-por-idstrong"><strong>2. ğŸ” Busca por ID</strong></h3><pre><code class="language-java">GET /api/doadores/{id}
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>Dados completos</strong> do doador</li>
<li><span class="badge success">âœ…</span> <strong>CPF mascarado</strong> para seguranÃ§a</li>
<li><span class="badge success">âœ…</span> <strong>InformaÃ§Ãµes calculadas</strong> (idade, aptidÃ£o)</li>
<li><span class="badge success">âœ…</span> <strong>HistÃ³rico resumido</strong> de doaÃ§Ãµes</li>
<li><span class="badge success">âœ…</span> <strong>Tratamento de erro 404</strong></li>
</ul>
<h3 id="strong3-cadastro-de-novo-doadorstrong"><strong>3. â• Cadastro de Novo Doador</strong></h3><pre><code class="language-java">POST /api/doadores
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>ValidaÃ§Ãµes completas</strong> (20+ regras)</li>
<li><span class="badge success">âœ…</span> <strong>CPF Ãºnico</strong> no sistema</li>
<li><span class="badge success">âœ…</span> <strong>Compliance LGPD</strong> obrigatÃ³rio</li>
<li><span class="badge success">âœ…</span> <strong>Dados obrigatÃ³rios</strong> validados</li>
<li><span class="badge success">âœ…</span> <strong>Resposta detalhada</strong> com status 201</li>
</ul>
<p><strong>ValidaÃ§Ãµes Implementadas:</strong></p>
<ul>
<li>Nome: 2-100 caracteres, obrigatÃ³rio</li>
<li>CPF: exatamente 11 dÃ­gitos, Ãºnico</li>
<li>Email: formato vÃ¡lido, Ãºnico</li>
<li>Data nascimento: no passado, idade 16-69</li>
<li>Telefone: 10-15 dÃ­gitos</li>
<li>EndereÃ§o: campos obrigatÃ³rios</li>
<li>Consentimento LGPD: obrigatÃ³rio (true)</li>
</ul>
<h3 id="strong4-atualizao-de-dadosstrong"><strong>4. ğŸ”„ AtualizaÃ§Ã£o de Dados</strong></h3><pre><code class="language-java">PUT /api/doadores/{id}
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>Campos atualizÃ¡veis</strong> definidos</li>
<li><span class="badge success">âœ…</span> <strong>Campos protegidos</strong> (CPF, nascimento)</li>
<li><span class="badge success">âœ…</span> <strong>Auditoria automÃ¡tica</strong> (updatedAt)</li>
<li><span class="badge success">âœ…</span> <strong>ValidaÃ§Ãµes mantidas</strong></li>
</ul>
<h3 id="strong5-verificao-de-aptidostrong"><strong>5. ğŸ©º VerificaÃ§Ã£o de AptidÃ£o</strong></h3><pre><code class="language-java">GET /api/doadores/{id}/aptidao
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>Regras mÃ©dicas</strong> aplicadas</li>
<li><span class="badge success">âœ…</span> <strong>Intervalos por gÃªnero</strong> (60d M, 90d F)</li>
<li><span class="badge success">âœ…</span> <strong>Motivos detalhados</strong> se inapto</li>
<li><span class="badge success">âœ…</span> <strong>PrÃ³xima data permitida</strong></li>
<li><span class="badge success">âœ…</span> <strong>RecomendaÃ§Ãµes mÃ©dicas</strong></li>
</ul>
<h3 id="strong6-estatsticas-detalhadasstrong"><strong>6. ğŸ“Š EstatÃ­sticas Detalhadas</strong></h3><pre><code class="language-java">GET /api/doadores/{id}/estatisticas
</code></pre>
<p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>HistÃ³rico completo</strong> de doaÃ§Ãµes</li>
<li><span class="badge success">âœ…</span> <strong>MÃ©tricas calculadas</strong> (frequÃªncia, volume)</li>
<li><span class="badge success">âœ…</span> <strong>GamificaÃ§Ã£o</strong> (status fidelidade, metas)</li>
<li><span class="badge success">âœ…</span> <strong>Impacto social</strong> (vidas ajudadas)</li>
</ul>
<hr>
<h2 id="-arquitetura-dos-dtos">ğŸ—ï¸ Arquitetura dos DTOs</h2><h3 id="strong-doadorcreatedto-para-criaostrong"><strong>ğŸ”¨ DoadorCreateDTO - Para CriaÃ§Ã£o</strong></h3><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>20 campos</strong> com validaÃ§Ãµes especÃ­ficas</li>
<li><strong>AnotaÃ§Ãµes Swagger</strong> detalhadas</li>
<li><strong>Exemplos prÃ¡ticos</strong> para cada campo</li>
<li><strong>ValidaÃ§Ãµes Bean Validation</strong></li>
<li><strong>DocumentaÃ§Ã£o dos requisitos</strong></li>
</ul>
<p><strong>Principais ValidaÃ§Ãµes:</strong></p>
<pre><code class="language-java">@NotBlank(message = &quot;Nome completo Ã© obrigatÃ³rio&quot;)
@Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
private String fullName;

@Pattern(regexp = &quot;\\d{11}&quot;, message = &quot;CPF deve conter exatamente 11 dÃ­gitos numÃ©ricos&quot;)
private String cpf;

@Email(message = &quot;Email deve ter formato vÃ¡lido&quot;)
private String email;

@AssertTrue(message = &quot;Consentimento LGPD deve ser verdadeiro para prosseguir&quot;)
private Boolean consentimentoLgpd;
</code></pre>
<h3 id="strong-doadordto-para-respostastrong"><strong>ğŸ“¤ DoadorDTO - Para Resposta</strong></h3><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>Dados calculados</strong> (idade, aptidÃ£o)</li>
<li><strong>Campos mascarados</strong> (CPF para privacidade)</li>
<li><strong>InformaÃ§Ãµes agregadas</strong> (total doaÃ§Ãµes, Ãºltima doaÃ§Ã£o)</li>
<li><strong>Status em tempo real</strong> (pode doar)</li>
<li><strong>Timestamps de auditoria</strong></li>
</ul>
<p><strong>Campos Especiais:</strong></p>
<pre><code class="language-java">@Schema(description = &quot;CPF mascarado para privacidade&quot;, example = &quot;123.***.***-01&quot;)
private String cpfMasked;

@Schema(description = &quot;Idade calculada&quot;, accessMode = Schema.AccessMode.READ_ONLY)
private Integer idade;

@Schema(description = &quot;Indica se pode doar no momento&quot;, accessMode = Schema.AccessMode.READ_ONLY)
private Boolean podeDoar;
</code></pre>
<h3 id="strong-doadorfiltrodto-para-filtrosstrong"><strong>ğŸ” DoadorFiltroDTO - Para Filtros</strong></h3><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>Filtros opcionais</strong> todos</li>
<li><strong>Ranges de valores</strong> (idade, datas)</li>
<li><strong>Flags booleanas</strong> (apenas aptos)</li>
<li><strong>Campos de localizaÃ§Ã£o</strong> (estado, cidade)</li>
</ul>
<hr>
<h2 id="-strongpublic-recordstrong-vs-strongpublic-classstrong-para-dtos">ğŸ” <strong>public record</strong> vs <strong>public class</strong> para DTOs</h2><h3 id="strong-public-record-moderna-e-concisa-java-14strong"><strong>ğŸ“ public record - Moderna e Concisa (Java 14+)</strong></h3><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>ImutÃ¡vel por padrÃ£o</strong> - Todos os campos sÃ£o <code>final</code></li>
<li><strong>CÃ³digo mais limpo</strong> - Sem boilerplate de getters/setters</li>
<li><strong>Equals/hashCode automÃ¡tico</strong> - Implementados automaticamente</li>
<li><strong>toString() Ãºtil</strong> - Mostra todos os campos</li>
<li><strong>Construtor automÃ¡tico</strong> - Com todos os parÃ¢metros</li>
</ul>
<p><strong>Exemplo prÃ¡tico:</strong></p>
<pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de doador&quot;)
public record DoadorCreateDTO(
    @Schema(description = &quot;Nome completo&quot;, example = &quot;JoÃ£o Silva&quot;)
    @NotBlank(message = &quot;Nome completo Ã© obrigatÃ³rio&quot;)
    @Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
    String fullName,
    
    @Schema(description = &quot;CPF sem formataÃ§Ã£o&quot;, example = &quot;12345678901&quot;)
    @Pattern(regexp = &quot;\\d{11}&quot;, message = &quot;CPF deve conter exatamente 11 dÃ­gitos numÃ©ricos&quot;)
    String cpf,
    
    @Schema(description = &quot;Email para contato&quot;, example = &quot;joao.silva@email.com&quot;)
    @Email(message = &quot;Email deve ter formato vÃ¡lido&quot;)
    String email,
    
    @Schema(description = &quot;Consentimento LGPD&quot;, example = &quot;true&quot;)
    @AssertTrue(message = &quot;Consentimento LGPD deve ser verdadeiro para prosseguir&quot;)
    Boolean consentimentoLgpd
) {}
</code></pre>
<p><strong><span class="badge success">âœ…</span> Vantagens:</strong></p>
<ul>
<li><strong>Menos cÃ³digo</strong> - Reduz significativamente o boilerplate</li>
<li><strong>Imutabilidade</strong> - Mais seguro para transferÃªncia de dados</li>
<li><strong>Modernidade</strong> - PadrÃ£o atual do Java para DTOs</li>
<li><strong>Performance</strong> - Ligeiramente mais eficiente</li>
</ul>
<h3 id="strong-public-class-tradicional-e-flexvelstrong"><strong>ğŸ—ï¸ public class - Tradicional e FlexÃ­vel</strong></h3><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>MutÃ¡vel por padrÃ£o</strong> - Campos podem ser modificados</li>
<li><strong>CÃ³digo verbose</strong> - Requer getters/setters manuais ou Lombok</li>
<li><strong>Flexibilidade total</strong> - Permite customizaÃ§Ã£o de comportamentos</li>
<li><strong>Compatibilidade</strong> - Funciona em todas as versÃµes do Java</li>
</ul>
<p><strong>Exemplo prÃ¡tico:</strong></p>
<pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de doador&quot;)
@Getter @Setter
@NoArgsConstructor @AllArgsConstructor
public class DoadorCreateDTO {
    
    @Schema(description = &quot;Nome completo&quot;, example = &quot;JoÃ£o Silva&quot;)
    @NotBlank(message = &quot;Nome completo Ã© obrigatÃ³rio&quot;)
    @Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
    private String fullName;
    
    @Schema(description = &quot;CPF sem formataÃ§Ã£o&quot;, example = &quot;12345678901&quot;)
    @Pattern(regexp = &quot;\\d{11}&quot;, message = &quot;CPF deve conter exatamente 11 dÃ­gitos numÃ©ricos&quot;)
    private String cpf;
    
    @Schema(description = &quot;Email para contato&quot;, example = &quot;joao.silva@email.com&quot;)
    @Email(message = &quot;Email deve ter formato vÃ¡lido&quot;)
    private String email;
    
    @Schema(description = &quot;Consentimento LGPD&quot;, example = &quot;true&quot;)
    @AssertTrue(message = &quot;Consentimento LGPD deve ser verdadeiro para prosseguir&quot;)
    private Boolean consentimentoLgpd;
    
    // Lombok gera getters, setters, construtores
}
</code></pre>
<p><strong><span class="badge success">âœ…</span> Vantagens:</strong></p>
<ul>
<li><strong>Flexibilidade</strong> - Permite validaÃ§Ãµes customizadas</li>
<li><strong>Compatibilidade</strong> - Funciona com bibliotecas mais antigas</li>
<li><strong>Lombok</strong> - Reduz boilerplate com anotaÃ§Ãµes</li>
<li><strong>Debugging</strong> - Mais fÃ¡cil para debug em algumas IDEs</li>
</ul>
<h3 id="strong-quando-usar-cada-umstrong"><strong>ğŸ¯ Quando Usar Cada Um</strong></h3><table>
<thead>
<tr>
<th><strong>CenÃ¡rio</strong></th>
<th><strong>Record</strong></th>
<th><strong>Class</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>DTOs simples de transferÃªncia</strong></td>
<td><span class="badge success">âœ…</span> <strong>PreferÃ­vel</strong></td>
<td><span class="badge warning">âš ï¸</span> Adequado</td>
</tr>
<tr>
<td><strong>Dados imutÃ¡veis</strong></td>
<td><span class="badge success">âœ…</span> <strong>Ideal</strong></td>
<td><span class="badge danger">âŒ</span> Requer esforÃ§o extra</td>
</tr>
<tr>
<td><strong>APIs REST modernas</strong></td>
<td><span class="badge success">âœ…</span> <strong>Recomendado</strong></td>
<td><span class="badge warning">âš ï¸</span> Tradicional</td>
</tr>
<tr>
<td><strong>ValidaÃ§Ãµes complexas</strong></td>
<td><span class="badge warning">âš ï¸</span> Limitado</td>
<td><span class="badge success">âœ…</span> <strong>Melhor</strong></td>
</tr>
<tr>
<td><strong>HeranÃ§a necessÃ¡ria</strong></td>
<td><span class="badge danger">âŒ</span> NÃ£o suporta</td>
<td><span class="badge success">âœ…</span> <strong>NecessÃ¡rio</strong></td>
</tr>
<tr>
<td><strong>Java &lt; 14</strong></td>
<td><span class="badge danger">âŒ</span> NÃ£o disponÃ­vel</td>
<td><span class="badge success">âœ…</span> <strong>Ãšnica opÃ§Ã£o</strong></td>
</tr>
<tr>
<td><strong>Frameworks antigos</strong></td>
<td><span class="badge warning">âš ï¸</span> Pode ter problemas</td>
<td><span class="badge success">âœ…</span> <strong>CompatÃ­vel</strong></td>
</tr>
</tbody></table>
<h3 id="strong-recomendao-para-o-projeto-doesanguestrong"><strong>ğŸ’¡ RecomendaÃ§Ã£o para o Projeto DoeSangue</strong></h3><p><strong>Para DTOs de Entrada/SaÃ­da:</strong></p>
<pre><code class="language-java">// &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; RECOMENDADO - Record para dados simples
public record DoadorCreateDTO(
    @NotBlank String fullName,
    @Pattern(regexp = &quot;\\d{11}&quot;) String cpf,
    @Email String email
) {}

// &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; ALTERNATIVO - Class quando precisar de flexibilidade
@Getter @Setter
public class DoadorUpdateDTO {
    private String fullName;
    private String email;
    
    // MÃ©todos customizados de validaÃ§Ã£o
    @AssertTrue
    public boolean isValidUpdate() {
        return fullName != null || email != null;
    }
}
</code></pre>
<p><strong>ğŸ“š ConclusÃ£o:</strong></p>
<ul>
<li><strong>Records</strong> sÃ£o ideais para DTOs simples e modernos</li>
<li><strong>Classes</strong> oferecem mais flexibilidade quando necessÃ¡rio</li>
<li><strong>Ambos funcionam</strong> com Spring Boot e validaÃ§Ãµes</li>
<li><strong>Escolha baseada</strong> na complexidade e requisitos do projeto</li>
</ul>
<hr>
<h2 id="-documentao-swagger-avanada">ğŸ“– DocumentaÃ§Ã£o Swagger AvanÃ§ada</h2><h3 id="strong-recursos-utilizadosstrong"><strong>ğŸ¨ Recursos Utilizados:</strong></h3><h4 id="strong1-anotaes-de-operaostrong"><strong>1. AnotaÃ§Ãµes de OperaÃ§Ã£o</strong></h4><pre><code class="language-java">@Operation(
    summary = &quot;ğŸ“‹ Listar doadores com filtros avanÃ§ados&quot;,
    description = &quot;&quot;&quot;
        DescriÃ§Ã£o detalhada em markdown...
        
        **Funcionalidades:**
        - Item 1
        - Item 2
        
        **Casos de Uso:**
        - Caso 1
        - Caso 2
        &quot;&quot;&quot;,
    tags = {&quot;Doadores&quot;}
)
</code></pre>
<h4 id="strong2-exemplos-json-completosstrong"><strong>2. Exemplos JSON Completos</strong></h4><pre><code class="language-java">@ExampleObject(
    name = &quot;Exemplo completo de cadastro&quot;,
    value = &quot;&quot;&quot;
        {
            &quot;fullName&quot;: &quot;Maria Oliveira Silva&quot;,
            &quot;cpf&quot;: &quot;98765432101&quot;,
            &quot;email&quot;: &quot;maria.oliveira@email.com&quot;,
            // ... JSON completo
        }
        &quot;&quot;&quot;
)
</code></pre>
<h4 id="strong3-respostas-detalhadasstrong"><strong>3. Respostas Detalhadas</strong></h4><pre><code class="language-java">@ApiResponse(
    responseCode = &quot;400&quot;, 
    description = &quot;&lt;span class=&quot;badge danger&quot;&gt;âŒ&lt;/span&gt; Dados invÃ¡lidos fornecidos&quot;,
    content = @Content(
        schema = @Schema(implementation = Map.class),
        examples = @ExampleObject(
            value = &quot;&quot;&quot;
                {
                    &quot;error&quot;: &quot;Bad Request&quot;,
                    &quot;message&quot;: &quot;Dados invÃ¡lidos&quot;,
                    &quot;details&quot;: {
                        &quot;fullName&quot;: &quot;Nome completo Ã© obrigatÃ³rio&quot;,
                        &quot;cpf&quot;: &quot;CPF deve conter exatamente 11 dÃ­gitos numÃ©ricos&quot;
                    }
                }
                &quot;&quot;&quot;
        )
    )
)
</code></pre>
<h4 id="strong4-parmetros-documentadosstrong"><strong>4. ParÃ¢metros Documentados</strong></h4><pre><code class="language-java">@Parameter(
    description = &quot;NÃºmero da pÃ¡gina (iniciando em 0)&quot;, 
    example = &quot;0&quot;,
    schema = @Schema(minimum = &quot;0&quot;, defaultValue = &quot;0&quot;)
)
@RequestParam(defaultValue = &quot;0&quot;) int page
</code></pre>
<h3 id="strong-benefcios-da-documentaostrong"><strong>ğŸ¯ BenefÃ­cios da DocumentaÃ§Ã£o:</strong></h3><ol>
<li><strong>Auto-explicativa</strong> - Desenvolvedores entendem sem explicaÃ§Ã£o</li>
<li><strong>TestÃ¡vel</strong> - Todos os endpoints testÃ¡veis via Swagger UI</li>
<li><strong>Exemplos reais</strong> - JSON examples que funcionam</li>
<li><strong>Tratamento de erros</strong> - Todos os cÃ³digos HTTP documentados</li>
<li><strong>ValidaÃ§Ãµes claras</strong> - Regras explÃ­citas para cada campo</li>
</ol>
<hr>
<h2 id="-como-testar-o-controller">ğŸ§ª Como Testar o Controller</h2><h3 id="strong1-iniciar-a-aplicaostrong"><strong>1. Iniciar a AplicaÃ§Ã£o</strong></h3><pre><code class="language-bash">cd doesangue_backend
./mvnw spring-boot:run
</code></pre>
<h3 id="strong2-acessar-swagger-uistrong"><strong>2. Acessar Swagger UI</strong></h3><pre><code>http://localhost:8080/swagger-ui.html
</code></pre>
<h3 id="strong3-testar-endpointsstrong"><strong>3. Testar Endpoints</strong></h3><h4 id="stronglistar-doadoresstrong"><strong>Listar Doadores:</strong></h4><pre><code>GET /api/doadores?page=0&amp;size=5&amp;nome=JoÃ£o
</code></pre>
<h4 id="strongbuscar-por-idstrong"><strong>Buscar por ID:</strong></h4><pre><code>GET /api/doadores/1
</code></pre>
<h4 id="strongcadastrar-doadorstrong"><strong>Cadastrar Doador:</strong></h4><pre><code>POST /api/doadores
{
    &quot;fullName&quot;: &quot;Novo Doador Teste&quot;,
    &quot;cpf&quot;: &quot;99999999999&quot;,
    &quot;email&quot;: &quot;teste@email.com&quot;,
    &quot;birthDate&quot;: &quot;1990-01-01&quot;,
    &quot;gender&quot;: &quot;M&quot;,
    &quot;telefonePrincipal&quot;: &quot;11999999999&quot;,
    &quot;logradouro&quot;: &quot;Rua Teste&quot;,
    &quot;numero&quot;: &quot;123&quot;,
    &quot;cidade&quot;: &quot;SÃ£o Paulo&quot;,
    &quot;estado&quot;: &quot;SP&quot;,
    &quot;cep&quot;: &quot;01234567&quot;,
    &quot;tipoSanguineoId&quot;: 1,
    &quot;hemocentroId&quot;: 1,
    &quot;cadastradoPorId&quot;: 1,
    &quot;consentimentoLgpd&quot;: true
}
</code></pre>
<h4 id="strongverificar-aptidostrong"><strong>Verificar AptidÃ£o:</strong></h4><pre><code>GET /api/doadores/1/aptidao
</code></pre>
<h3 id="strong4-testar-validaesstrong"><strong>4. Testar ValidaÃ§Ãµes</strong></h3><h4 id="strongcpf-duplicadostrong"><strong>CPF Duplicado:</strong></h4><pre><code>POST /api/doadores
{
    &quot;cpf&quot;: &quot;12345678901&quot;,  // CPF que jÃ¡ existe
    // outros campos...
}
</code></pre>
<p><strong>Resultado esperado:</strong> 409 Conflict</p>
<h4 id="strongdados-invlidosstrong"><strong>Dados InvÃ¡lidos:</strong></h4><pre><code>POST /api/doadores
{
    &quot;fullName&quot;: &quot;&quot;,           // Nome vazio
    &quot;cpf&quot;: &quot;123&quot;,            // CPF invÃ¡lido
    &quot;email&quot;: &quot;email-invÃ¡lido&quot;, // Email invÃ¡lido
    &quot;consentimentoLgpd&quot;: false // LGPD nÃ£o aceito
}
</code></pre>
<p><strong>Resultado esperado:</strong> 400 Bad Request com detalhes</p>
<hr>
<h2 id="-conceitos-demonstrados">ğŸ“ Conceitos Demonstrados</h2><h3 id="strong1-spring-boot-spring-webstrong"><strong>1. Spring Boot / Spring Web</strong></h3><ul>
<li><code>@RestController</code> - Marca classe como controller REST</li>
<li><code>@RequestMapping</code> - Define base path da API</li>
<li><code>@GetMapping/@PostMapping/@PutMapping</code> - Mapeia HTTP methods</li>
<li><code>@PathVariable</code> - Captura variÃ¡veis da URL</li>
<li><code>@RequestParam</code> - Captura query parameters</li>
<li><code>@RequestBody</code> - Mapeia body do request para objeto</li>
<li><code>@Valid</code> - Ativa validaÃ§Ãµes Bean Validation</li>
</ul>
<h3 id="strong2-bean-validationstrong"><strong>2. Bean Validation</strong></h3><ul>
<li><code>@NotNull/@NotBlank</code> - ValidaÃ§Ãµes de nulidade</li>
<li><code>@Size</code> - ValidaÃ§Ã£o de tamanho</li>
<li><code>@Pattern</code> - ValidaÃ§Ã£o com regex</li>
<li><code>@Email</code> - ValidaÃ§Ã£o de formato de email</li>
<li><code>@Past</code> - Data deve ser no passado</li>
<li><code>@Positive</code> - NÃºmero deve ser positivo</li>
<li><code>@AssertTrue</code> - Booleano deve ser verdadeiro</li>
</ul>
<h3 id="strong3-swaggeropenapi-3strong"><strong>3. Swagger/OpenAPI 3</strong></h3><ul>
<li><code>@Tag</code> - Agrupa endpoints por categoria</li>
<li><code>@Operation</code> - Documenta operaÃ§Ã£o</li>
<li><code>@ApiResponse/@ApiResponses</code> - Documenta respostas</li>
<li><code>@Parameter</code> - Documenta parÃ¢metros</li>
<li><code>@Schema</code> - Documenta estrutura de dados</li>
<li><code>@ExampleObject</code> - Fornece exemplos</li>
<li><code>@SecurityRequirement</code> - Define requisitos de seguranÃ§a</li>
</ul>
<h3 id="strong4-dtos-data-transfer-objectsstrong"><strong>4. DTOs (Data Transfer Objects)</strong></h3><ul>
<li><strong>SeparaÃ§Ã£o de responsabilidades</strong> - DTOs diferentes para diferentes operaÃ§Ãµes</li>
<li><strong>ValidaÃ§Ãµes especÃ­ficas</strong> - Cada DTO com suas validaÃ§Ãµes</li>
<li><strong>DocumentaÃ§Ã£o integrada</strong> - Schema documentado no DTO</li>
<li><strong>TransformaÃ§Ã£o de dados</strong> - Entre entity e DTO</li>
</ul>
<h3 id="strong5-paginaostrong"><strong>5. PaginaÃ§Ã£o</strong></h3><ul>
<li><code>Page&lt;T&gt;</code> - Interface padrÃ£o Spring Data</li>
<li><code>PageRequest</code> - RequisiÃ§Ã£o de pÃ¡gina</li>
<li><code>PageImpl</code> - ImplementaÃ§Ã£o de pÃ¡gina</li>
<li>Query parameters padrÃ£o (page, size, sort)</li>
</ul>
<h3 id="strong6-tratamento-de-errosstrong"><strong>6. Tratamento de Erros</strong></h3><ul>
<li>Status HTTP apropriados (200, 201, 400, 404, 409)</li>
<li>Respostas estruturadas para erros</li>
<li>Mensagens descritivas</li>
<li>Detalhes de validaÃ§Ã£o</li>
</ul>
<hr>
<h2 id="-prximos-passos">ğŸ¯ PrÃ³ximos Passos</h2><h3 id="strongpara-este-controllerstrong"><strong>Para Este Controller:</strong></h3><ol>
<li><strong>Implementar Service layer</strong> - DoadorService com regras de negÃ³cio</li>
<li><strong>Implementar Repository</strong> - DoadorRepository com queries customizadas</li>
<li><strong>Integrar com entidades JPA</strong> - Mapear para Doador entity</li>
<li><strong>Adicionar testes</strong> - Unit e integration tests</li>
<li><strong>Implementar seguranÃ§a</strong> - JWT authentication</li>
</ol>
<h3 id="strongpara-outros-controllersstrong"><strong>Para Outros Controllers:</strong></h3><ol>
<li><strong>UserController</strong> - GestÃ£o de usuÃ¡rios</li>
<li><strong>HemocentroController</strong> - GestÃ£o de hemocentros</li>
<li><strong>AuthController</strong> - AutenticaÃ§Ã£o JWT</li>
<li><strong>TriagemController</strong> - Triagem clÃ­nica</li>
<li><strong>AgendamentoController</strong> - Agendamentos</li>
</ol>
<h3 id="strongmelhorias-arquiteturaisstrong"><strong>Melhorias Arquiteturais:</strong></h3><ol>
<li><strong>Exception Handler global</strong> - Tratamento centralizado de erros</li>
<li><strong>Audit logs</strong> - Auditoria automÃ¡tica de operaÃ§Ãµes</li>
<li><strong>Cache</strong> - Cache para consultas frequentes</li>
<li><strong>Metrics</strong> - MÃ©tricas de performance</li>
<li><strong>Rate limiting</strong> - Controle de taxa de requisiÃ§Ãµes</li>
</ol>
<hr>
<h2 id="-recursos-de-aprendizado">ğŸ“š Recursos de Aprendizado</h2><h3 id="strongconceitos-aplicadosstrong"><strong>Conceitos Aplicados:</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>REST API Design</strong> - PadrÃµes RESTful</li>
<li><span class="badge success">âœ…</span> <strong>OpenAPI 3.0</strong> - DocumentaÃ§Ã£o automÃ¡tica</li>
<li><span class="badge success">âœ…</span> <strong>Bean Validation</strong> - ValidaÃ§Ãµes declarativas</li>
<li><span class="badge success">âœ…</span> <strong>DTO Pattern</strong> - TransferÃªncia de dados</li>
<li><span class="badge success">âœ…</span> <strong>PaginaÃ§Ã£o</strong> - Listagens eficientes</li>
<li><span class="badge success">âœ…</span> <strong>Error Handling</strong> - Tratamento de erros</li>
<li><span class="badge success">âœ…</span> <strong>Security</strong> - AutenticaÃ§Ã£o JWT</li>
<li><span class="badge success">âœ…</span> <strong>Documentation</strong> - CÃ³digo autodocumentado</li>
</ul>
<h3 id="strongboas-prticas-demonstradasstrong"><strong>Boas PrÃ¡ticas Demonstradas:</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>Single Responsibility</strong> - Cada mÃ©todo uma responsabilidade</li>
<li><span class="badge success">âœ…</span> <strong>Separation of Concerns</strong> - DTOs separados por funÃ§Ã£o</li>
<li><span class="badge success">âœ…</span> <strong>DRY Principle</strong> - ReutilizaÃ§Ã£o de validaÃ§Ãµes</li>
<li><span class="badge success">âœ…</span> <strong>Clean Code</strong> - CÃ³digo legÃ­vel e bem estruturado</li>
<li><span class="badge success">âœ…</span> <strong>API First</strong> - DocumentaÃ§Ã£o guiando implementaÃ§Ã£o</li>
<li><span class="badge success">âœ…</span> <strong>Security by Design</strong> - SeguranÃ§a desde o inÃ­cio</li>
</ul>
<hr>
<p><strong>ğŸ¯ ConclusÃ£o:</strong> Este controller serve como um <strong>template completo</strong> para desenvolvimento de APIs REST profissionais no Spring Boot, demonstrando desde validaÃ§Ãµes bÃ¡sicas atÃ© documentaÃ§Ã£o avanÃ§ada e tratamento de erros. Ã‰ um exemplo prÃ¡tico de como implementar APIs de qualidade industrial.</p>
<p><strong>ğŸ“ˆ Valor para Aprendizado:</strong> Estudar este cÃ³digo fornece uma base sÃ³lida para desenvolvimento de APIs REST modernas, com foco em qualidade, documentaÃ§Ã£o e manutenibilidade.</p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š DocumentaÃ§Ã£o Completa das Entidades - Sistema DoeSangue - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ“š DocumentaÃ§Ã£o Completa das Entidades - Sistema DoeSangue</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-documentao-completa-das-entidades-sistema-doesangue">ğŸ“š DocumentaÃ§Ã£o Completa das Entidades - Sistema DoeSangue</h1><p><strong>VersÃ£o:</strong> v2.0<br><strong>Data:</strong> 27 de Agosto de 2025<br><strong>Desenvolvedor:</strong> Dev Team</p>
<hr>
<h2 id="-ndice">ğŸ“‹ Ãndice</h2><ol>
<li><a href="#vis%C3%A3o-geral-do-sistema">VisÃ£o Geral do Sistema</a></li>
<li><a href="#agregados-de-dom%C3%ADnio">Agregados de DomÃ­nio</a></li>
<li><a href="#entidades-detalhadas">Entidades Detalhadas</a></li>
<li><a href="#enums-e-value-objects">Enums e Value Objects</a></li>
<li><a href="#anota%C3%A7%C3%B5es-jpa-explicadas">AnotaÃ§Ãµes JPA Explicadas</a></li>
<li><a href="#relacionamentos-e-estrat%C3%A9gias">Relacionamentos e EstratÃ©gias</a></li>
<li><a href="#padr%C3%B5es-de-design">PadrÃµes de Design</a></li>
<li><a href="#guia-de-boas-pr%C3%A1ticas">Guia de Boas PrÃ¡ticas</a></li>
</ol>
<hr>
<h2 id="-viso-geral-do-sistema">ğŸ¯ VisÃ£o Geral do Sistema</h2><p>O Sistema DoeSangue Ã© arquitetado em <strong>4 agregados principais</strong> seguindo padrÃµes DDD (Domain-Driven Design), com <strong>17 entidades</strong> que cobrem todo o ciclo de doaÃ§Ã£o de sangue.</p>
<h3 id="strong-estatsticas-do-sistemastrong"><strong>ğŸ“Š EstatÃ­sticas do Sistema:</strong></h3><ul>
<li><strong>17 Entidades JPA</strong> mapeadas</li>
<li><strong>4 Agregados</strong> de domÃ­nio</li>
<li><strong>6 Enums</strong> para type safety</li>
<li><strong>100% Cobertura</strong> do schema SQL</li>
<li><strong>Multi-setor</strong> e <strong>Workflow mÃ©dico</strong> implementados</li>
</ul>
<h3 id="strong-arquitetura-geralstrong"><strong>ğŸ—ï¸ Arquitetura Geral:</strong></h3><pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   INSTITUTIONAL â”‚    â”‚      DONOR      â”‚    â”‚ DONATION_PROCESSâ”‚    â”‚ SYSTEM_SUPPORT  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Hemocentro    â”‚    â”‚ â€¢ Doador        â”‚    â”‚ â€¢ TriagemClinicaâ”‚    â”‚ â€¢ ConfigSistema â”‚
â”‚ â€¢ User          â”‚    â”‚ â€¢ TipoSanguineo â”‚    â”‚ â€¢ Agendamento   â”‚    â”‚ â€¢ Notificacao   â”‚
â”‚ â€¢ UserRole      â”‚    â”‚ â€¢ DoencaEspecif â”‚    â”‚ â€¢ Doacao        â”‚    â”‚ â€¢ LogAuditoria  â”‚
â”‚ â€¢ SetorAtuacao  â”‚    â”‚ â€¢ DoadorDoenca  â”‚    â”‚ â€¢ EstoqueSangue â”‚    â”‚                 â”‚
â”‚ â€¢ UserSetor     â”‚    â”‚ â€¢ ConsentLGPD   â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2 id="-agregados-de-domnio">ğŸ¢ Agregados de DomÃ­nio</h2><h3 id="strong1-agregado-institutionalstrong"><strong>1. Agregado INSTITUTIONAL</strong></h3><p><strong>Responsabilidade:</strong> GestÃ£o de usuÃ¡rios, hemocentros e estrutura organizacional</p>
<pre><code class="language-java">Hemocentro (Aggregate Root)
â”œâ”€â”€ User (Entity)
â”‚   â””â”€â”€ UserSetor (Association Entity)
â”œâ”€â”€ UserRole (Entity)  
â””â”€â”€ SetorAtuacao (Entity)
</code></pre>
<h3 id="strong2-agregado-donorstrong"><strong>2. Agregado DONOR</strong></h3><p><strong>Responsabilidade:</strong> GestÃ£o de doadores, tipos sanguÃ­neos e histÃ³rico mÃ©dico</p>
<pre><code class="language-java">Doador (Aggregate Root)
â”œâ”€â”€ TipoSanguineo (Entity)
â”œâ”€â”€ DoadorDoenca (Association Entity)
â”œâ”€â”€ DoencaEspecifica (Entity)
â””â”€â”€ ConsentimentoLgpd (Entity)
</code></pre>
<h3 id="strong3-agregado-donation_processstrong"><strong>3. Agregado DONATION_PROCESS</strong></h3><p><strong>Responsabilidade:</strong> Processo completo de doaÃ§Ã£o desde agendamento atÃ© estoque</p>
<pre><code class="language-java">Doacao (Aggregate Root)
â”œâ”€â”€ Agendamento (Entity)
â”œâ”€â”€ TriagemClinica (Entity)
â””â”€â”€ EstoqueSangue (Entity)
</code></pre>
<h3 id="strong4-agregado-system_supportstrong"><strong>4. Agregado SYSTEM_SUPPORT</strong></h3><p><strong>Responsabilidade:</strong> ConfiguraÃ§Ãµes, notificaÃ§Ãµes e auditoria</p>
<pre><code class="language-java">ConfiguracaoSistema (Aggregate Root)
â”œâ”€â”€ Notificacao (Entity)
â””â”€â”€ LogAuditoriaLgpd (Entity)
</code></pre>
<hr>
<h2 id="-entidades-detalhadas">ğŸ›ï¸ Entidades Detalhadas</h2><h3 id="strongagregado-institutionalstrong-"><strong>AGREGADO INSTITUTIONAL</strong> ğŸ¢</h3><hr>
<h4 id="strong1-hemocentrostrong-instituies-de-sade"><strong>1. Hemocentro</strong> - ğŸ¥ InstituiÃ§Ãµes de SaÃºde</h4><pre><code class="language-java">@Entity
@Table(name = &quot;HEMOCENTROS&quot;)
public class Hemocentro {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_HEMOCENTRO&quot;)
    private Long idHemocentro;
    // ... demais campos
}
</code></pre>
<h5 id="strong-estrutura-completastrong"><strong>ğŸ“Š Estrutura Completa:</strong></h5><table>
<thead>
<tr>
<th><strong>Categoria</strong></th>
<th><strong>Campo</strong></th>
<th><strong>Tipo</strong></th>
<th><strong>Constraint</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>IdentificaÃ§Ã£o</strong></td>
<td><code>codigoHemocentro</code></td>
<td><code>String(20)</code></td>
<td><code>UNIQUE, NOT NULL</code></td>
<td>CÃ³digo oficial ANVISA/MS</td>
</tr>
<tr>
<td></td>
<td><code>nomeHemocentro</code></td>
<td><code>String(100)</code></td>
<td><code>NOT NULL</code></td>
<td>Nome institucional</td>
</tr>
<tr>
<td></td>
<td><code>razaoSocial</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>RazÃ£o social da entidade</td>
</tr>
<tr>
<td></td>
<td><code>cnpj</code></td>
<td><code>String(14)</code></td>
<td><code>UNIQUE</code></td>
<td>CNPJ da instituiÃ§Ã£o</td>
</tr>
<tr>
<td><strong>ClassificaÃ§Ã£o</strong></td>
<td><code>tipoHemocentro</code></td>
<td><code>String(30)</code></td>
<td><code>NOT NULL</code></td>
<td>COORDENADOR/REGIONAL/LOCAL</td>
</tr>
<tr>
<td></td>
<td><code>nivelAtencao</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>PRIMARIO/MEDIO/ALTO</td>
</tr>
<tr>
<td><strong>EndereÃ§o</strong></td>
<td><code>logradouro</code></td>
<td><code>String(100)</code></td>
<td><code>NOT NULL</code></td>
<td>EndereÃ§o completo</td>
</tr>
<tr>
<td></td>
<td><code>numero</code></td>
<td><code>String(10)</code></td>
<td><code>NOT NULL</code></td>
<td>NÃºmero do endereÃ§o</td>
</tr>
<tr>
<td></td>
<td><code>cidade</code></td>
<td><code>String(50)</code></td>
<td><code>NOT NULL</code></td>
<td>Cidade</td>
</tr>
<tr>
<td></td>
<td><code>estado</code></td>
<td><code>String(2)</code></td>
<td><code>NOT NULL</code></td>
<td>UF</td>
</tr>
<tr>
<td></td>
<td><code>cep</code></td>
<td><code>String(10)</code></td>
<td><code>NOT NULL</code></td>
<td>CEP</td>
</tr>
<tr>
<td><strong>Contatos</strong></td>
<td><code>telefonePrincipal</code></td>
<td><code>String(15)</code></td>
<td><code>NOT NULL</code></td>
<td>Telefone principal</td>
</tr>
<tr>
<td></td>
<td><code>emailInstitucional</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Email oficial</td>
</tr>
<tr>
<td></td>
<td><code>siteWeb</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Site institucional</td>
</tr>
<tr>
<td><strong>Responsabilidade</strong></td>
<td><code>diretorTecnico</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Nome do diretor tÃ©cnico</td>
</tr>
<tr>
<td></td>
<td><code>crmDiretor</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>CRM do diretor</td>
</tr>
<tr>
<td></td>
<td><code>responsavelTecnico</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>ResponsÃ¡vel tÃ©cnico</td>
</tr>
<tr>
<td><strong>Operacional</strong></td>
<td><code>capacidadeColetasDia</code></td>
<td><code>Integer</code></td>
<td></td>
<td>DoaÃ§Ãµes por dia</td>
</tr>
<tr>
<td></td>
<td><code>horarioFuncionamento</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Ex: &quot;07:00-17:00&quot;</td>
</tr>
<tr>
<td></td>
<td><code>funcionaFeriados</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Funciona em feriados</td>
</tr>
<tr>
<td><strong>Licenciamento</strong></td>
<td><code>dataLicenciamento</code></td>
<td><code>LocalDate</code></td>
<td></td>
<td>Data da licenÃ§a</td>
</tr>
<tr>
<td></td>
<td><code>numeroLicenca</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>NÃºmero da licenÃ§a</td>
</tr>
<tr>
<td></td>
<td><code>orgaoLicenciador</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>ANVISA (padrÃ£o)</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticas-especiaisstrong"><strong>ğŸ¯ CaracterÃ­sticas Especiais:</strong></h5><ul>
<li><strong>Hierarquia Institucional:</strong> Suporta rede de hemocentros</li>
<li><strong>Compliance RegulatÃ³rio:</strong> Dados ANVISA completos</li>
<li><strong>GestÃ£o Operacional:</strong> Capacidade e horÃ¡rios</li>
<li><strong>Responsabilidade MÃ©dica:</strong> CRM obrigatÃ³rio</li>
</ul>
<h5 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h5><pre><code class="language-java">// 1:N com Users (hemocentro principal dos usuÃ¡rios)
@OneToMany(mappedBy = &quot;hemocentroPrincipal&quot;)
private List&lt;User&gt; usuarios;

// 1:N com Doadores (hemocentro de cadastro)  
@OneToMany(mappedBy = &quot;hemocentroCadastro&quot;)
private List&lt;Doador&gt; doadores;
</code></pre>
<hr>
<h4 id="strong2-userstrong-usurios-do-sistema"><strong>2. User</strong> - ğŸ‘¤ UsuÃ¡rios do Sistema</h4><pre><code class="language-java">@Entity
@Table(name = &quot;USERS&quot;)
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY) 
    @Column(name = &quot;ID_USER&quot;)
    private Long idUser;
    // ... demais campos
}
</code></pre>
<h5 id="strong-estrutura-completastrong"><strong>ğŸ“Š Estrutura Completa:</strong></h5><table>
<thead>
<tr>
<th><strong>Categoria</strong></th>
<th><strong>Campo</strong></th>
<th><strong>Tipo</strong></th>
<th><strong>Constraint</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>IdentificaÃ§Ã£o</strong></td>
<td><code>fullName</code></td>
<td><code>String(100)</code></td>
<td><code>NOT NULL</code></td>
<td>Nome completo</td>
</tr>
<tr>
<td></td>
<td><code>cpf</code></td>
<td><code>String(11)</code></td>
<td><code>UNIQUE, NOT NULL</code></td>
<td>CPF Ãºnico</td>
</tr>
<tr>
<td></td>
<td><code>email</code></td>
<td><code>String(100)</code></td>
<td><code>UNIQUE, NOT NULL</code></td>
<td>Email para login</td>
</tr>
<tr>
<td><strong>SeguranÃ§a</strong></td>
<td><code>senhaHash</code></td>
<td><code>String(255)</code></td>
<td><code>NOT NULL</code></td>
<td>Senha criptografada</td>
</tr>
<tr>
<td><strong>Profissional</strong></td>
<td><code>registroProfissional</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>CRM, COREN, CRF</td>
</tr>
<tr>
<td></td>
<td><code>conselhoClasse</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>CRM, COREN, CRF</td>
</tr>
<tr>
<td></td>
<td><code>ufRegistro</code></td>
<td><code>String(2)</code></td>
<td></td>
<td>Estado do registro</td>
</tr>
<tr>
<td><strong>Contato</strong></td>
<td><code>telefonePrincipal</code></td>
<td><code>String(15)</code></td>
<td></td>
<td>Telefone principal</td>
</tr>
<tr>
<td></td>
<td><code>telefoneSecundario</code></td>
<td><code>String(15)</code></td>
<td></td>
<td>Telefone secundÃ¡rio</td>
</tr>
<tr>
<td><strong>EndereÃ§o</strong></td>
<td><code>logradouro</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>EndereÃ§o residencial</td>
</tr>
<tr>
<td></td>
<td><code>numero</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>NÃºmero</td>
</tr>
<tr>
<td></td>
<td><code>cidade</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Cidade</td>
</tr>
<tr>
<td></td>
<td><code>estado</code></td>
<td><code>String(2)</code></td>
<td></td>
<td>UF</td>
</tr>
<tr>
<td></td>
<td><code>cep</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>CEP</td>
</tr>
<tr>
<td><strong>Sistema</strong></td>
<td><code>contaAtiva</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Conta ativa/inativa</td>
</tr>
<tr>
<td></td>
<td><code>lastLogin</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Ãšltimo acesso</td>
</tr>
<tr>
<td><strong>Auditoria</strong></td>
<td><code>createdAt</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Data de criaÃ§Ã£o</td>
</tr>
<tr>
<td></td>
<td><code>updatedAt</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Ãšltima atualizaÃ§Ã£o</td>
</tr>
</tbody></table>
<h5 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h5><pre><code class="language-java">// N:1 com UserRole (EAGER - sempre precisa para autorizaÃ§Ã£o)
@ManyToOne(fetch = FetchType.EAGER)
@JoinColumn(name = &quot;ID_ROLE&quot;, nullable = false)
private UserRole userRole;

// N:1 com Hemocentro (LAZY - carrega sob demanda)
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_HEMOCENTRO_PRINCIPAL&quot;)
private Hemocentro hemocentroPrincipal;

// 1:N com UserSetor (LAZY - pode ser lista grande)
@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;UserSetor&gt; setores = new ArrayList&lt;&gt;();
</code></pre>
<h5 id="strong-caractersticas-especiaisstrong"><strong>ğŸ¯ CaracterÃ­sticas Especiais:</strong></h5><ul>
<li><strong>Multi-Setor:</strong> Um usuÃ¡rio pode atuar em vÃ¡rios setores</li>
<li><strong>Rastreabilidade Profissional:</strong> CRM/COREN obrigatÃ³rio para mÃ©dicos</li>
<li><strong>SeguranÃ§a:</strong> Senha hash + auditoria de acesso</li>
<li><strong>Flexibilidade:</strong> EndereÃ§o e contatos opcionais</li>
</ul>
<hr>
<h4 id="strong3-userrolestrong-perfis-de-acesso"><strong>3. UserRole</strong> - ğŸ” Perfis de Acesso</h4><pre><code class="language-java">@Entity
@Table(name = &quot;USER_ROLES&quot;)
public class UserRole {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_ROLE&quot;)
    private Long idRole;
    
    @Column(name = &quot;NOME_ROLE&quot;, nullable = false, unique = true, length = 50)
    private String nomeRole;
    
    @Column(name = &quot;NIVEL_ACESSO&quot;, nullable = false)
    private Integer nivelAcesso;
    
    @Column(name = &quot;ATIVO&quot;, nullable = false)
    private Boolean ativo = true;
}
</code></pre>
<h5 id="strong-hierarquia-rbacstrong"><strong>ğŸ“Š Hierarquia RBAC:</strong></h5><table>
<thead>
<tr>
<th><strong>Role</strong></th>
<th><strong>NÃ­vel</strong></th>
<th><strong>PermissÃµes</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>ADMINISTRADOR</code></td>
<td>4</td>
<td>Acesso total</td>
<td>GestÃ£o completa do sistema</td>
</tr>
<tr>
<td><code>MEDICO</code></td>
<td>3</td>
<td>ValidaÃ§Ã£o mÃ©dica + dados clÃ­nicos</td>
<td>Triagem, validaÃ§Ã£o de doenÃ§as</td>
</tr>
<tr>
<td><code>ENFERMEIRO</code></td>
<td>3</td>
<td>Triagem + coleta</td>
<td>Procedimentos de enfermagem</td>
</tr>
<tr>
<td><code>ATENDENTE</code></td>
<td>2</td>
<td>Cadastro + agendamento</td>
<td>Atendimento ao pÃºblico</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticasstrong"><strong>ğŸ¯ CaracterÃ­sticas:</strong></h5><ul>
<li><strong>HierÃ¡rquico:</strong> NÃ­veis numÃ©ricos para fÃ¡cil comparaÃ§Ã£o</li>
<li><strong>ExtensÃ­vel:</strong> Novos roles facilmente adicionados</li>
<li><strong>AtivaÃ§Ã£o:</strong> Controle de ativo/inativo</li>
<li><strong>Ãšnico:</strong> Nome do role Ãºnico no sistema</li>
</ul>
<hr>
<h4 id="strong4-setoratuacaostrong-setores-de-trabalho"><strong>4. SetorAtuacao</strong> - ğŸ¢ Setores de Trabalho</h4><pre><code class="language-java">@Entity
@Table(name = &quot;SETORES_ATUACAO&quot;)
public class SetorAtuacao {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_SETOR&quot;)
    private Long idSetor;

    @Column(name = &quot;NOME_SETOR&quot;, length = 50, nullable = false, unique = true)
    private String nomeSetor;

    @Column(name = &quot;DESCRICAO&quot;, length = 200)
    private String descricao;

    @Column(name = &quot;ATIVO&quot;)
    private Boolean ativo = true;
}
</code></pre>
<h5 id="strong-setores-padrostrong"><strong>ğŸ“‹ Setores PadrÃ£o:</strong></h5><table>
<thead>
<tr>
<th><strong>Setor</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
<th><strong>Exemplo de Atividade</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>TRIAGEM</code></td>
<td>Triagem clÃ­nica e entrevista</td>
<td>AvaliaÃ§Ã£o de doadores</td>
</tr>
<tr>
<td><code>COLETA</code></td>
<td>Coleta de sangue</td>
<td>Procedimentos de doaÃ§Ã£o</td>
</tr>
<tr>
<td><code>LABORATORIO</code></td>
<td>AnÃ¡lises laboratoriais</td>
<td>Testes de sangue</td>
</tr>
<tr>
<td><code>ADMINISTRACAO</code></td>
<td>GestÃ£o administrativa</td>
<td>Controle de sistemas</td>
</tr>
<tr>
<td><code>ESTOQUE</code></td>
<td>Controle de bolsas</td>
<td>GestÃ£o de inventory</td>
</tr>
<tr>
<td><code>ATENDIMENTO</code></td>
<td>RecepÃ§Ã£o e atendimento</td>
<td>Atendimento ao pÃºblico</td>
</tr>
<tr>
<td><code>ENFERMAGEM</code></td>
<td>SupervisÃ£o de enfermagem</td>
<td>Cuidados gerais</td>
</tr>
<tr>
<td><code>DIRECAO_TECNICA</code></td>
<td>DireÃ§Ã£o tÃ©cnica</td>
<td>Responsabilidade mÃ©dica</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticasstrong"><strong>ğŸ¯ CaracterÃ­sticas:</strong></h5><ul>
<li><strong>FlexÃ­vel:</strong> Novos setores facilmente adicionados</li>
<li><strong>Ãšnico:</strong> Nome do setor Ãºnico</li>
<li><strong>Soft Delete:</strong> Campo ativo para histÃ³rico</li>
<li><strong>Descritivo:</strong> DescriÃ§Ã£o opcional para documentaÃ§Ã£o</li>
</ul>
<hr>
<h4 id="strong5-usersetorstrong-relacionamento-multi-setor"><strong>5. UserSetor</strong> - ğŸ”„ Relacionamento Multi-Setor</h4><pre><code class="language-java">@Entity
@Table(name = &quot;USER_SETORES&quot;, 
       uniqueConstraints = @UniqueConstraint(columnNames = {&quot;ID_USER&quot;, &quot;ID_SETOR&quot;, &quot;ATIVO&quot;}))
public class UserSetor {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_USER_SETOR&quot;)
    private Long idUserSetor;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_USER&quot;, nullable = false)
    private User user;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_SETOR&quot;, nullable = false)
    private SetorAtuacao setor;

    @Column(name = &quot;IS_SETOR_PRINCIPAL&quot;)
    private Boolean setorPrincipal = false;

    @Column(name = &quot;DATA_INICIO&quot;)
    private LocalDate dataInicio;

    @Column(name = &quot;DATA_FIM&quot;)
    private LocalDate dataFim;

    @Column(name = &quot;OBSERVACOES&quot;, length = 255)
    private String observacoes;

    @Column(name = &quot;ATIVO&quot;)
    private Boolean ativo = true;

    @Column(name = &quot;CREATED_AT&quot;)
    private LocalDateTime createdAt;

    @PrePersist
    protected void onCreate() {
        createdAt = LocalDateTime.now();
        if (dataInicio == null) {
            dataInicio = LocalDate.now();
        }
    }
}
</code></pre>
<h5 id="strong-caractersticas-avanadasstrong"><strong>ğŸ¯ CaracterÃ­sticas AvanÃ§adas:</strong></h5><p><strong>Multi-Setor SimultÃ¢neo:</strong></p>
<pre><code class="language-java">// Exemplo: Enfermeira Maria
// TRIAGEM (principal) - manhÃ£
// COLETA (secundÃ¡rio) - tarde  
// EMERGENCIA (eventual) - quando necessÃ¡rio
</code></pre>
<p><strong>Controle Temporal:</strong></p>
<ul>
<li><code>dataInicio</code>: Quando comeÃ§ou no setor</li>
<li><code>dataFim</code>: Quando saiu (para histÃ³rico)</li>
<li><code>ativo</code>: Status atual</li>
</ul>
<p><strong>Setor Principal:</strong></p>
<ul>
<li>Apenas um setor pode ser principal por usuÃ¡rio</li>
<li>Business rule aplicada no service</li>
</ul>
<p><strong>Unique Constraint:</strong></p>
<pre><code class="language-java">@UniqueConstraint(columnNames = {&quot;ID_USER&quot;, &quot;ID_SETOR&quot;, &quot;ATIVO&quot;})
// Impede duplicaÃ§Ã£o de usuÃ¡rio no mesmo setor ativo
</code></pre>
<h5 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h5><pre><code class="language-java">// N:1 com User (LAZY - carrega sob demanda)
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_USER&quot;, nullable = false)
private User user;

// N:1 com SetorAtuacao (LAZY - carrega sob demanda)  
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_SETOR&quot;, nullable = false)
private SetorAtuacao setor;
</code></pre>
<hr>
<h3 id="strongagregado-donorstrong-"><strong>AGREGADO DONOR</strong> ğŸ©¸</h3><hr>
<h4 id="strong6-doadorstrong-doadores-de-sangue"><strong>6. Doador</strong> - ğŸ‘¤ Doadores de Sangue</h4><pre><code class="language-java">@Entity
@Table(name = &quot;DOADORES&quot;)
public class Doador {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_DOADOR&quot;)
    private Long idDoador;
    // ... campos extensos
}
</code></pre>
<h5 id="strong-estrutura-completastrong"><strong>ğŸ“Š Estrutura Completa:</strong></h5><table>
<thead>
<tr>
<th><strong>Categoria</strong></th>
<th><strong>Campo</strong></th>
<th><strong>Tipo</strong></th>
<th><strong>Constraint</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>IdentificaÃ§Ã£o</strong></td>
<td><code>fullName</code></td>
<td><code>String(100)</code></td>
<td><code>NOT NULL</code></td>
<td>Nome completo</td>
</tr>
<tr>
<td></td>
<td><code>cpf</code></td>
<td><code>String(11)</code></td>
<td><code>UNIQUE, NOT NULL</code></td>
<td>CPF Ãºnico</td>
</tr>
<tr>
<td></td>
<td><code>rg</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>RG</td>
</tr>
<tr>
<td></td>
<td><code>orgaoEmissorRg</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>Ã“rgÃ£o emissor</td>
</tr>
<tr>
<td></td>
<td><code>ufRg</code></td>
<td><code>String(2)</code></td>
<td></td>
<td>UF do RG</td>
</tr>
<tr>
<td></td>
<td><code>birthDate</code></td>
<td><code>LocalDate</code></td>
<td><code>NOT NULL</code></td>
<td>Data de nascimento</td>
</tr>
<tr>
<td></td>
<td><code>gender</code></td>
<td><code>String(1)</code></td>
<td><code>NOT NULL</code></td>
<td>M/F/O</td>
</tr>
<tr>
<td><strong>Contato</strong></td>
<td><code>email</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Email pessoal</td>
</tr>
<tr>
<td></td>
<td><code>telefonePrincipal</code></td>
<td><code>String(15)</code></td>
<td></td>
<td>Telefone principal</td>
</tr>
<tr>
<td></td>
<td><code>telefoneSecundario</code></td>
<td><code>String(15)</code></td>
<td></td>
<td>Telefone secundÃ¡rio</td>
</tr>
<tr>
<td></td>
<td><code>preferenciaContato</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>EMAIL/TELEFONE/SMS/WHATSAPP</td>
</tr>
<tr>
<td><strong>EndereÃ§o Residencial</strong></td>
<td><code>logradouro</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Rua/Av</td>
</tr>
<tr>
<td></td>
<td><code>numero</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>NÃºmero</td>
</tr>
<tr>
<td></td>
<td><code>complemento</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Apto/Casa</td>
</tr>
<tr>
<td></td>
<td><code>bairro</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Bairro</td>
</tr>
<tr>
<td></td>
<td><code>cidade</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Cidade</td>
</tr>
<tr>
<td></td>
<td><code>estado</code></td>
<td><code>String(2)</code></td>
<td></td>
<td>UF</td>
</tr>
<tr>
<td></td>
<td><code>cep</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>CEP</td>
</tr>
<tr>
<td></td>
<td><code>pontoReferencia</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Ponto de referÃªncia</td>
</tr>
<tr>
<td><strong>EndereÃ§o Profissional</strong></td>
<td><code>empresa</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>Nome da empresa</td>
</tr>
<tr>
<td></td>
<td><code>logradouroTrabalho</code></td>
<td><code>String(100)</code></td>
<td></td>
<td>EndereÃ§o do trabalho</td>
</tr>
<tr>
<td></td>
<td><code>numeroTrabalho</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>NÃºmero</td>
</tr>
<tr>
<td></td>
<td><code>bairroTrabalho</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Bairro</td>
</tr>
<tr>
<td></td>
<td><code>cidadeTrabalho</code></td>
<td><code>String(50)</code></td>
<td></td>
<td>Cidade</td>
</tr>
<tr>
<td></td>
<td><code>estadoTrabalho</code></td>
<td><code>String(2)</code></td>
<td></td>
<td>UF</td>
</tr>
<tr>
<td></td>
<td><code>cepTrabalho</code></td>
<td><code>String(10)</code></td>
<td></td>
<td>CEP</td>
</tr>
<tr>
<td><strong>Dados MÃ©dicos</strong></td>
<td><code>tipoSanguineo</code></td>
<td><code>TipoSanguineo</code></td>
<td><code>NOT NULL</code></td>
<td>Tipo sanguÃ­neo</td>
</tr>
<tr>
<td></td>
<td><code>pesoKg</code></td>
<td><code>BigDecimal(5,2)</code></td>
<td></td>
<td>Peso em kg</td>
</tr>
<tr>
<td></td>
<td><code>alturaCm</code></td>
<td><code>Integer</code></td>
<td></td>
<td>Altura em cm</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td><code>statusDoador</code></td>
<td><code>String(20)</code></td>
<td></td>
<td>ATIVO/INATIVO/INAPTO</td>
</tr>
<tr>
<td></td>
<td><code>primeiraDoacao</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Primeira doaÃ§Ã£o</td>
</tr>
<tr>
<td></td>
<td><code>doadorHabitual</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>3+ doaÃ§Ãµes em 2 anos</td>
</tr>
<tr>
<td><strong>Compliance LGPD</strong></td>
<td><code>aceitaContatoCampanhas</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Campanhas de doaÃ§Ã£o</td>
</tr>
<tr>
<td></td>
<td><code>aceitaContatoEmergencia</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Contato emergencial</td>
</tr>
<tr>
<td></td>
<td><code>aceitaPesquisasCientificas</code></td>
<td><code>Boolean</code></td>
<td></td>
<td>Pesquisas cientÃ­ficas</td>
</tr>
<tr>
<td><strong>Auditoria</strong></td>
<td><code>createdAt</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Data de criaÃ§Ã£o</td>
</tr>
<tr>
<td></td>
<td><code>updatedAt</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Ãšltima atualizaÃ§Ã£o</td>
</tr>
<tr>
<td></td>
<td><code>cadastradoPor</code></td>
<td><code>User</code></td>
<td><code>NOT NULL</code></td>
<td>UsuÃ¡rio que cadastrou</td>
</tr>
<tr>
<td></td>
<td><code>deletedAt</code></td>
<td><code>LocalDateTime</code></td>
<td></td>
<td>Soft delete</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticas-especiaisstrong"><strong>ğŸ¯ CaracterÃ­sticas Especiais:</strong></h5><p><strong>EndereÃ§amento Dual:</strong></p>
<ul>
<li>EndereÃ§o residencial completo</li>
<li>EndereÃ§o profissional opcional</li>
<li>Flexibilidade para diferentes cenÃ¡rios de contato</li>
</ul>
<p><strong>Compliance LGPD:</strong></p>
<pre><code class="language-java">@Column(name = &quot;ACEITA_CONTATO_CAMPANHAS&quot;)
private Boolean aceitaContatoCampanhas; // Campanhas de doaÃ§Ã£o

@Column(name = &quot;ACEITA_CONTATO_EMERGENCIA&quot;)  
private Boolean aceitaContatoEmergencia; // EmergÃªncias mÃ©dicas

@Column(name = &quot;ACEITA_PESQUISAS_CIENTIFICAS&quot;)
private Boolean aceitaPesquisasCientificas; // Pesquisas
</code></pre>
<p><strong>Dados MÃ©dicos Precisos:</strong></p>
<pre><code class="language-java">@Column(name = &quot;PESO_KG&quot;, precision = 5, scale = 2)
private BigDecimal pesoKg; // Ex: 070.50 kg

@ManyToOne
@JoinColumn(name = &quot;ID_TIPO_SANGUINEO&quot;, nullable = false)
private TipoSanguineo tipoSanguineo; // Relacionamento obrigatÃ³rio
</code></pre>
<h5 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h5><pre><code class="language-java">// N:1 com TipoSanguineo (EAGER - sempre necessÃ¡rio)
@ManyToOne
@JoinColumn(name = &quot;ID_TIPO_SANGUINEO&quot;, nullable = false)
private TipoSanguineo tipoSanguineo;

// N:1 com Hemocentro (LAZY - carrega sob demanda)
@ManyToOne
@JoinColumn(name = &quot;ID_HEMOCENTRO_CADASTRO&quot;)
private Hemocentro hemocentroCadastro;

// N:1 com User para auditoria (LAZY)
@ManyToOne
@JoinColumn(name = &quot;CADASTRADO_POR&quot;, nullable = false)
private User cadastradoPor;

// 1:N com DoadorDoenca (LAZY - pode ser lista grande)
@OneToMany(mappedBy = &quot;doador&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;DoadorDoenca&gt; doencas = new ArrayList&lt;&gt;();
</code></pre>
<hr>
<h4 id="strong7-tiposanguineostrong-tipos-sanguneos"><strong>7. TipoSanguineo</strong> - ğŸ§¬ Tipos SanguÃ­neos</h4><pre><code class="language-java">@Entity
@Table(name = &quot;TIPOS_SANGUINEOS&quot;)
public class TipoSanguineo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_TIPO&quot;)
    private Long idTipoSanguineo;

    @Column(name = &quot;TIPO_ABO&quot;, length = 2, nullable = false)
    private String tipoAbo; // A, B, AB, O

    @Column(name = &quot;FATOR_RH&quot;, length = 1, nullable = false)
    private String fatorRh; // +, -

    @Column(name = &quot;DESCRICAO_COMPLETA&quot;, length = 5, nullable = false, unique = true)
    private String descricaoCompleta; // A+, O-, etc.

    @Column(name = &quot;PODE_DOAR_PARA&quot;, length = 100)
    private String podeDoarPara; // Lista de tipos compatÃ­veis

    @Column(name = &quot;PODE_RECEBER_DE&quot;, length = 100)
    private String podeReceberDe; // Lista de tipos compatÃ­veis

    @Column(name = &quot;PREVALENCIA_PERCENTUAL&quot;, precision = 5, scale = 2)
    private BigDecimal prevalenciaPercentual; // % na populaÃ§Ã£o

    @Column(name = &quot;ATIVO&quot;)
    private Boolean ativo;

    @Column(name = &quot;CREATED_AT&quot;)
    private LocalDateTime createdAt;

    @Column(name = &quot;UPDATED_AT&quot;)
    private LocalDateTime updatedAt;
}
</code></pre>
<h5 id="strong-tipos-sanguneos-e-compatibilidadestrong"><strong>ğŸ“Š Tipos SanguÃ­neos e Compatibilidade:</strong></h5><table>
<thead>
<tr>
<th><strong>Tipo</strong></th>
<th><strong>Pode Doar Para</strong></th>
<th><strong>Pode Receber De</strong></th>
<th><strong>PrevalÃªncia (%)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>O-</code></td>
<td>Todos</td>
<td>O-</td>
<td>6.6%</td>
</tr>
<tr>
<td><code>O+</code></td>
<td>O+, A+, B+, AB+</td>
<td>O-, O+</td>
<td>36.0%</td>
</tr>
<tr>
<td><code>A-</code></td>
<td>A-, A+, AB-, AB+</td>
<td>O-, A-</td>
<td>6.2%</td>
</tr>
<tr>
<td><code>A+</code></td>
<td>A+, AB+</td>
<td>O-, O+, A-, A+</td>
<td>34.4%</td>
</tr>
<tr>
<td><code>B-</code></td>
<td>B-, B+, AB-, AB+</td>
<td>O-, B-</td>
<td>1.4%</td>
</tr>
<tr>
<td><code>B+</code></td>
<td>B+, AB+</td>
<td>O-, O+, B-, B+</td>
<td>8.5%</td>
</tr>
<tr>
<td><code>AB-</code></td>
<td>AB-, AB+</td>
<td>O-, A-, B-, AB-</td>
<td>0.6%</td>
</tr>
<tr>
<td><code>AB+</code></td>
<td>AB+</td>
<td>Todos</td>
<td>2.5%</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticas-especiaisstrong"><strong>ğŸ¯ CaracterÃ­sticas Especiais:</strong></h5><p><strong>Modelagem CientÃ­fica:</strong></p>
<pre><code class="language-java">// Constraints do banco de dados
CHECK (TIPO_ABO IN (&#39;A&#39;, &#39;B&#39;, &#39;AB&#39;, &#39;O&#39;))
CHECK (FATOR_RH IN (&#39;+&#39;, &#39;-&#39;))
</code></pre>
<p><strong>Business Logic Integrada:</strong></p>
<pre><code class="language-java">// Strings permitem lÃ³gica flexÃ­vel
private String podeDoarPara; // &quot;O+,A+,B+,AB+&quot;
private String podeReceberDe; // &quot;O-,O+&quot;

// Dados epidemiolÃ³gicos para dashboard
private BigDecimal prevalenciaPercentual; // 36.0 para O+
</code></pre>
<p><strong>Unique Constraint:</strong></p>
<pre><code class="language-java">@Column(unique = true)
private String descricaoCompleta; // Impede duplicaÃ§Ã£o (A+, A+)
</code></pre>
<hr>
<h4 id="strong8-doencaespecificastrong-catlogo-de-doenas"><strong>8. DoencaEspecifica</strong> - ğŸ¥ CatÃ¡logo de DoenÃ§as</h4><pre><code class="language-java">@Entity
@Table(name = &quot;DOENCAS_ESPECIFICAS&quot;)
public class DoencaEspecifica {
    @Id
    @Column(name = &quot;ID_DOENCA&quot;)
    private Integer idDoenca; // ID FIXO para controle estatÃ­stico
    
    @Column(name = &quot;NOME_DOENCA&quot;, length = 100, nullable = false)
    private String nomeDoenca;
    
    @Column(name = &quot;CATEGORIA&quot;, length = 50, nullable = false)
    private String categoria;
    
    @Column(name = &quot;IMPEDE_DOACAO&quot;, nullable = false)
    private Boolean impedeDoacao;
    
    @Column(name = &quot;OBSERVACOES&quot;, length = 255)
    private String observacoes;
    
    @Column(name = &quot;ATIVO&quot;)
    private Boolean ativo = true;
}
</code></pre>
<h5 id="strong-categorizao-por-ids-fixosstrong"><strong>ğŸ“‹ CategorizaÃ§Ã£o por IDs Fixos:</strong></h5><table>
<thead>
<tr>
<th><strong>Categoria</strong></th>
<th><strong>Range IDs</strong></th>
<th><strong>Exemplos</strong></th>
<th><strong>CaracterÃ­sticas</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>CARDIOVASCULAR</strong></td>
<td>1-10</td>
<td>HipertensÃ£o (1), Infarto (2)</td>
<td>DoenÃ§as do coraÃ§Ã£o</td>
</tr>
<tr>
<td><strong>METABOLICA</strong></td>
<td>11-20</td>
<td>Diabetes Tipo 1 (11), Tipo 2 (12)</td>
<td>DistÃºrbios metabÃ³licos</td>
</tr>
<tr>
<td><strong>HEMATOLOGICA</strong></td>
<td>21-30</td>
<td>Anemia (21), Hemofilia (24)</td>
<td>DoenÃ§as do sangue</td>
</tr>
<tr>
<td><strong>INFECCIOSA</strong></td>
<td>31-50</td>
<td>Hepatite B (31), HIV (33)</td>
<td>DoenÃ§as transmissÃ­veis</td>
</tr>
<tr>
<td><strong>RESPIRATORIA</strong></td>
<td>51-60</td>
<td>Asma (51), DPOC (52)</td>
<td>Sistema respiratÃ³rio</td>
</tr>
<tr>
<td><strong>NEUROLOGICA</strong></td>
<td>61-70</td>
<td>Epilepsia (61)</td>
<td>Sistema nervoso</td>
</tr>
<tr>
<td><strong>AUTOIMUNE</strong></td>
<td>71-80</td>
<td>LÃºpus (71)</td>
<td>DoenÃ§as autoimunes</td>
</tr>
<tr>
<td><strong>PSIQUIATRICA</strong></td>
<td>81-90</td>
<td>DepressÃ£o (81)</td>
<td>SaÃºde mental</td>
</tr>
<tr>
<td><strong>OUTRAS</strong></td>
<td>91-100</td>
<td>CÃ¢ncer (91)</td>
<td>Outras condiÃ§Ãµes</td>
</tr>
</tbody></table>
<h5 id="strong-design-estratgicostrong"><strong>ğŸ¯ Design EstratÃ©gico:</strong></h5><p><strong>IDs Fixos para EstatÃ­sticas:</strong></p>
<pre><code class="language-java">@Id
@Column(name = &quot;ID_DOENCA&quot;)
private Integer idDoenca; // SEM @GeneratedValue
</code></pre>
<p><strong>Vantagem:</strong> Dashboard pode fazer estatÃ­sticas consistentes por doenÃ§a especÃ­fica.</p>
<p><strong>CategorizaÃ§Ã£o FlexÃ­vel:</strong></p>
<pre><code class="language-java">@Column(name = &quot;CATEGORIA&quot;, length = 50, nullable = false)
private String categoria; // CARDIOVASCULAR, METABOLICA, etc.
</code></pre>
<p><strong>DecisÃ£o AutomÃ¡tica:</strong></p>
<pre><code class="language-java">@Column(name = &quot;IMPEDE_DOACAO&quot;, nullable = false)
private Boolean impedeDoacao; // true = impede, false = permite com avaliaÃ§Ã£o
</code></pre>
<h5 id="strong-exemplos-de-doenasstrong"><strong>ğŸ“Š Exemplos de DoenÃ§as:</strong></h5><pre><code class="language-java">// Diabetes Tipo 1 - Impede doaÃ§Ã£o
ID: 11, Nome: &quot;Diabetes Mellitus Tipo 1&quot;, Categoria: &quot;METABOLICA&quot;, 
Impede: true, Obs: &quot;Impede doaÃ§Ã£o definitivamente&quot;

// HipertensÃ£o - Permite com controle
ID: 1, Nome: &quot;HipertensÃ£o Arterial&quot;, Categoria: &quot;CARDIOVASCULAR&quot;, 
Impede: false, Obs: &quot;Permitido se controlada sem medicaÃ§Ã£o incompatÃ­vel&quot;

// HIV - Impede doaÃ§Ã£o
ID: 33, Nome: &quot;HIV/AIDS&quot;, Categoria: &quot;INFECCIOSA&quot;, 
Impede: true, Obs: &quot;Impede doaÃ§Ã£o definitivamente&quot;
</code></pre>
<hr>
<h4 id="strong9-doadordoencastrong-histrico-mdico-com-validao"><strong>9. DoadorDoenca</strong> - ğŸ©º HistÃ³rico MÃ©dico com ValidaÃ§Ã£o</h4><pre><code class="language-java">@Entity
@Table(name = &quot;DOADOR_DOENCAS&quot;,
       uniqueConstraints = @UniqueConstraint(columnNames = {&quot;ID_DOADOR&quot;, &quot;ID_DOENCA&quot;}))
public class DoadorDoenca {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_DOADOR_DOENCA&quot;)
    private Long idDoadorDoenca;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
    private Doador doador;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOENCA&quot;, nullable = false)
    private DoencaEspecifica doenca;

    @Column(name = &quot;DATA_DIAGNOSTICO&quot;)
    private LocalDate dataDiagnostico;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;STATUS_ATUAL&quot;, length = 20)
    private StatusDoenca statusAtual = StatusDoenca.ATIVO;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;ORIGEM_DETECCAO&quot;, length = 20, nullable = false)
    private OrigemDeteccao origemDeteccao = OrigemDeteccao.DECLARADA_DOADOR;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_PROFISSIONAL_DETECTOR&quot;)
    private User profissionalDetector;

    @Column(name = &quot;VALIDADO_POR_MEDICO&quot;)
    private Boolean validadoPorMedico = false;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_MEDICO_VALIDADOR&quot;)
    private User medicoValidador;

    @Column(name = &quot;DATA_VALIDACAO_MEDICA&quot;)
    private LocalDateTime dataValidacaoMedica;

    @Column(name = &quot;OBSERVACOES&quot;, length = 255)
    private String observacoes;

    @Column(name = &quot;OBSERVACOES_MEDICAS&quot;, length = 500)
    private String observacoesMedicas;

    @Column(name = &quot;CADASTRADO_EM&quot;)
    private LocalDateTime cadastradoEm;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;CADASTRADO_POR&quot;, nullable = false)
    private User cadastradoPor;

    @PrePersist
    protected void onCreate() {
        cadastradoEm = LocalDateTime.now();
    }
}
</code></pre>
<h5 id="strong-workflow-mdico-hbridostrong"><strong>ğŸ¯ Workflow MÃ©dico HÃ­brido:</strong></h5><p><strong>CenÃ¡rio 1 - Doador Declara:</strong></p>
<pre><code class="language-java">// 1. Doador informa que tem diabetes
DoadorDoenca diabetes = new DoadorDoenca();
diabetes.setOrigemDeteccao(DECLARADA_DOADOR);
diabetes.setValidadoPorMedico(false); // Aguarda validaÃ§Ã£o
diabetes.setCadastradoPor(atendente);

// 2. MÃ©dico valida depois
diabetes.setValidadoPorMedico(true);
diabetes.setMedicoValidador(medico);
diabetes.setDataValidacaoMedica(LocalDateTime.now());
</code></pre>
<p><strong>CenÃ¡rio 2 - MÃ©dico Detecta:</strong></p>
<pre><code class="language-java">// MÃ©dico detecta hipertensÃ£o durante triagem
DoadorDoenca hipertensao = new DoadorDoenca();
hipertensao.setOrigemDeteccao(DETECTADA_MEDICO);
hipertensao.setProfissionalDetector(medico);
hipertensao.setValidadoPorMedico(true); // JÃ¡ validado
hipertensao.setMedicoValidador(medico);
</code></pre>
<p><strong>CenÃ¡rio 3 - Exame Laboratorial:</strong></p>
<pre><code class="language-java">// Resultado de exame detecta doenÃ§a
DoadorDoenca hepatite = new DoadorDoenca();
hepatite.setOrigemDeteccao(EXAME_LABORATORIAL);
hepatite.setValidadoPorMedico(false); // MÃ©dico deve avaliar resultado
</code></pre>
<h5 id="strong-estados-da-doenastrong"><strong>ğŸ“Š Estados da DoenÃ§a:</strong></h5><pre><code class="language-java">public enum StatusDoenca {
    ATIVO,      // DoenÃ§a ativa/presente
    CURADO,     // DoenÃ§a curada/superada  
    CONTROLADO  // DoenÃ§a controlada com tratamento
}

public enum OrigemDeteccao {
    DECLARADA_DOADOR,      // Doador informou
    DETECTADA_MEDICO,      // MÃ©dico detectou
    EXAME_LABORATORIAL     // Resultado de exame
}
</code></pre>
<h5 id="strong-integridade-de-dadosstrong"><strong>ğŸ”’ Integridade de Dados:</strong></h5><p><strong>Unique Constraint:</strong></p>
<pre><code class="language-java">@UniqueConstraint(columnNames = {&quot;ID_DOADOR&quot;, &quot;ID_DOENCA&quot;})
// Um doador nÃ£o pode ter a mesma doenÃ§a duplicada
</code></pre>
<p><strong>Relacionamentos ObrigatÃ³rios:</strong></p>
<pre><code class="language-java">@JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)   // Doador obrigatÃ³rio
@JoinColumn(name = &quot;ID_DOENCA&quot;, nullable = false)   // DoenÃ§a obrigatÃ³ria  
@JoinColumn(name = &quot;CADASTRADO_POR&quot;, nullable = false) // Auditoria obrigatÃ³ria
</code></pre>
<h5 id="strong-rastreabilidade-completastrong"><strong>ğŸ“ˆ Rastreabilidade Completa:</strong></h5><pre><code class="language-java">// Quem cadastrou
private User cadastradoPor;          // UsuÃ¡rio que registrou
private LocalDateTime cadastradoEm;  // Quando foi registrado

// Quem detectou (se aplicÃ¡vel)
private User profissionalDetector;   // MÃ©dico que detectou

// Quem validou
private User medicoValidador;           // MÃ©dico que validou
private LocalDateTime dataValidacaoMedica; // Quando foi validado
private Boolean validadoPorMedico;      // Status de validaÃ§Ã£o
</code></pre>
<hr>
<h4 id="strong10-consentimentolgpdstrong-compliance-de-privacidade"><strong>10. ConsentimentoLgpd</strong> - ğŸ”’ Compliance de Privacidade</h4><pre><code class="language-java">@Entity
@Table(name = &quot;CONSENTIMENTOS_LGPD&quot;)
public class ConsentimentoLgpd {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_CONSENTIMENTO&quot;)
    private Long idConsentimento;
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
    private Doador doador;
    
    @Column(name = &quot;TIPO_CONSENTIMENTO&quot;, length = 50, nullable = false)
    private String tipoConsentimento; // CADASTRO, CONTATO, PESQUISA
    
    @Column(name = &quot;CONSENTIMENTO_DADO&quot;, nullable = false)
    private Boolean consentimentoDado;
    
    @Column(name = &quot;FINALIDADE&quot;, length = 255, nullable = false)
    private String finalidade;
    
    @Column(name = &quot;DATA_CONSENTIMENTO&quot;)
    private LocalDateTime dataConsentimento;
    
    @Column(name = &quot;DATA_REVOGACAO&quot;)
    private LocalDateTime dataRevogacao;
}
</code></pre>
<h5 id="strong-tipos-de-consentimentostrong"><strong>ğŸ“‹ Tipos de Consentimento:</strong></h5><table>
<thead>
<tr>
<th><strong>Tipo</strong></th>
<th><strong>Finalidade</strong></th>
<th><strong>Exemplo</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>CADASTRO</code></td>
<td>Armazenamento de dados pessoais</td>
<td>&quot;Autorizo armazenamento dos meus dados para doaÃ§Ã£o&quot;</td>
</tr>
<tr>
<td><code>CONTATO</code></td>
<td>ComunicaÃ§Ã£o para campanhas</td>
<td>&quot;Aceito receber contatos sobre campanhas de doaÃ§Ã£o&quot;</td>
</tr>
<tr>
<td><code>EMERGENCIA</code></td>
<td>Contato em emergÃªncias</td>
<td>&quot;Autorizo contato em situaÃ§Ãµes de emergÃªncia mÃ©dica&quot;</td>
</tr>
<tr>
<td><code>PESQUISA</code></td>
<td>ParticipaÃ§Ã£o em pesquisas</td>
<td>&quot;Aceito participar de pesquisas cientÃ­ficas&quot;</td>
</tr>
<tr>
<td><code>MARKETING</code></td>
<td>ComunicaÃ§Ãµes promocionais</td>
<td>&quot;Aceito receber newsletters e materiais informativos&quot;</td>
</tr>
</tbody></table>
<h5 id="strong-caractersticas-lgpdstrong"><strong>ğŸ¯ CaracterÃ­sticas LGPD:</strong></h5><p><strong>Granularidade:</strong></p>
<ul>
<li>Consentimentos especÃ­ficos por finalidade</li>
<li>Possibilidade de aceitar uns e recusar outros</li>
</ul>
<p><strong>Rastreabilidade:</strong></p>
<pre><code class="language-java">private LocalDateTime dataConsentimento; // Quando foi dado
private LocalDateTime dataRevogacao;     // Quando foi revogado (se aplicÃ¡vel)
</code></pre>
<p><strong>Flexibilidade:</strong></p>
<pre><code class="language-java">private Boolean consentimentoDado; // true = aceito, false = recusado
// Permite histÃ³rico de mudanÃ§as de opiniÃ£o
</code></pre>
<hr>
<h3 id="1-stronguserstrong-usurios-do-sistema">1. <strong>User</strong> - UsuÃ¡rios do Sistema</h3><pre><code class="language-java">@Entity
@Table(name=&quot;USERS&quot;)
public class User {
    // Campos e relacionamentos...
}
</code></pre>
<h4 id="strong-campos-principaisstrong"><strong>ğŸ“Š Campos Principais:</strong></h4><table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>AnotaÃ§Ã£o</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody><tr>
<td><code>idUser</code></td>
<td><code>Long</code></td>
<td><code>@Id @GeneratedValue</code></td>
<td>PK auto-incremento</td>
</tr>
<tr>
<td><code>fullName</code></td>
<td><code>String(100)</code></td>
<td><code>@Column(nullable=false)</code></td>
<td>Nome completo obrigatÃ³rio</td>
</tr>
<tr>
<td><code>cpf</code></td>
<td><code>String(11)</code></td>
<td><code>@Column(unique=true)</code></td>
<td>CPF Ãºnico no sistema</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>String(100)</code></td>
<td><code>@Column(unique=true)</code></td>
<td>Email Ãºnico para login</td>
</tr>
<tr>
<td><code>senhaHash</code></td>
<td><code>String(255)</code></td>
<td><code>@Column(nullable=false)</code></td>
<td>Senha criptografada</td>
</tr>
</tbody></table>
<h4 id="strong-dados-profissionaisstrong"><strong>ğŸ¥ Dados Profissionais:</strong></h4><pre><code class="language-java">@Column(name = &quot;REGISTRO_PROFISSIONAL&quot;, length = 20)
private String registroProfissional; // CRM, COREN, CRF, etc.

@Column(name = &quot;CONSELHO_CLASSE&quot;, length = 10) 
private String conselhoClasse; // CRM, COREN, CRF

@Column(name = &quot;UF_REGISTRO&quot;, length = 2)
private String ufRegistro; // Estado do registro
</code></pre>
<p><strong>ğŸ’¡ ExplicaÃ§Ã£o:</strong> Permite rastreabilidade profissional completa, essencial para responsabilidade mÃ©dica e auditoria.</p>
<h4 id="strong-endereo-completostrong"><strong>ğŸ  EndereÃ§o Completo:</strong></h4><pre><code class="language-java">@Column(name = &quot;LOGRADOURO&quot;, length = 100)
private String logradouro;
// ... demais campos de endereÃ§o
</code></pre>
<p><strong>ğŸ’¡ ExplicaÃ§Ã£o:</strong> EndereÃ§o completo para contato e documentaÃ§Ã£o institucional.</p>
<h4 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h4><pre><code class="language-java">// Relacionamento com Role (N:1)
@ManyToOne(fetch = FetchType.EAGER)
@JoinColumn(name = &quot;ID_ROLE&quot;, nullable = false)
private UserRole userRole;

// Relacionamento com Hemocentro (N:1)
@ManyToOne(fetch = FetchType.LAZY)  
@JoinColumn(name = &quot;ID_HEMOCENTRO_PRINCIPAL&quot;)
private Hemocentro hemocentroPrincipal;

// Relacionamento com Setores (1:N) - NOVO FASE 1
@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;UserSetor&gt; setores = new ArrayList&lt;&gt;();
</code></pre>
<p><strong>ğŸ¯ EstratÃ©gias de Fetch:</strong></p>
<ul>
<li><strong>EAGER</strong> para <code>userRole</code>: Sempre necessÃ¡rio para autorizaÃ§Ã£o</li>
<li><strong>LAZY</strong> para <code>hemocentroPrincipal</code>: Carregado sob demanda</li>
<li><strong>LAZY</strong> para <code>setores</code>: Lista pode ser grande, carrega quando necessÃ¡rio</li>
</ul>
<hr>
<h3 id="2-stronguserrolestrong-perfis-de-acesso">2. <strong>UserRole</strong> - Perfis de Acesso</h3><pre><code class="language-java">@Entity
@Table(name = &quot;USER_ROLES&quot;)
public class UserRole {
    // ImplementaÃ§Ã£o...
}
</code></pre>
<h4 id="strong-estrutura-rbac-role-based-access-controlstrong"><strong>ğŸ“Š Estrutura RBAC (Role-Based Access Control):</strong></h4><pre><code class="language-java">@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Column(name = &quot;ID_ROLE&quot;)
private Long idRole;

@Column(name = &quot;NOME_ROLE&quot;, nullable = false, unique = true, length = 50)
private String nomeRole; // ADMINISTRADOR, MEDICO, ENFERMEIRO, ATENDENTE

@Column(name = &quot;NIVEL_ACESSO&quot;, nullable = false)
private Integer nivelAcesso; // 1=BÃ¡sico, 2=IntermediÃ¡rio, 3=AvanÃ§ado, 4=Admin

@Column(name = &quot;ATIVO&quot;, nullable = false)
private Boolean ativo = true;
</code></pre>
<p><strong>ğŸ’¡ Hierarquia de Acesso:</strong></p>
<ul>
<li><strong>NÃ­vel 4 (ADMINISTRADOR):</strong> Acesso total ao sistema</li>
<li><strong>NÃ­vel 3 (MEDICO/ENFERMEIRO):</strong> ValidaÃ§Ã£o mÃ©dica + dados clÃ­nicos</li>
<li><strong>NÃ­vel 2 (ATENDENTE):</strong> Cadastro bÃ¡sico + agendamentos</li>
<li><strong>NÃ­vel 1 (Futuro):</strong> Consulta limitada</li>
</ul>
<hr>
<h3 id="3-strongdoadorstrong-doadores-de-sangue">3. <strong>Doador</strong> - Doadores de Sangue</h3><pre><code class="language-java">@Entity
@Table(name = &quot;DOADORES&quot;)
public class Doador {
    // ImplementaÃ§Ã£o completa...
}
</code></pre>
<h4 id="strong-dados-pessoais-bsicosstrong"><strong>ğŸ‘¤ Dados Pessoais BÃ¡sicos:</strong></h4><pre><code class="language-java">@Column(name = &quot;FULL_NAME&quot;, length = 100, nullable = false)
private String fullName;

@Column(name = &quot;CPF&quot;, length = 11, nullable = false, unique = true)
private String cpf;

@Column(name = &quot;RG&quot;, length = 20)
private String rg;

@Column(name = &quot;BIRTH_DATE&quot;, nullable = false)
private LocalDate birthDate;

@Column(name = &quot;GENDER&quot;, length = 1, nullable = false)
private String gender; // M, F, O
</code></pre>
<p><strong>ğŸ’¡ Constraint Check:</strong> O banco implementa <code>CHECK (GENDER IN (&#39;M&#39;,&#39;F&#39;,&#39;O&#39;))</code> para validaÃ§Ã£o.</p>
<h4 id="strong-sistema-de-endereos-dualstrong"><strong>ğŸ  Sistema de EndereÃ§os Dual:</strong></h4><pre><code class="language-java">// EndereÃ§o Residencial
@Column(name = &quot;LOGRADOURO&quot;, length = 100)
private String logradouro;
// ... campos residenciais

// EndereÃ§o Profissional  
@Column(name = &quot;LOGRADOURO_TRABALHO&quot;, length = 100)
private String logradouroTrabalho;
// ... campos profissionais
</code></pre>
<p><strong>ğŸ’¡ Design AvanÃ§ado:</strong> Suporta dois endereÃ§os completos para maior flexibilidade de contato.</p>
<h4 id="strong-dados-mdicosstrong"><strong>ğŸ©¸ Dados MÃ©dicos:</strong></h4><pre><code class="language-java">@ManyToOne
@JoinColumn(name = &quot;ID_TIPO_SANGUINEO&quot;, nullable = false)
private TipoSanguineo tipoSanguineo;

@Column(name = &quot;PESO_KG&quot;, precision = 5, scale = 2)
private BigDecimal pesoKg; // PrecisÃ£o decimal para peso

@Column(name = &quot;ALTURA_CM&quot;)
private Integer alturaCm;
</code></pre>
<p><strong>ğŸ’¡ Tipos de Dados:</strong> <code>BigDecimal</code> para peso garante precisÃ£o em cÃ¡lculos mÃ©dicos.</p>
<h4 id="strong-compliance-lgpdstrong"><strong>ğŸ”’ Compliance LGPD:</strong></h4><pre><code class="language-java">@Column(name = &quot;ACEITA_CONTATO_CAMPANHAS&quot;)
private Boolean aceitaContatoCampanhas;

@Column(name = &quot;ACEITA_CONTATO_EMERGENCIA&quot;) 
private Boolean aceitaContatoEmergencia;

@Column(name = &quot;ACEITA_PESQUISAS_CIENTIFICAS&quot;)
private Boolean aceitaPesquisasCientificas;
</code></pre>
<p><strong>ğŸ’¡ Privacidade:</strong> Consentimentos granulares para diferentes finalidades.</p>
<h4 id="strong-relacionamentosstrong"><strong>ğŸ”— Relacionamentos:</strong></h4><pre><code class="language-java">// Relacionamento com DoenÃ§as (1:N) - NOVO FASE 1
@OneToMany(mappedBy = &quot;doador&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;DoadorDoenca&gt; doencas = new ArrayList&lt;&gt;();

// Auditoria
@ManyToOne
@JoinColumn(name = &quot;CADASTRADO_POR&quot;, nullable = false)
private User cadastradoPor;

// Soft Delete
@Column(name = &quot;DELETED_AT&quot;)
private LocalDateTime deletedAt;
</code></pre>
<p><strong>ğŸ’¡ Cascade ALL:</strong> DoenÃ§as sÃ£o removidas automaticamente se doador for excluÃ­do.</p>
<hr>
<h3 id="4-strongtiposanguineostrong-tipos-sanguneos-aborh">4. <strong>TipoSanguineo</strong> - Tipos SanguÃ­neos ABO/RH</h3><pre><code class="language-java">@Entity
@Table(name = &quot;TIPOS_SANGUINEOS&quot;)
public class TipoSanguineo {
    // ImplementaÃ§Ã£o cientÃ­fica...
}
</code></pre>
<h4 id="strong-modelagem-cientficastrong"><strong>ğŸ§¬ Modelagem CientÃ­fica:</strong></h4><pre><code class="language-java">@Column(name = &quot;TIPO_ABO&quot;, length = 2, nullable = false)
private String tipoAbo; // A, B, AB, O

@Column(name = &quot;FATOR_RH&quot;, length = 1, nullable = false)  
private String fatorRh; // +, -

@Column(name = &quot;DESCRICAO_COMPLETA&quot;, length = 5, nullable = false, unique = true)
private String descricaoCompleta; // A+, O-, etc.
</code></pre>
<p><strong>ğŸ’¡ Constraint:</strong> Banco valida <code>CHECK (TIPO_ABO IN (&#39;A&#39;, &#39;B&#39;, &#39;AB&#39;, &#39;O&#39;))</code> e <code>CHECK (FATOR_RH IN (&#39;+&#39;, &#39;-&#39;))</code>.</p>
<h4 id="strong-regras-de-compatibilidadestrong"><strong>ğŸ”„ Regras de Compatibilidade:</strong></h4><pre><code class="language-java">@Column(name = &quot;PODE_DOAR_PARA&quot;, length = 100)
private String podeDoarPara; // &quot;O+,A+,B+,AB+&quot;

@Column(name = &quot;PODE_RECEBER_DE&quot;, length = 100) 
private String podeReceberDe; // &quot;O-,O+&quot;

@Column(name = &quot;PREVALENCIA_PERCENTUAL&quot;, precision = 5, scale = 2)
private BigDecimal prevalenciaPercentual; // 36.0 para O+
</code></pre>
<p><strong>ğŸ’¡ Business Logic:</strong> Strings permitem lÃ³gica flexÃ­vel de compatibilidade + dados epidemiolÃ³gicos.</p>
<hr>
<h3 id="5-stronghemocentrostrong-instituies-de-sade">5. <strong>Hemocentro</strong> - InstituiÃ§Ãµes de SaÃºde</h3><pre><code class="language-java">@Entity
@Table(name = &quot;HEMOCENTROS&quot;)
public class Hemocentro {
    // ImplementaÃ§Ã£o institucional...
}
</code></pre>
<h4 id="strong-dados-institucionaisstrong"><strong>ğŸ¥ Dados Institucionais:</strong></h4><pre><code class="language-java">@Column(name = &quot;CODIGO_HEMOCENTRO&quot;, length = 20, nullable = false, unique = true)
private String codigoHemocentro; // CÃ³digo ANVISA/MS

@Column(name = &quot;CNPJ&quot;, length = 14, unique = true)
private String cnpj;

@Column(name = &quot;TIPO_HEMOCENTRO&quot;, length = 30, nullable = false)
private String tipoHemocentro; // COORDENADOR, REGIONAL, LOCAL, NUCLEO
</code></pre>
<p><strong>ğŸ’¡ ClassificaÃ§Ã£o:</strong> Suporta hierarquia completa da rede de hemocentros.</p>
<h4 id="strong-responsabilidade-tcnicastrong"><strong>ğŸ‘¨â€âš•ï¸ Responsabilidade TÃ©cnica:</strong></h4><pre><code class="language-java">@Column(name = &quot;DIRETOR_TECNICO&quot;, length = 100)
private String diretorTecnico;

@Column(name = &quot;CRM_DIRETOR&quot;, length = 20)
private String crmDiretor;

@Column(name = &quot;RESPONSAVEL_TECNICO&quot;, length = 100)
private String responsavelTecnico;
</code></pre>
<p><strong>ğŸ’¡ Compliance:</strong> Atende exigÃªncias legais de responsabilidade mÃ©dica.</p>
<h4 id="strong-dados-operacionaisstrong"><strong>âš™ï¸ Dados Operacionais:</strong></h4><pre><code class="language-java">@Column(name = &quot;CAPACIDADE_COLETAS_DIA&quot;)
private Integer capacidadeColetasDia;

@Column(name = &quot;HORARIO_FUNCIONAMENTO&quot;, length = 100)
private String horarioFuncionamento; // &quot;07:00-17:00&quot;

@Column(name = &quot;FUNCIONA_FERIADOS&quot;)
private Boolean funcionaFeriados;
</code></pre>
<p><strong>ğŸ’¡ Planejamento:</strong> Suporta gestÃ£o operacional e agendamentos.</p>
<hr>
<h2 id="-entidades-fase-1-implementadas">ğŸš€ Entidades FASE 1 (Implementadas)</h2><h3 id="6-strongsetoratuacaostrong-setores-de-trabalho">6. <strong>SetorAtuacao</strong> - Setores de Trabalho</h3><pre><code class="language-java">@Entity
@Table(name = &quot;SETORES_ATUACAO&quot;)
public class SetorAtuacao {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_SETOR&quot;)
    private Long idSetor;

    @Column(name = &quot;NOME_SETOR&quot;, length = 50, nullable = false, unique = true)
    private String nomeSetor;

    @Column(name = &quot;DESCRICAO&quot;, length = 200)
    private String descricao;

    @Column(name = &quot;ATIVO&quot;)
    private Boolean ativo = true;
}
</code></pre>
<h4 id="strong-caractersticasstrong"><strong>ğŸ¯ CaracterÃ­sticas:</strong></h4><ul>
<li><strong>Unique Constraint:</strong> <code>nomeSetor</code> Ãºnico previne duplicatas</li>
<li><strong>Soft Delete:</strong> Campo <code>ativo</code> para desativaÃ§Ã£o sem perder histÃ³rico</li>
<li><strong>DescriÃ§Ã£o Opcional:</strong> Flexibilidade para documentar cada setor</li>
</ul>
<h4 id="strong-setores-padrostrong"><strong>ğŸ“‹ Setores PadrÃ£o:</strong></h4><ol>
<li><strong>TRIAGEM</strong> - Triagem clÃ­nica e entrevista</li>
<li><strong>COLETA</strong> - Coleta de sangue e procedimentos</li>
<li><strong>LABORATORIO</strong> - AnÃ¡lises laboratoriais</li>
<li><strong>ADMINISTRACAO</strong> - GestÃ£o administrativa</li>
<li><strong>ESTOQUE</strong> - Controle de bolsas</li>
<li><strong>ATENDIMENTO</strong> - RecepÃ§Ã£o e atendimento</li>
<li><strong>ENFERMAGEM</strong> - SupervisÃ£o de enfermagem</li>
<li><strong>DIRECAO_TECNICA</strong> - DireÃ§Ã£o tÃ©cnica</li>
</ol>
<hr>
<h3 id="7-strongusersetorstrong-relacionamento-multi-setor">7. <strong>UserSetor</strong> - Relacionamento Multi-Setor</h3><pre><code class="language-java">@Entity
@Table(name = &quot;USER_SETORES&quot;, 
       uniqueConstraints = @UniqueConstraint(columnNames = {&quot;ID_USER&quot;, &quot;ID_SETOR&quot;, &quot;ATIVO&quot;}))
public class UserSetor {
    // ImplementaÃ§Ã£o N:N...
}
</code></pre>
<h4 id="strong-relacionamentos-nnstrong"><strong>ğŸ”— Relacionamentos N:N:</strong></h4><pre><code class="language-java">@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_USER&quot;, nullable = false)
private User user;

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_SETOR&quot;, nullable = false)
private SetorAtuacao setor;
</code></pre>
<p><strong>ğŸ’¡ Fetch LAZY:</strong> OtimizaÃ§Ã£o para nÃ£o carregar objetos relacionados desnecessariamente.</p>
<h4 id="strong-setor-principalstrong"><strong>â­ Setor Principal:</strong></h4><pre><code class="language-java">@Column(name = &quot;IS_SETOR_PRINCIPAL&quot;)
private Boolean setorPrincipal = false;
</code></pre>
<p><strong>ğŸ’¡ Business Rule:</strong> Apenas um setor pode ser principal por usuÃ¡rio ativo.</p>
<h4 id="strong-controle-temporalstrong"><strong>ğŸ“… Controle Temporal:</strong></h4><pre><code class="language-java">@Column(name = &quot;DATA_INICIO&quot;)
private LocalDate dataInicio;

@Column(name = &quot;DATA_FIM&quot;)
private LocalDate dataFim;

@Column(name = &quot;ATIVO&quot;)
private Boolean ativo = true;
</code></pre>
<p><strong>ğŸ’¡ HistÃ³rico:</strong> Permite rastrear perÃ­odos de atuaÃ§Ã£o em cada setor.</p>
<h4 id="strong-unique-constraintstrong"><strong>ğŸ”’ Unique Constraint:</strong></h4><pre><code class="language-java">@UniqueConstraint(columnNames = {&quot;ID_USER&quot;, &quot;ID_SETOR&quot;, &quot;ATIVO&quot;})
</code></pre>
<p><strong>ğŸ’¡ Integridade:</strong> Impede que usuÃ¡rio tenha vÃ­nculo duplicado ativo com mesmo setor.</p>
<h4 id="strong-auto-preenchimentostrong"><strong>ğŸ•°ï¸ Auto-Preenchimento:</strong></h4><pre><code class="language-java">@PrePersist
protected void onCreate() {
    createdAt = LocalDateTime.now();
    if (dataInicio == null) {
        dataInicio = LocalDate.now();
    }
}
</code></pre>
<p><strong>ğŸ’¡ JPA Lifecycle:</strong> <code>@PrePersist</code> executa antes de salvar no banco.</p>
<hr>
<h3 id="8-strongdoencaespecificastrong-catlogo-de-doenas">8. <strong>DoencaEspecifica</strong> - CatÃ¡logo de DoenÃ§as</h3><pre><code class="language-java">@Entity
@Table(name = &quot;DOENCAS_ESPECIFICAS&quot;)
public class DoencaEspecifica {
    @Id
    @Column(name = &quot;ID_DOENCA&quot;)
    private Integer idDoenca; // ID FIXO para controle estatÃ­stico
    
    // Campos...
}
</code></pre>
<h4 id="strong-id-fixo-estratgicostrong"><strong>ğŸ”¢ ID Fixo EstratÃ©gico:</strong></h4><p><strong>ğŸ’¡ Design Decision:</strong> <code>@Id</code> sem <code>@GeneratedValue</code> permite IDs fixos para controle estatÃ­stico:</p>
<ul>
<li><strong>IDs 1-10:</strong> DoenÃ§as cardiovasculares</li>
<li><strong>IDs 11-20:</strong> DoenÃ§as metabÃ³licas/endÃ³crinas  </li>
<li><strong>IDs 21-30:</strong> DoenÃ§as hematolÃ³gicas</li>
<li><strong>IDs 31-50:</strong> DoenÃ§as infecciosas</li>
<li><strong>IDs 51-60:</strong> DoenÃ§as respiratÃ³rias</li>
<li><strong>IDs 61-70:</strong> DoenÃ§as neurolÃ³gicas</li>
<li><strong>IDs 71-80:</strong> DoenÃ§as autoimunes</li>
<li><strong>IDs 81-90:</strong> DoenÃ§as psiquiÃ¡tricas</li>
<li><strong>IDs 91-100:</strong> Outras doenÃ§as</li>
</ul>
<h4 id="strong-categorizaostrong"><strong>ğŸ“Š CategorizaÃ§Ã£o:</strong></h4><pre><code class="language-java">@Column(name = &quot;CATEGORIA&quot;, length = 50, nullable = false)
private String categoria; // CARDIOVASCULAR, METABOLICA, INFECCIOSA, etc.

@Column(name = &quot;IMPEDE_DOACAO&quot;, nullable = false)
private Boolean impedeDoacao; // true = impede doaÃ§Ã£o
</code></pre>
<p><strong>ğŸ’¡ Business Logic:</strong> Permite filtros por categoria e decisÃµes automÃ¡ticas de elegibilidade.</p>
<hr>
<h3 id="9-strongdoadordoencastrong-histrico-mdico-com-validao">9. <strong>DoadorDoenca</strong> - HistÃ³rico MÃ©dico com ValidaÃ§Ã£o</h3><pre><code class="language-java">@Entity
@Table(name = &quot;DOADOR_DOENCAS&quot;,
       uniqueConstraints = @UniqueConstraint(columnNames = {&quot;ID_DOADOR&quot;, &quot;ID_DOENCA&quot;}))
public class DoadorDoenca {
    // ImplementaÃ§Ã£o complexa...
}
</code></pre>
<h4 id="strong-relacionamentos-principaisstrong"><strong>ğŸ”— Relacionamentos Principais:</strong></h4><pre><code class="language-java">@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
private Doador doador;

@ManyToOne(fetch = FetchType.LAZY)  
@JoinColumn(name = &quot;ID_DOENCA&quot;, nullable = false)
private DoencaEspecifica doenca;
</code></pre>
<h4 id="strong-status-e-origemstrong"><strong>ğŸ“Š Status e Origem:</strong></h4><pre><code class="language-java">@Enumerated(EnumType.STRING)
@Column(name = &quot;STATUS_ATUAL&quot;, length = 20)
private StatusDoenca statusAtual = StatusDoenca.ATIVO;

@Enumerated(EnumType.STRING)
@Column(name = &quot;ORIGEM_DETECCAO&quot;, length = 20, nullable = false)
private OrigemDeteccao origemDeteccao = OrigemDeteccao.DECLARADA_DOADOR;
</code></pre>
<p><strong>ğŸ’¡ Enum Strategy:</strong> <code>EnumType.STRING</code> armazena texto legÃ­vel no banco (vs. ordinais).</p>
<h4 id="strong-workflow-de-validao-mdicastrong"><strong>ğŸ‘¨â€âš•ï¸ Workflow de ValidaÃ§Ã£o MÃ©dica:</strong></h4><pre><code class="language-java">@Column(name = &quot;VALIDADO_POR_MEDICO&quot;)
private Boolean validadoPorMedico = false;

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_MEDICO_VALIDADOR&quot;)
private User medicoValidador;

@Column(name = &quot;DATA_VALIDACAO_MEDICA&quot;)
private LocalDateTime dataValidacaoMedica;
</code></pre>
<p><strong>ğŸ’¡ Workflow HÃ­brido:</strong></p>
<ol>
<li><strong>Doador declara</strong> â†’ <code>validadoPorMedico = false</code></li>
<li><strong>MÃ©dico valida</strong> â†’ <code>validadoPorMedico = true</code> + timestamp</li>
<li><strong>Rastreabilidade completa</strong> preservada</li>
</ol>
<h4 id="strong-unique-constraintstrong"><strong>ğŸ”’ Unique Constraint:</strong></h4><pre><code class="language-java">@UniqueConstraint(columnNames = {&quot;ID_DOADOR&quot;, &quot;ID_DOENCA&quot;})
</code></pre>
<p><strong>ğŸ’¡ Integridade:</strong> Um doador nÃ£o pode ter a mesma doenÃ§a duplicada.</p>
<hr>
<h3 id="strongagregado-donation_processstrong-"><strong>AGREGADO DONATION_PROCESS</strong> ğŸ©¸</h3><hr>
<h4 id="strong11-triagemclinicastrong-avaliao-clnica"><strong>11. TriagemClinica</strong> - ğŸ¥ AvaliaÃ§Ã£o ClÃ­nica</h4><pre><code class="language-java">@Entity
@Table(name = &quot;TRIAGEM_CLINICA&quot;)
public class TriagemClinica {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_TRIAGEM&quot;)
    private Long idTriagem;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
    private Doador doador;

    @Column(name = &quot;DATA_TRIAGEM&quot;, nullable = false)
    private LocalDateTime dataTriagem;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_PROFISSIONAL&quot;, nullable = false)
    private User profissional;

    @Column(name = &quot;PESO_KG&quot;, precision = 5, scale = 2, nullable = false)
    private BigDecimal pesoKg;

    @Column(name = &quot;PRESSAO_ARTERIAL&quot;, length = 20)
    private String pressaoArterial; // &quot;120/80&quot;

    @Column(name = &quot;HEMOGLOBINA&quot;, precision = 4, scale = 2)
    private BigDecimal hemoglobina; // g/dL

    @Column(name = &quot;APTO_DOACAO&quot;, nullable = false)
    private Boolean aptoDoacao;

    @Column(name = &quot;MOTIVO_INAPTIDAO&quot;, length = 255)
    private String motivoInaptidao;

    @Column(name = &quot;OBSERVACOES&quot;, length = 500)
    private String observacoes;
}
</code></pre>
<h5 id="strong-critrios-de-triagemstrong"><strong>ğŸ“Š CritÃ©rios de Triagem:</strong></h5><table>
<thead>
<tr>
<th><strong>ParÃ¢metro</strong></th>
<th><strong>Tipo</strong></th>
<th><strong>Valores Normais</strong></th>
<th><strong>ObservaÃ§Ãµes</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Peso</strong></td>
<td><code>BigDecimal(5,2)</code></td>
<td>â‰¥ 50kg</td>
<td>Peso mÃ­nimo obrigatÃ³rio</td>
</tr>
<tr>
<td><strong>PressÃ£o Arterial</strong></td>
<td><code>String(20)</code></td>
<td>90/60 - 180/100</td>
<td>Formato: &quot;120/80&quot;</td>
</tr>
<tr>
<td><strong>Hemoglobina</strong></td>
<td><code>BigDecimal(4,2)</code></td>
<td>â™‚â‰¥13g/dL, â™€â‰¥12g/dL</td>
<td>Valores por gÃªnero</td>
</tr>
<tr>
<td><strong>Idade</strong></td>
<td>Calculado</td>
<td>16-69 anos</td>
<td>Calculado via birthDate</td>
</tr>
</tbody></table>
<h5 id="strong-workflow-de-triagemstrong"><strong>ğŸ¯ Workflow de Triagem:</strong></h5><p><strong>Processo Completo:</strong></p>
<pre><code class="language-java">// 1. Enfermeiro/MÃ©dico realiza triagem
TriagemClinica triagem = new TriagemClinica();
triagem.setDoador(doador);
triagem.setProfissional(enfermeiro);
triagem.setPesoKg(new BigDecimal(&quot;70.5&quot;));
triagem.setPressaoArterial(&quot;120/80&quot;);
triagem.setHemoglobina(new BigDecimal(&quot;14.2&quot;));

// 2. Sistema avalia critÃ©rios automaticamente
boolean aptoIdade = calcularIdade(doador.getBirthDate()) &gt;= 16;
boolean aptoPeso = triagem.getPesoKg().compareTo(new BigDecimal(&quot;50&quot;)) &gt;= 0;
boolean aptoHemoglobina = validarHemoglobina(triagem.getHemoglobina(), doador.getGender());

// 3. DecisÃ£o final
triagem.setAptoDoacao(aptoIdade &amp;&amp; aptoPeso &amp;&amp; aptoHemoglobina);
if (!triagem.getAptoDoacao()) {
    triagem.setMotivoInaptidao(&quot;Hemoglobina abaixo do limite mÃ­nimo&quot;);
}
</code></pre>
<p><strong>Estados PossÃ­veis:</strong></p>
<ul>
<li><code>aptoDoacao = true</code>: Pode prosseguir para doaÃ§Ã£o</li>
<li><code>aptoDoacao = false</code>: Inapto temporÃ¡ria ou definitivamente</li>
</ul>
<hr>
<h4 id="strong12-agendamentostrong-sistema-de-agendas"><strong>12. Agendamento</strong> - ğŸ“… Sistema de Agendas</h4><pre><code class="language-java">@Entity
@Table(name = &quot;AGENDAMENTOS&quot;)
public class Agendamento {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_AGENDAMENTO&quot;)
    private Long idAgendamento;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
    private Doador doador;

    @Column(name = &quot;DATA_AGENDADA&quot;, nullable = false)
    private LocalDateTime dataAgendada;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;STATUS&quot;, length = 20)
    private StatusAgendamento status = StatusAgendamento.AGENDADO;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;AGENDADO_POR&quot;, nullable = false)
    private User agendadoPor;

    @Column(name = &quot;DATA_AGENDAMENTO&quot;)
    private LocalDateTime dataAgendamento;

    @Column(name = &quot;OBSERVACOES&quot;, length = 255)
    private String observacoes;
}
</code></pre>
<h5 id="strong-status-do-agendamentostrong"><strong>ğŸ“‹ Status do Agendamento:</strong></h5><pre><code class="language-java">public enum StatusAgendamento {
    AGENDADO,       // Agendamento confirmado
    COMPARECEU,     // Doador compareceu
    NAO_COMPARECEU, // Doador faltou
    CANCELADO       // Agendamento cancelado
}
</code></pre>
<h5 id="strong-ciclo-de-vida-do-agendamentostrong"><strong>ğŸ¯ Ciclo de Vida do Agendamento:</strong></h5><pre><code>AGENDADO â†’ COMPARECEU â†’ [Triagem] â†’ [DoaÃ§Ã£o]
    â†“
CANCELADO
    â†“
NAO_COMPARECEU
</code></pre>
<p><strong>Workflow TÃ­pico:</strong></p>
<pre><code class="language-java">// 1. Atendente agenda doaÃ§Ã£o
Agendamento agendamento = new Agendamento();
agendamento.setDoador(doador);
agendamento.setDataAgendada(LocalDateTime.of(2025, 8, 30, 9, 0)); // 30/08 Ã s 9h
agendamento.setAgendadoPor(atendente);
agendamento.setStatus(AGENDADO);

// 2. No dia do agendamento
if (doadorCompareceu) {
    agendamento.setStatus(COMPARECEU);
    // Prosseguir para triagem
} else {
    agendamento.setStatus(NAO_COMPARECEU);
    // Reagendar se necessÃ¡rio
}
</code></pre>
<hr>
<h4 id="strong13-doacaostrong-registro-de-doaes"><strong>13. Doacao</strong> - ğŸ’‰ Registro de DoaÃ§Ãµes</h4><pre><code class="language-java">@Entity
@Table(name = &quot;DOACOES&quot;)
public class Doacao {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_DOACAO&quot;)
    private Long idDoacao;

    @Column(name = &quot;NUMERO_BOLSA&quot;, length = 20, nullable = false, unique = true)
    private String numeroBolsa; // CÃ³digo Ãºnico da bolsa

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_DOADOR&quot;, nullable = false)
    private Doador doador;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_TRIAGEM&quot;, nullable = false)
    private TriagemClinica triagem; // Toda doaÃ§Ã£o precisa de triagem

    @Column(name = &quot;DATA_DOACAO&quot;, nullable = false)
    private LocalDate dataDoacao;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_RESPONSAVEL&quot;, nullable = false)
    private User responsavel; // Profissional que conduziu

    @Column(name = &quot;QUANTIDADE_ML&quot;, nullable = false)
    private Integer quantidadeMl = 450; // Volume padrÃ£o

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;STATUS_BOLSA&quot;, length = 30)
    private StatusBolsa statusBolsa = StatusBolsa.COLETADA;

    @Column(name = &quot;TEVE_INTERCORRENCIA&quot;)
    private Boolean teveIntercorrencia = false;

    @Column(name = &quot;OBSERVACOES_INTERCORRENCIA&quot;, length = 500)
    private String observacoesIntercorrencia;

    @Column(name = &quot;CREATED_AT&quot;)
    private LocalDateTime createdAt;
}
</code></pre>
<h5 id="strong-status-da-bolsastrong"><strong>ğŸ“‹ Status da Bolsa:</strong></h5><pre><code class="language-java">public enum StatusBolsa {
    COLETADA,     // Sangue coletado
    APROVADA,     // Aprovada nos testes
    REJEITADA,    // Rejeitada nos testes
    TRANSFUNDIDA  // Utilizada em transfusÃ£o
}
</code></pre>
<h5 id="strong-workflow-da-doaostrong"><strong>ğŸ¯ Workflow da DoaÃ§Ã£o:</strong></h5><pre><code>Triagem APROVADA â†’ Coleta â†’ Testes â†’ Estoque â†’ TransfusÃ£o
                     â†“        â†“        â†“         â†“
                 COLETADA â†’ APROVADA â†’ DisponÃ­vel â†’ TRANSFUNDIDA
                            â†“
                         REJEITADA â†’ Descarte
</code></pre>
<p><strong>Processo Completo:</strong></p>
<pre><code class="language-java">// 1. ApÃ³s triagem aprovada
Doacao doacao = new Doacao();
doacao.setDoador(doador);
doacao.setTriagem(triagemAprovada);
doacao.setNumeroBolsa(gerarNumeroBolsa()); // Ex: &quot;DOA-2025-001234&quot;
doacao.setResponsavel(enfermeiro);
doacao.setQuantidadeMl(450); // Volume padrÃ£o
doacao.setStatusBolsa(COLETADA);

// 2. Se houve intercorrÃªncia
if (houveProblema) {
    doacao.setTeveIntercorrencia(true);
    doacao.setObservacoesIntercorrencia(&quot;Doador sentiu mal-estar durante coleta&quot;);
}

// 3. ApÃ³s testes laboratoriais
if (testesAprovados) {
    doacao.setStatusBolsa(APROVADA);
    // Adicionar ao estoque
} else {
    doacao.setStatusBolsa(REJEITADA);
    // Descartar bolsa
}
</code></pre>
<h5 id="strong-relacionamentos-crticosstrong"><strong>ğŸ”— Relacionamentos CrÃ­ticos:</strong></h5><pre><code class="language-java">// Triagem obrigatÃ³ria antes da doaÃ§Ã£o
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_TRIAGEM&quot;, nullable = false)
private TriagemClinica triagem;

// Rastreabilidade do responsÃ¡vel
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_RESPONSAVEL&quot;, nullable = false)
private User responsavel;
</code></pre>
<p><strong>Business Rule:</strong> Toda doaÃ§Ã£o DEVE ter uma triagem aprovada associada.</p>
<hr>
<h4 id="strong14-estoquesanguestrong-controle-de-inventory"><strong>14. EstoqueSangue</strong> - ğŸ“¦ Controle de Inventory</h4><pre><code class="language-java">@Entity
@Table(name = &quot;ESTOQUE_SANGUE&quot;)
public class EstoqueSangue {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_ESTOQUE&quot;)
    private Long idEstoque;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_TIPO_SANGUINEO&quot;, nullable = false)
    private TipoSanguineo tipoSanguineo;

    @Column(name = &quot;QUANTIDADE_BOLSAS&quot;, nullable = false)
    private Integer quantidadeBolsas = 0;

    @Column(name = &quot;NIVEL_MINIMO&quot;)
    private Integer nivelMinimo = 10;

    @Column(name = &quot;NIVEL_IDEAL&quot;)
    private Integer nivelIdeal = 30;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;STATUS_ESTOQUE&quot;, length = 20)
    private StatusEstoque statusEstoque = StatusEstoque.ADEQUADO;

    @Column(name = &quot;ULTIMA_ATUALIZACAO&quot;)
    private LocalDateTime ultimaAtualizacao;
}
</code></pre>
<h5 id="strong-nveis-de-estoquestrong"><strong>ğŸ“Š NÃ­veis de Estoque:</strong></h5><pre><code class="language-java">public enum StatusEstoque {
    CRITICO,  // &lt; nÃ­vel mÃ­nimo
    BAIXO,    // &gt;= mÃ­nimo e &lt; 50% do ideal
    ADEQUADO, // &gt;= 50% do ideal e &lt; ideal
    ALTO      // &gt;= ideal
}
</code></pre>
<h5 id="strong-gesto-inteligentestrong"><strong>ğŸ¯ GestÃ£o Inteligente:</strong></h5><p><strong>CÃ¡lculo AutomÃ¡tico de Status:</strong></p>
<pre><code class="language-java">public StatusEstoque calcularStatus() {
    if (quantidadeBolsas &lt; nivelMinimo) {
        return CRITICO;
    } else if (quantidadeBolsas &lt; (nivelIdeal * 0.5)) {
        return BAIXO;
    } else if (quantidadeBolsas &lt; nivelIdeal) {
        return ADEQUADO;
    } else {
        return ALTO;
    }
}
</code></pre>
<p><strong>Dashboard de Estoque:</strong></p>
<pre><code class="language-java">// Exemplo de estoque por tipo sanguÃ­neo
O- : 5 bolsas  (CRITICO - Doador universal!)
O+ : 45 bolsas (ALTO - Tipo mais comum)
A+ : 15 bolsas (ADEQUADO)
B- : 2 bolsas  (CRITICO - Tipo raro!)
AB+: 25 bolsas (ADEQUADO - Receptor universal)
</code></pre>
<p><strong>PriorizaÃ§Ã£o por Impacto:</strong></p>
<pre><code class="language-java">// O- e B- crÃ­ticos sÃ£o mais urgentes que outros tipos
// Baseado na compatibilidade e raridade
</code></pre>
<hr>
<h3 id="strongagregado-system_supportstrong-"><strong>AGREGADO SYSTEM_SUPPORT</strong> âš™ï¸</h3><hr>
<h4 id="strong15-configuracaosistemastrong-configuraes-dinmicas"><strong>15. ConfiguracaoSistema</strong> - âš™ï¸ ConfiguraÃ§Ãµes DinÃ¢micas</h4><pre><code class="language-java">@Entity
@Table(name = &quot;CONFIGURACOES_SISTEMA&quot;)
public class ConfiguracaoSistema {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_CONFIG&quot;)
    private Long idConfig;

    @Column(name = &quot;CHAVE&quot;, length = 100, nullable = false, unique = true)
    private String chave;

    @Column(name = &quot;VALOR&quot;, length = 500, nullable = false)
    private String valor;

    @Column(name = &quot;DESCRICAO&quot;, length = 255)
    private String descricao;

    @Column(name = &quot;UPDATED_AT&quot;)
    private LocalDateTime updatedAt;
}
</code></pre>
<h5 id="strong-configuraes-tpicasstrong"><strong>ğŸ“‹ ConfiguraÃ§Ãµes TÃ­picas:</strong></h5><table>
<thead>
<tr>
<th><strong>Chave</strong></th>
<th><strong>Valor</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>SISTEMA_NOME</code></td>
<td>&quot;HemoGest MVP&quot;</td>
<td>Nome do sistema</td>
</tr>
<tr>
<td><code>HEMOCENTRO_NOME</code></td>
<td>&quot;Hemocentro Regional&quot;</td>
<td>Nome do hemocentro</td>
</tr>
<tr>
<td><code>VOLUME_PADRAO_DOACAO</code></td>
<td>&quot;450&quot;</td>
<td>Volume padrÃ£o em ML</td>
</tr>
<tr>
<td><code>IDADE_MINIMA_DOACAO</code></td>
<td>&quot;16&quot;</td>
<td>Idade mÃ­nima para doaÃ§Ã£o</td>
</tr>
<tr>
<td><code>IDADE_MAXIMA_DOACAO</code></td>
<td>&quot;69&quot;</td>
<td>Idade mÃ¡xima para doaÃ§Ã£o</td>
</tr>
<tr>
<td><code>PESO_MINIMO_DOACAO</code></td>
<td>&quot;50&quot;</td>
<td>Peso mÃ­nimo em KG</td>
</tr>
<tr>
<td><code>INTERVALO_DOACAO_HOMENS</code></td>
<td>&quot;60&quot;</td>
<td>Dias entre doaÃ§Ãµes (homens)</td>
</tr>
<tr>
<td><code>INTERVALO_DOACAO_MULHERES</code></td>
<td>&quot;90&quot;</td>
<td>Dias entre doaÃ§Ãµes (mulheres)</td>
</tr>
<tr>
<td><code>HEMOGLOBINA_MIN_HOMENS</code></td>
<td>&quot;13.0&quot;</td>
<td>g/dL mÃ­nimo homens</td>
</tr>
<tr>
<td><code>HEMOGLOBINA_MIN_MULHERES</code></td>
<td>&quot;12.0&quot;</td>
<td>g/dL mÃ­nimo mulheres</td>
</tr>
</tbody></table>
<h5 id="strong-vantagensstrong"><strong>ğŸ¯ Vantagens:</strong></h5><ul>
<li><strong>Flexibilidade:</strong> Alterar regras sem redeploy</li>
<li><strong>Auditoria:</strong> Controle de quando foi alterado</li>
<li><strong>CentralizaÃ§Ã£o:</strong> Todas as configs em um lugar</li>
<li><strong>Tipagem:</strong> ConversÃ£o automÃ¡tica de string para tipo necessÃ¡rio</li>
</ul>
<p><strong>Exemplo de Uso:</strong></p>
<pre><code class="language-java">@Service
public class ConfigService {
    
    public Integer getIdadeMinimaDoacao() {
        String valor = configRepository.findByChave(&quot;IDADE_MINIMA_DOACAO&quot;).getValor();
        return Integer.parseInt(valor);
    }
    
    public BigDecimal getPesoMinimoDoacao() {
        String valor = configRepository.findByChave(&quot;PESO_MINIMO_DOACAO&quot;).getValor();
        return new BigDecimal(valor);
    }
}
</code></pre>
<hr>
<h4 id="strong16-notificacaostrong-sistema-de-alertas"><strong>16. Notificacao</strong> - ğŸ”” Sistema de Alertas</h4><pre><code class="language-java">@Entity
@Table(name = &quot;NOTIFICACOES&quot;)
public class Notificacao {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_NOTIFICACAO&quot;)
    private Long idNotificacao;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_USUARIO&quot;)
    private User usuario; // NULL = notificaÃ§Ã£o geral

    @Column(name = &quot;TITULO&quot;, length = 100, nullable = false)
    private String titulo;

    @Column(name = &quot;MENSAGEM&quot;, length = 500, nullable = false)
    private String mensagem;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;TIPO&quot;, length = 20)
    private TipoNotificacao tipo = TipoNotificacao.INFO;

    @Column(name = &quot;LIDA&quot;)
    private Boolean lida = false;

    @Column(name = &quot;CRIADA_EM&quot;)
    private LocalDateTime criadaEm;
}
</code></pre>
<h5 id="strong-tipos-de-notificaostrong"><strong>ğŸ“‹ Tipos de NotificaÃ§Ã£o:</strong></h5><pre><code class="language-java">public enum TipoNotificacao {
    INFO,     // InformaÃ§Ã£o geral
    WARNING,  // Aviso/atenÃ§Ã£o
    ERROR,    // Erro/problema
    SUCCESS   // Sucesso/confirmaÃ§Ã£o
}
</code></pre>
<h5 id="strong-casos-de-usostrong"><strong>ğŸ¯ Casos de Uso:</strong></h5><p><strong>NotificaÃ§Ãµes de Estoque:</strong></p>
<pre><code class="language-java">// Estoque crÃ­tico
Notificacao notif = new Notificacao();
notif.setTitulo(&quot;Estoque CrÃ­tico: O-&quot;);
notif.setMensagem(&quot;Estoque de O- com apenas 3 bolsas. AÃ§Ã£o urgente necessÃ¡ria!&quot;);
notif.setTipo(ERROR);
notif.setUsuario(null); // Para todos os usuÃ¡rios
</code></pre>
<p><strong>NotificaÃ§Ãµes MÃ©dicas:</strong></p>
<pre><code class="language-java">// ValidaÃ§Ã£o pendente
Notificacao notif = new Notificacao();
notif.setTitulo(&quot;ValidaÃ§Ã£o MÃ©dica Pendente&quot;);
notif.setMensagem(&quot;5 doenÃ§as aguardando validaÃ§Ã£o mÃ©dica&quot;);
notif.setTipo(WARNING);
notif.setUsuario(medico); // EspecÃ­fico para mÃ©dicos
</code></pre>
<p><strong>NotificaÃ§Ãµes de Sistema:</strong></p>
<pre><code class="language-java">// Sucesso em operaÃ§Ã£o
Notificacao notif = new Notificacao();
notif.setTitulo(&quot;DoaÃ§Ã£o Registrada&quot;);
notif.setMensagem(&quot;DoaÃ§Ã£o do usuÃ¡rio JoÃ£o Silva registrada com sucesso&quot;);
notif.setTipo(SUCCESS);
notif.setUsuario(enfermeiro);
</code></pre>
<hr>
<h4 id="strong17-logauditorialgpdstrong-auditoria-lgpd"><strong>17. LogAuditoriaLgpd</strong> - ğŸ“‹ Auditoria LGPD</h4><pre><code class="language-java">@Entity
@Table(name = &quot;LOG_AUDITORIA_LGPD&quot;)
public class LogAuditoriaLgpd {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = &quot;ID_AUDIT&quot;)
    private Long idAudit;

    @Column(name = &quot;TABELA&quot;, length = 50, nullable = false)
    private String tabela;

    @Column(name = &quot;ID_REGISTRO&quot;, nullable = false)
    private Integer idRegistro;

    @Enumerated(EnumType.STRING)
    @Column(name = &quot;OPERACAO&quot;, length = 20, nullable = false)
    private TipoOperacao operacao;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;ID_USUARIO&quot;, nullable = false)
    private User usuario;

    @Column(name = &quot;IP_ORIGEM&quot;, length = 45)
    private String ipOrigem;

    @Column(name = &quot;DATA_OPERACAO&quot;)
    private LocalDateTime dataOperacao;

    @Column(name = &quot;FINALIDADE_ACESSO&quot;, length = 255)
    private String finalidadeAcesso;
}
</code></pre>
<h5 id="strong-tipos-de-operaostrong"><strong>ğŸ“‹ Tipos de OperaÃ§Ã£o:</strong></h5><pre><code class="language-java">public enum TipoOperacao {
    SELECT, // Consulta de dados
    INSERT, // CriaÃ§Ã£o de registro
    UPDATE, // AtualizaÃ§Ã£o de dados
    DELETE  // ExclusÃ£o de dados
}
</code></pre>
<h5 id="strong-compliance-lgpdstrong"><strong>ğŸ¯ Compliance LGPD:</strong></h5><p><strong>Auditoria AutomÃ¡tica:</strong></p>
<pre><code class="language-java">// Exemplo de log automÃ¡tico
LogAuditoriaLgpd log = new LogAuditoriaLgpd();
log.setTabela(&quot;DOADORES&quot;);
log.setIdRegistro(doador.getId());
log.setOperacao(SELECT);
log.setUsuario(usuarioLogado);
log.setIpOrigem(&quot;192.168.1.100&quot;);
log.setDataOperacao(LocalDateTime.now());
log.setFinalidadeAcesso(&quot;Consulta para agendamento de doaÃ§Ã£o&quot;);
</code></pre>
<p><strong>RelatÃ³rios de Compliance:</strong></p>
<pre><code class="language-java">// Todas as operaÃ§Ãµes em dados de um doador especÃ­fico
List&lt;LogAuditoriaLgpd&gt; historico = auditRepository.findByTabelaAndIdRegistro(&quot;DOADORES&quot;, doadorId);

// Acessos por usuÃ¡rio em perÃ­odo
List&lt;LogAuditoriaLgpd&gt; acessos = auditRepository.findByUsuarioAndDataBetween(
    usuario, inicio, fim
);

// OperaÃ§Ãµes por finalidade
List&lt;LogAuditoriaLgpd&gt; campanhas = auditRepository.findByFinalidadeContaining(&quot;campanha&quot;);
</code></pre>
<p><strong>Requisitos LGPD Atendidos:</strong></p>
<ul>
<li><span class="badge success">âœ…</span> <strong>Registro de acesso:</strong> Quem, quando, onde, por quÃª</li>
<li><span class="badge success">âœ…</span> <strong>Finalidade:</strong> Motivo do acesso aos dados</li>
<li><span class="badge success">âœ…</span> <strong>Rastreabilidade:</strong> HistÃ³rico completo de operaÃ§Ãµes</li>
<li><span class="badge success">âœ…</span> <strong>RelatÃ³rios:</strong> Base para relatÃ³rios de conformidade</li>
</ul>
<hr>
<h2 id="-anotaes-jpa-explicadas">ğŸ·ï¸ AnotaÃ§Ãµes JPA Explicadas</h2><h3 id="strong-anotaes-de-entidadestrong"><strong>ğŸ“Š AnotaÃ§Ãµes de Entidade:</strong></h3><h4 id="strongentitystrong"><strong>@Entity</strong></h4><pre><code class="language-java">@Entity
public class User { }
</code></pre>
<p><strong>O que faz:</strong> Marca a classe como uma entidade JPA que serÃ¡ mapeada para uma tabela no banco de dados.
<strong>Quando usar:</strong> Sempre que criar uma classe que representa uma tabela.</p>
<h4 id="strongtablestrong"><strong>@Table</strong></h4><pre><code class="language-java">@Table(name = &quot;USERS&quot;)
public class User { }
</code></pre>
<p><strong>O que faz:</strong> Define o nome da tabela no banco. Se omitido, usa o nome da classe.
<strong>Quando usar:</strong> Quando o nome da tabela for diferente do nome da classe.</p>
<h4 id="strongnoargsconstructor-allargsconstructor-lombokstrong"><strong>@NoArgsConstructor / @AllArgsConstructor (Lombok)</strong></h4><pre><code class="language-java">@NoArgsConstructor  // Cria construtor vazio: User()
@AllArgsConstructor // Cria construtor com todos os campos: User(id, name, email...)
public class User { }
</code></pre>
<p><strong>O que faz:</strong> Gera automaticamente construtores durante a compilaÃ§Ã£o.
<strong>Quando usar:</strong> Sempre. JPA precisa do construtor vazio, e o completo facilita testes.</p>
<h4 id="stronggetter-setter-lombokstrong"><strong>@Getter / @Setter (Lombok)</strong></h4><pre><code class="language-java">@Getter @Setter // Gera todos os getters e setters automaticamente
public class User { }
</code></pre>
<p><strong>O que faz:</strong> Cria mÃ©todos <code>getName()</code>, <code>setName()</code>, etc. para todos os campos.
<strong>Quando usar:</strong> Sempre, para evitar cÃ³digo repetitivo.</p>
<hr>
<h3 id="strong-anotaes-de-campochave-primriastrong"><strong>ğŸ”‘ AnotaÃ§Ãµes de Campo/Chave PrimÃ¡ria:</strong></h3><h4 id="strongidstrong"><strong>@Id</strong></h4><pre><code class="language-java">@Id
private Long idUser;
</code></pre>
<p><strong>O que faz:</strong> Marca o campo como chave primÃ¡ria da tabela.
<strong>Quando usar:</strong> Sempre, toda entidade precisa de uma chave primÃ¡ria.</p>
<h4 id="stronggeneratedvaluestrong"><strong>@GeneratedValue</strong></h4><pre><code class="language-java">@GeneratedValue(strategy = GenerationType.IDENTITY)
private Long idUser;
</code></pre>
<p><strong>O que faz:</strong> Define como o valor da chave primÃ¡ria serÃ¡ gerado.</p>
<ul>
<li><code>IDENTITY</code>: Auto-incremento do banco (recomendado para SQL Server/MySQL)</li>
<li><code>SEQUENCE</code>: Usa sequÃªncia do banco (Oracle/PostgreSQL)</li>
<li><code>AUTO</code>: JPA escolhe automaticamente
<strong>Quando usar:</strong> Sempre com @Id, exceto quando vocÃª define o ID manualmente.</li>
</ul>
<h4 id="strongcolumnstrong"><strong>@Column</strong></h4><pre><code class="language-java">@Column(name = &quot;FULL_NAME&quot;, length = 100, nullable = false, unique = true)
private String fullName;
</code></pre>
<p><strong>O que faz:</strong> Configura como o campo serÃ¡ mapeado para a coluna no banco.</p>
<ul>
<li><code>name</code>: Nome da coluna (se diferente do campo)</li>
<li><code>length</code>: Tamanho mÃ¡ximo (para VARCHAR)</li>
<li><code>nullable</code>: Se permite NULL (padrÃ£o: true)</li>
<li><code>unique</code>: Se valor deve ser Ãºnico (padrÃ£o: false)
<strong>Quando usar:</strong> Para customizar o mapeamento ou adicionar constraints.</li>
</ul>
<hr>
<h3 id="strong-anotaes-de-relacionamentostrong"><strong>ğŸ”— AnotaÃ§Ãµes de Relacionamento:</strong></h3><h4 id="strongmanytoonestrong-muitos-para-um"><strong>@ManyToOne</strong> (Muitos para Um)</h4><pre><code class="language-java">@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = &quot;ID_ROLE&quot;)
private UserRole userRole;
</code></pre>
<p><strong>O que faz:</strong> Define relacionamento N:1. Muitos usuÃ¡rios podem ter o mesmo role.
<strong>Quando usar:</strong> Quando muitas entidades referenciam uma Ãºnica entidade (FK no lado &quot;many&quot;).</p>
<h4 id="strongonetomanystrong-um-para-muitos"><strong>@OneToMany</strong> (Um para Muitos)</h4><pre><code class="language-java">@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;UserSetor&gt; setores;
</code></pre>
<p><strong>O que faz:</strong> Define relacionamento 1:N. Um usuÃ¡rio pode ter muitos setores.</p>
<ul>
<li><code>mappedBy</code>: Nome do campo na entidade filha que referencia esta</li>
<li><code>cascade</code>: Que operaÃ§Ãµes propagar para filhos</li>
<li><code>fetch</code>: Quando carregar os filhos
<strong>Quando usar:</strong> Para acessar entidades filhas a partir da entidade pai.</li>
</ul>
<h4 id="strongmanytomanystrong-muitos-para-muitos"><strong>@ManyToMany</strong> (Muitos para Muitos)</h4><pre><code class="language-java">@ManyToMany
@JoinTable(name = &quot;USER_ROLES&quot;,
    joinColumns = @JoinColumn(name = &quot;user_id&quot;),
    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))
private List&lt;Role&gt; roles;
</code></pre>
<p><strong>O que faz:</strong> Define relacionamento N:N atravÃ©s de tabela intermediÃ¡ria.
<strong>Quando usar:</strong> Quando ambas as entidades podem ter mÃºltiplas referÃªncias entre si.
<strong><span class="badge warning">âš ï¸</span> Nota:</strong> No nosso projeto, preferimos tabela intermediÃ¡ria explÃ­cita (UserSetor) para campos extras.</p>
<h4 id="strongjoincolumnstrong"><strong>@JoinColumn</strong></h4><pre><code class="language-java">@JoinColumn(name = &quot;ID_ROLE&quot;, nullable = false)
private UserRole userRole;
</code></pre>
<p><strong>O que faz:</strong> Define o nome da coluna de chave estrangeira.
<strong>Quando usar:</strong> Em relacionamentos @ManyToOne e @OneToOne para customizar a FK.</p>
<hr>
<h3 id="strong-estratgias-de-fetch-carregamentostrong"><strong>âš¡ EstratÃ©gias de Fetch (Carregamento):</strong></h3><h4 id="strongfetchtypelazystrong"><strong>FetchType.LAZY</strong></h4><pre><code class="language-java">@ManyToOne(fetch = FetchType.LAZY)
private Hemocentro hemocentro;
</code></pre>
<p><strong>O que faz:</strong> Carrega o relacionamento apenas quando acessado (proxy).
<strong>Vantagem:</strong> Performance - nÃ£o carrega dados desnecessÃ¡rios.
<strong>Desvantagem:</strong> Pode causar LazyInitializationException se sessÃ£o estiver fechada.
<strong>Quando usar:</strong> PadrÃ£o recomendado, especialmente para relacionamentos grandes.</p>
<h4 id="strongfetchtypeeagerstrong"><strong>FetchType.EAGER</strong></h4><pre><code class="language-java">@ManyToOne(fetch = FetchType.EAGER)
private UserRole userRole;
</code></pre>
<p><strong>O que faz:</strong> Carrega o relacionamento imediatamente junto com a entidade principal.
<strong>Vantagem:</strong> Dados sempre disponÃ­veis, sem exceÃ§Ãµes de lazy.
<strong>Desvantagem:</strong> Pode causar problemas de performance e N+1 queries.
<strong>Quando usar:</strong> Apenas para relacionamentos pequenos e sempre necessÃ¡rios.</p>
<hr>
<h3 id="strong-estratgias-de-cascade-propagaostrong"><strong>ğŸ”„ EstratÃ©gias de Cascade (PropagaÃ§Ã£o):</strong></h3><h4 id="strongcascadetypeallstrong"><strong>CascadeType.ALL</strong></h4><pre><code class="language-java">@OneToMany(mappedBy = &quot;doador&quot;, cascade = CascadeType.ALL)
private List&lt;DoadorDoenca&gt; doencas;
</code></pre>
<p><strong>O que faz:</strong> Propaga TODAS as operaÃ§Ãµes (persist, merge, remove, refresh, detach).
<strong>Quando usar:</strong> Relacionamentos pai-filho onde filhos nÃ£o existem sem o pai.</p>
<h4 id="strongcascadetypepersiststrong"><strong>CascadeType.PERSIST</strong></h4><pre><code class="language-java">@OneToMany(cascade = CascadeType.PERSIST)
private List&lt;UserSetor&gt; setores;
</code></pre>
<p><strong>O que faz:</strong> Propaga apenas operaÃ§Ãµes de criaÃ§Ã£o (save).
<strong>Quando usar:</strong> Quando quer salvar filhos automaticamente, mas nÃ£o deletar.</p>
<h4 id="strongcascadetypemergestrong"><strong>CascadeType.MERGE</strong></h4><pre><code class="language-java">@OneToMany(cascade = CascadeType.MERGE)
private List&lt;UserSetor&gt; setores;
</code></pre>
<p><strong>O que faz:</strong> Propaga apenas operaÃ§Ãµes de atualizaÃ§Ã£o.
<strong>Quando usar:</strong> Quando quer atualizar filhos automaticamente.</p>
<h4 id="strongcascadetyperemovestrong"><strong>CascadeType.REMOVE</strong></h4><pre><code class="language-java">@OneToMany(cascade = CascadeType.REMOVE)
private List&lt;UserSetor&gt; setores;
</code></pre>
<p><strong>O que faz:</strong> Propaga apenas operaÃ§Ãµes de exclusÃ£o.
<strong>Quando usar:</strong> Relacionamentos onde filhos devem ser deletados com o pai.</p>
<hr>
<h3 id="strong-anotaes-de-enumstrong"><strong>ğŸ·ï¸ AnotaÃ§Ãµes de Enum:</strong></h3><h4 id="strongenumeratedenumtypestringstrong"><strong>@Enumerated(EnumType.STRING)</strong></h4><pre><code class="language-java">@Enumerated(EnumType.STRING)
@Column(name = &quot;STATUS_ATUAL&quot;)
private StatusDoenca statusAtual;
</code></pre>
<p><strong>O que faz:</strong> Armazena o nome do enum como texto no banco (&#39;ATIVO&#39;, &#39;CURADO&#39;).
<strong>Vantagem:</strong> LegÃ­vel no banco, estÃ¡vel se reordenar enum.
<strong>Desvantagem:</strong> Ocupa mais espaÃ§o.
<strong>Quando usar:</strong> Sempre recomendado para manutenibilidade.</p>
<h4 id="strongenumeratedenumtypeordinalstrong"><strong>@Enumerated(EnumType.ORDINAL)</strong></h4><pre><code class="language-java">@Enumerated(EnumType.ORDINAL)
private StatusDoenca statusAtual;
</code></pre>
<p><strong>O que faz:</strong> Armazena a posiÃ§Ã£o do enum como nÃºmero (0, 1, 2).
<strong>Vantagem:</strong> Ocupa menos espaÃ§o.
<strong>Desvantagem:</strong> Quebra se reordenar enum, ilegÃ­vel no banco.
<strong>Quando usar:</strong> Evitar, usar apenas se performance for crÃ­tica.</p>
<hr>
<h3 id="strong-anotaes-de-lifecycle-ciclo-de-vidastrong"><strong>â° AnotaÃ§Ãµes de Lifecycle (Ciclo de Vida):</strong></h3><h4 id="strongprepersiststrong"><strong>@PrePersist</strong></h4><pre><code class="language-java">@PrePersist
protected void onCreate() {
    createdAt = LocalDateTime.now();
}
</code></pre>
<p><strong>O que faz:</strong> Executa mÃ©todo antes de salvar entidade no banco pela primeira vez.
<strong>Quando usar:</strong> Para preencher campos automÃ¡ticos na criaÃ§Ã£o (timestamps, IDs).</p>
<h4 id="strongpreupdatestrong"><strong>@PreUpdate</strong></h4><pre><code class="language-java">@PreUpdate
protected void onUpdate() {
    updatedAt = LocalDateTime.now();
}
</code></pre>
<p><strong>O que faz:</strong> Executa mÃ©todo antes de atualizar entidade existente.
<strong>Quando usar:</strong> Para atualizar campos automÃ¡ticos (updatedAt, version).</p>
<h4 id="strongpostloadstrong"><strong>@PostLoad</strong></h4><pre><code class="language-java">@PostLoad
protected void onLoad() {
    // LÃ³gica apÃ³s carregar do banco
}
</code></pre>
<p><strong>O que faz:</strong> Executa mÃ©todo apÃ³s carregar entidade do banco.
<strong>Quando usar:</strong> Para processamento ou validaÃ§Ã£o apÃ³s carregar dados.</p>
<h4 id="strongpostpersiststrong"><strong>@PostPersist</strong></h4><pre><code class="language-java">@PostPersist
protected void afterSave() {
    // LÃ³gica apÃ³s salvar (jÃ¡ tem ID)
}
</code></pre>
<p><strong>O que faz:</strong> Executa mÃ©todo apÃ³s salvar entidade (jÃ¡ com ID gerado).
<strong>Quando usar:</strong> Para aÃ§Ãµes que precisam do ID gerado (logs, notificaÃ§Ãµes).</p>
<hr>
<h3 id="strong-anotaes-de-constraint-restriesstrong"><strong>ğŸ”’ AnotaÃ§Ãµes de Constraint (RestriÃ§Ãµes):</strong></h3><h4 id="stronguniqueconstraintstrong"><strong>@UniqueConstraint</strong></h4><pre><code class="language-java">@Table(uniqueConstraints = @UniqueConstraint(columnNames = {&quot;ID_USER&quot;, &quot;ID_SETOR&quot;, &quot;ATIVO&quot;}))
</code></pre>
<p><strong>O que faz:</strong> Cria constraint de unicidade composta no banco.
<strong>Quando usar:</strong> Para regras de negÃ³cio que envolvem mÃºltiplas colunas.</p>
<h4 id="strongindexstrong"><strong>@Index</strong></h4><pre><code class="language-java">@Table(indexes = @Index(columnList = &quot;cpf, email&quot;))
</code></pre>
<p><strong>O que faz:</strong> Cria Ã­ndices no banco para melhorar performance de consultas.
<strong>Quando usar:</strong> Em campos frequentemente usados em WHERE, ORDER BY, JOIN.</p>
<hr>
<h3 id="strong-dicas-de-usostrong"><strong>ğŸ’¡ Dicas de Uso:</strong></h3><h4 id="strongcombinaes-comunsstrong"><strong>CombinaÃ§Ãµes Comuns:</strong></h4><pre><code class="language-java">// Chave primÃ¡ria padrÃ£o
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Column(name = &quot;ID_USER&quot;)
private Long idUser;

// Campo obrigatÃ³rio Ãºnico
@Column(name = &quot;CPF&quot;, length = 11, nullable = false, unique = true)
private String cpf;

// Relacionamento pai-filho
@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
private List&lt;UserSetor&gt; setores = new ArrayList&lt;&gt;();

// Enum como string
@Enumerated(EnumType.STRING)
@Column(name = &quot;STATUS&quot;, length = 20)
private StatusDoenca status = StatusDoenca.ATIVO;
</code></pre>
<h4 id="strongspan-classbadge-warningspan-armadilhas-comunsstrong"><strong><span class="badge warning">âš ï¸</span> Armadilhas Comuns:</strong></h4><ul>
<li><strong>EAGER em relacionamentos grandes</strong> â†’ Performance ruim</li>
<li><strong>CASCADE.ALL sem cuidado</strong> â†’ DeleÃ§Ãµes acidentais  </li>
<li><strong>Enum ORDINAL</strong> â†’ Quebra ao reordenar</li>
<li><strong>Fetch LAZY sem sessÃ£o</strong> â†’ LazyInitializationException</li>
<li><strong>Relacionamentos bidirecionais sem mappedBy</strong> â†’ Tabelas extras</li>
</ul>
<hr>
<h2 id="-relacionamentos-e-estratgias">ğŸ”— Relacionamentos e EstratÃ©gias</h2><h3 id="strong1-user-usersetor-setoratuacao-many-to-manystrong"><strong>1. User â†” UserSetor â†” SetorAtuacao (Many-to-Many)</strong></h3><pre><code>User (1) â†â†’ (N) UserSetor (N) â†â†’ (1) SetorAtuacao
</code></pre>
<p><strong>Vantagens da Tabela IntermediÃ¡ria:</strong></p>
<ul>
<li>Campos adicionais (data_inicio, setor_principal, observacoes)</li>
<li>Controle de histÃ³rico</li>
<li>Soft delete independente</li>
</ul>
<h3 id="strong2-doador-doadordoenca-doencaespecifica-many-to-manystrong"><strong>2. Doador â†” DoadorDoenca â†” DoencaEspecifica (Many-to-Many)</strong></h3><pre><code>Doador (1) â†â†’ (N) DoadorDoenca (N) â†â†’ (1) DoencaEspecifica  
</code></pre>
<p><strong>Vantagens:</strong></p>
<ul>
<li>Status individual por doador-doenÃ§a</li>
<li>Workflow de validaÃ§Ã£o mÃ©dica</li>
<li>Rastreabilidade de origem</li>
<li>Auditoria completa</li>
</ul>
<h3 id="strong3-user-userrole-many-to-onestrong"><strong>3. User â†’ UserRole (Many-to-One)</strong></h3><pre><code>User (N) â†â†’ (1) UserRole
</code></pre>
<p><strong>EAGER Loading:</strong> Role sempre necessÃ¡rio para autorizaÃ§Ã£o.</p>
<h3 id="strong4-user-hemocentro-many-to-onestrong"><strong>4. User â†’ Hemocentro (Many-to-One)</strong></h3><pre><code>User (N) â†â†’ (1) Hemocentro
</code></pre>
<p><strong>LAZY Loading:</strong> Hemocentro carregado sob demanda.</p>
<hr>
<h2 id="-padres-de-design-utilizados">ğŸ¨ PadrÃµes de Design Utilizados</h2><h3 id="strong1-domain-driven-design-dddstrong"><strong>1. Domain-Driven Design (DDD)</strong></h3><ul>
<li><strong>Entities:</strong> Objetos com identidade Ãºnica (<code>User</code>, <code>Doador</code>)</li>
<li><strong>Value Objects:</strong> Enums (<code>StatusDoenca</code>, <code>OrigemDeteccao</code>)</li>
<li><strong>Aggregates:</strong> Agrupamentos lÃ³gicos de entidades relacionadas</li>
</ul>
<h3 id="strong2-repository-patternstrong"><strong>2. Repository Pattern</strong></h3><pre><code class="language-java">public interface UserSetorRepository extends JpaRepository&lt;UserSetor, Long&gt; {
    List&lt;UserSetor&gt; findByUserAndAtivoTrue(User user);
    // MÃ©todos especÃ­ficos do domÃ­nio
}
</code></pre>
<h3 id="strong3-soft-delete-patternstrong"><strong>3. Soft Delete Pattern</strong></h3><pre><code class="language-java">@Column(name = &quot;DELETED_AT&quot;)
private LocalDateTime deletedAt; // NULL = ativo, preenchido = deletado

@Column(name = &quot;ATIVO&quot;) 
private Boolean ativo = true; // true = ativo, false = inativo
</code></pre>
<h3 id="strong4-audit-trail-patternstrong"><strong>4. Audit Trail Pattern</strong></h3><pre><code class="language-java">@Column(name = &quot;CREATED_AT&quot;)
private LocalDateTime createdAt;

@Column(name = &quot;UPDATED_AT&quot;) 
private LocalDateTime updatedAt;

@ManyToOne
@JoinColumn(name = &quot;CADASTRADO_POR&quot;)
private User cadastradoPor;
</code></pre>
<h3 id="strong5-state-machine-patternstrong"><strong>5. State Machine Pattern</strong></h3><pre><code class="language-java">// Workflow: DECLARADA_DOADOR â†’ VALIDAÃ‡ÃƒO_PENDENTE â†’ VALIDADA
public enum StatusDoenca {
    ATIVO, CURADO, CONTROLADO
}

public enum OrigemDeteccao {
    DECLARADA_DOADOR, DETECTADA_MEDICO, EXAME_LABORATORIAL
}
</code></pre>
<hr>
<h2 id="-boas-prticas-implementadas">ğŸ¯ Boas PrÃ¡ticas Implementadas</h2><h3 id="strong1-nomeao-consistentestrong"><strong>1. NomeaÃ§Ã£o Consistente:</strong></h3><ul>
<li>Entidades em PascalCase (<code>UserSetor</code>)</li>
<li>Campos em camelCase (<code>setorPrincipal</code>)</li>
<li>Tabelas em UPPER_SNAKE_CASE (<code>USER_SETORES</code>)</li>
<li>Colunas em UPPER_SNAKE_CASE (<code>IS_SETOR_PRINCIPAL</code>)</li>
</ul>
<h3 id="strong2-tipos-de-dados-apropriadosstrong"><strong>2. Tipos de Dados Apropriados:</strong></h3><ul>
<li><code>BigDecimal</code> para valores monetÃ¡rios/precisÃ£o</li>
<li><code>LocalDateTime</code> para timestamps</li>
<li><code>LocalDate</code> para datas sem horÃ¡rio</li>
<li><code>Boolean</code> para flags (nÃ£o primitive boolean)</li>
</ul>
<h3 id="strong3-constraints-de-integridadestrong"><strong>3. Constraints de Integridade:</strong></h3><ul>
<li><code>@UniqueConstraint</code> para regras de negÃ³cio</li>
<li><code>nullable = false</code> para campos obrigatÃ³rios</li>
<li><code>unique = true</code> para valores Ãºnicos</li>
</ul>
<h3 id="strong4-performancestrong"><strong>4. Performance:</strong></h3><ul>
<li>Fetch LAZY por padrÃ£o</li>
<li>Fetch EAGER apenas quando necessÃ¡rio</li>
<li>Ãndices implÃ­citos em FKs</li>
</ul>
<h3 id="strong5-manutenibilidadestrong"><strong>5. Manutenibilidade:</strong></h3><ul>
<li>Lombok para reduzir boilerplate</li>
<li>Enums para valores fixos</li>
<li>Relacionamentos bidirecionais quando necessÃ¡rio</li>
</ul>
<hr>
<h2 id="-enums-e-value-objects-completos">ğŸ·ï¸ Enums e Value Objects Completos</h2><h3 id="strongenums-implementadosstrong"><strong>Enums Implementados:</strong></h3><h4 id="strong1-statusdoencastrong"><strong>1. StatusDoenca</strong></h4><pre><code class="language-java">public enum StatusDoenca {
    ATIVO,      // DoenÃ§a presente/ativa
    CURADO,     // DoenÃ§a superada/curada
    CONTROLADO  // DoenÃ§a controlada com tratamento
}
</code></pre>
<p><strong>Uso:</strong> Define o estado atual de uma doenÃ§a no histÃ³rico do doador.</p>
<h4 id="strong2-origemdeteccaostrong"><strong>2. OrigemDeteccao</strong></h4><pre><code class="language-java">public enum OrigemDeteccao {
    DECLARADA_DOADOR,      // Informado pelo doador
    DETECTADA_MEDICO,      // Detectado por profissional
    EXAME_LABORATORIAL     // Identificado em exame
}
</code></pre>
<p><strong>Uso:</strong> Rastreia como uma doenÃ§a foi identificada no sistema.</p>
<h4 id="strong3-statusagendamentostrong"><strong>3. StatusAgendamento</strong></h4><pre><code class="language-java">public enum StatusAgendamento {
    AGENDADO,       // Confirmado
    COMPARECEU,     // Doador presente
    NAO_COMPARECEU, // AusÃªncia
    CANCELADO       // Cancelamento
}
</code></pre>
<p><strong>Uso:</strong> Controla o ciclo de vida dos agendamentos de doaÃ§Ã£o.</p>
<h4 id="strong4-statusbolsastrong"><strong>4. StatusBolsa</strong></h4><pre><code class="language-java">public enum StatusBolsa {
    COLETADA,     // Sangue coletado
    APROVADA,     // Testes aprovados
    REJEITADA,    // Testes reprovados
    TRANSFUNDIDA  // Utilizada
}
</code></pre>
<p><strong>Uso:</strong> Rastreia o estado de cada bolsa de sangue desde coleta atÃ© uso.</p>
<h4 id="strong5-statusestoquestrong"><strong>5. StatusEstoque</strong></h4><pre><code class="language-java">public enum StatusEstoque {
    CRITICO,  // Abaixo do mÃ­nimo
    BAIXO,    // Entre mÃ­nimo e 50% ideal
    ADEQUADO, // Entre 50% e 100% ideal
    ALTO      // Acima do ideal
}
</code></pre>
<p><strong>Uso:</strong> Indica nÃ­veis de estoque para gestÃ£o inteligente de sangue.</p>
<h4 id="strong6-tiponotificacaostrong"><strong>6. TipoNotificacao</strong></h4><pre><code class="language-java">public enum TipoNotificacao {
    INFO,     // InformaÃ§Ã£o
    WARNING,  // Aviso
    ERROR,    // Erro
    SUCCESS   // Sucesso
}
</code></pre>
<p><strong>Uso:</strong> Categoriza notificaÃ§Ãµes para apresentaÃ§Ã£o adequada na UI.</p>
<h4 id="strong7-tipooperacaostrong"><strong>7. TipoOperacao</strong></h4><pre><code class="language-java">public enum TipoOperacao {
    SELECT, // Consulta
    INSERT, // CriaÃ§Ã£o
    UPDATE, // AtualizaÃ§Ã£o
    DELETE  // ExclusÃ£o
}
</code></pre>
<p><strong>Uso:</strong> Auditoria LGPD - registra tipo de operaÃ§Ã£o nos dados.</p>
<h3 id="strong-vantagens-dos-enumsstrong"><strong>ğŸ¯ Vantagens dos Enums:</strong></h3><ul>
<li><strong>Type Safety:</strong> Compilador impede valores invÃ¡lidos</li>
<li><strong>Legibilidade:</strong> CÃ³digo autodocumentado</li>
<li><strong>Manutenibilidade:</strong> MudanÃ§as centralizadas</li>
<li><strong>Performance:</strong> OtimizaÃ§Ã£o JVM automÃ¡tica</li>
<li><strong>ValidaÃ§Ã£o:</strong> Constraint automÃ¡tica no banco</li>
</ul>
<h3 id="strong-padres-de-usostrong"><strong>ğŸ”§ PadrÃµes de Uso:</strong></h3><h4 id="strongpersistncia-jpastrong"><strong>PersistÃªncia JPA:</strong></h4><pre><code class="language-java">@Enumerated(EnumType.STRING)
@Column(name = &quot;STATUS&quot;, length = 20)
private StatusAgendamento status = StatusAgendamento.AGENDADO;
</code></pre>
<h4 id="strongvalidao-de-negciostrong"><strong>ValidaÃ§Ã£o de NegÃ³cio:</strong></h4><pre><code class="language-java">public void aprovarTriagem() {
    if (this.aptoDoacao) {
        // Pode prosseguir para doaÃ§Ã£o
        agendamento.setStatus(StatusAgendamento.COMPARECEU);
    }
}
</code></pre>
<h4 id="strongconsultas-tipadasstrong"><strong>Consultas Tipadas:</strong></h4><pre><code class="language-java">// Buscar bolsas aprovadas
List&lt;Doacao&gt; aprovadas = doacaoRepository.findByStatusBolsa(StatusBolsa.APROVADA);

// Estoque crÃ­tico
List&lt;EstoqueSangue&gt; criticos = estoqueRepository.findByStatusEstoque(StatusEstoque.CRITICO);
</code></pre>
<hr>
<h2 id="-benefcios-da-arquitetura">ğŸ“ˆ BenefÃ­cios da Arquitetura</h2><h3 id="strongspan-classbadge-successspan-flexibilidadestrong"><strong><span class="badge success">âœ…</span> Flexibilidade:</strong></h3><ul>
<li>Multi-setor simultÃ¢neo</li>
<li>Workflow mÃ©dico hÃ­brido</li>
<li>Extensibilidade futura</li>
</ul>
<h3 id="strongspan-classbadge-successspan-integridadestrong"><strong><span class="badge success">âœ…</span> Integridade:</strong></h3><ul>
<li>Constraints de banco</li>
<li>ValidaÃ§Ãµes JPA</li>
<li>Relacionamentos consistentes</li>
</ul>
<h3 id="strongspan-classbadge-successspan-performancestrong"><strong><span class="badge success">âœ…</span> Performance:</strong></h3><ul>
<li>Fetch strategies otimizadas</li>
<li>Lazy loading inteligente</li>
<li>Consultas especÃ­ficas nos repositÃ³rios</li>
</ul>
<h3 id="strongspan-classbadge-successspan-auditoriastrong"><strong><span class="badge success">âœ…</span> Auditoria:</strong></h3><ul>
<li>Soft delete preserva histÃ³rico</li>
<li>Timestamps automÃ¡ticos</li>
<li>Rastreabilidade de aÃ§Ãµes</li>
</ul>
<h3 id="strongspan-classbadge-successspan-compliancestrong"><strong><span class="badge success">âœ…</span> Compliance:</strong></h3><ul>
<li>LGPD (consentimentos granulares)</li>
<li>Responsabilidade mÃ©dica</li>
<li>Auditoria de acesso</li>
</ul>
<hr>
<p><em>Esta documentaÃ§Ã£o fornece uma visÃ£o completa da arquitetura de entidades implementada, servindo como referÃªncia para desenvolvimento, manutenÃ§Ã£o e evoluÃ§Ã£o do sistema.</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador PDF - DoeSangue</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .instruction {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
        }
        .file-list {
            display: grid;
            gap: 10px;
            margin: 20px 0;
        }
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .file-name {
            font-weight: bold;
            color: #495057;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .steps {
            counter-reset: step-counter;
        }
        .step {
            counter-increment: step-counter;
            margin: 15px 0;
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
        }
        .step::before {
            content: "Passo " counter(step-counter) ": ";
            font-weight: bold;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ Gerador de PDF - DocumentaÃ§Ã£o DoeSangue</h1>
        
        <div class="instruction">
            <h3>ğŸ¯ Como gerar PDFs das documentaÃ§Ãµes:</h3>
            <p>Use a funÃ§Ã£o de impressÃ£o do navegador para salvar as pÃ¡ginas HTML como PDF com formataÃ§Ã£o perfeita.</p>
        </div>
        
        <div class="steps">
            <div class="step">
                Abra qualquer documentaÃ§Ã£o HTML clicando nos links abaixo
            </div>
            <div class="step">
                Pressione <code>Ctrl + P</code> (Windows) ou <code>Cmd + P</code> (Mac)
            </div>
            <div class="step">
                Selecione "Salvar como PDF" como impressora
            </div>
            <div class="step">
                Configure as opÃ§Ãµes:
                <ul>
                    <li>OrientaÃ§Ã£o: Retrato</li>
                    <li>PÃ¡ginas: Todas</li>
                    <li>Margens: PadrÃ£o</li>
                    <li>âœ… GrÃ¡ficos de fundo (importante!)</li>
                </ul>
            </div>
            <div class="step">
                Clique em "Salvar" e escolha onde salvar o PDF
            </div>
        </div>
        
        <h2>ğŸ“š DocumentaÃ§Ãµes DisponÃ­veis</h2>
        
        <div class="file-list">
            <div class="file-item">
                <span class="file-name">ğŸ  PÃ¡gina Inicial</span>
                <a href="index.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ—ï¸ Arquitetura do Sistema</span>
                <a href="architecture.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ“Š DocumentaÃ§Ã£o das Entidades</span>
                <a href="DOCUMENTACAO-ENTIDADES.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ® Guia de Boas PrÃ¡ticas - Controllers</span>
                <a href="GUIA-CONTROLLER-BOAS-PRATICAS.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ“– ConfiguraÃ§Ã£o Swagger</span>
                <a href="SWAGGER-DOCUMENTACAO.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ”§ Resumo ImplementaÃ§Ã£o Swagger</span>
                <a href="SWAGGER-RESUMO-IMPLEMENTACAO.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ—ºï¸ Roadmap e PrÃ³ximos Passos</span>
                <a href="ROADMAP-PROXIMOS-PASSOS.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
            <div class="file-item">
                <span class="file-name">ğŸ“‹ Plano de AÃ§Ã£o Semanal</span>
                <a href="PLANO-ACAO-SEMANAL.html" target="_blank" class="btn">Abrir HTML</a>
            </div>
        </div>
        
        <div class="instruction">
            <h3>ğŸ’¡ Dicas para PDF de qualidade:</h3>
            <ul>
                <li><strong>GrÃ¡ficos de fundo:</strong> Sempre marque esta opÃ§Ã£o para manter cores e gradientes</li>
                <li><strong>Margens:</strong> Use margens padrÃ£o para melhor legibilidade</li>
                <li><strong>Qualidade:</strong> O PDF manterÃ¡ toda a formataÃ§Ã£o, incluindo links clicÃ¡veis</li>
                <li><strong>Tamanho:</strong> Cada documento gera um PDF de 5-15 pÃ¡ginas dependendo do conteÃºdo</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <a href="index.html" class="btn btn-success">ğŸš€ ComeÃ§ar - Abrir DocumentaÃ§Ã£o Principal</a>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š Guia de Boas PrÃ¡ticas - Controllers REST com Spring Boot - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ“š Guia de Boas PrÃ¡ticas - Controllers REST com Spring Boot</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-guia-de-boas-prticas-controllers-rest-com-spring-boot">ğŸ“š Guia de Boas PrÃ¡ticas - Controllers REST com Spring Boot</h1><p><strong>Finalidade:</strong> Guia educativo para desenvolvimento de controllers REST profissionais<br><strong>Foco:</strong> AnotaÃ§Ãµes, validaÃ§Ãµes e documentaÃ§Ã£o com Swagger</p>
<hr>
<h2 id="-objetivo-deste-guia">ğŸ¯ Objetivo deste Guia</h2><p>Este documento apresenta as <strong>melhores prÃ¡ticas</strong> para desenvolvimento de controllers REST no Spring Boot, com foco em:</p>
<ul>
<li><strong>AnotaÃ§Ãµes essenciais</strong> e seu uso correto</li>
<li><strong>ValidaÃ§Ãµes robustas</strong> com Bean Validation</li>
<li><strong>DocumentaÃ§Ã£o automÃ¡tica</strong> com Swagger/OpenAPI</li>
<li><strong>PadrÃµes de cÃ³digo limpo</strong> e manutenÃ­vel</li>
</ul>
<hr>
<h2 id="-estrutura-bsica-de-um-controller">ğŸ—ï¸ Estrutura BÃ¡sica de um Controller</h2><h3 id="strong-anotaes-principaisstrong"><strong>ğŸ“‹ AnotaÃ§Ãµes Principais</strong></h3><pre><code class="language-java">@RestController                    // Marca a classe como controller REST
@RequestMapping(&quot;/api/recurso&quot;)    // Define o path base
@Tag(name = &quot;Recurso&quot;, description = &quot;OperaÃ§Ãµes do recurso&quot;)  // Swagger
@Validated                        // Habilita validaÃ§Ãµes nos parÃ¢metros
public class RecursoController {
    // implementaÃ§Ã£o
}
</code></pre>
<h3 id="strong-injeo-de-dependnciasstrong"><strong>ğŸ”§ InjeÃ§Ã£o de DependÃªncias</strong></h3><pre><code class="language-java">private final RecursoService service;
private final RecursoMapper mapper;

public RecursoController(RecursoService service, RecursoMapper mapper) {
    this.service = service;
    this.mapper = mapper;
}
</code></pre>
<hr>
<h2 id="-padres-de-endpoints-rest">ğŸš€ PadrÃµes de Endpoints REST</h2><h3 id="strong1-listagem-com-paginaostrong"><strong>1. ğŸ“‹ Listagem com PaginaÃ§Ã£o</strong></h3><pre><code class="language-java">@GetMapping
@Operation(
    summary = &quot;Listar recursos com paginaÃ§Ã£o&quot;,
    description = &quot;Retorna lista paginada de recursos com filtros opcionais&quot;
)
@ApiResponses({
    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Lista retornada com sucesso&quot;),
    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;ParÃ¢metros invÃ¡lidos&quot;)
})
public ResponseEntity&lt;Page&lt;RecursoDTO&gt;&gt; listar(
    @Parameter(description = &quot;NÃºmero da pÃ¡gina (0-based)&quot;)
    @RequestParam(defaultValue = &quot;0&quot;) @Min(0) int page,
    
    @Parameter(description = &quot;Tamanho da pÃ¡gina&quot;)
    @RequestParam(defaultValue = &quot;20&quot;) @Min(1) @Max(100) int size,
    
    @Parameter(description = &quot;Filtros de busca&quot;)
    @Valid RecursoFiltroDTO filtros
) {
    Pageable pageable = PageRequest.of(page, size);
    Page&lt;Recurso&gt; recursos = service.buscarComFiltros(filtros, pageable);
    Page&lt;RecursoDTO&gt; dtos = recursos.map(mapper::toDTO);
    return ResponseEntity.ok(dtos);
}
</code></pre>
<h3 id="strong2-busca-por-idstrong"><strong>2. ğŸ” Busca por ID</strong></h3><pre><code class="language-java">@GetMapping(&quot;/{id}&quot;)
@Operation(summary = &quot;Buscar recurso por ID&quot;)
@ApiResponses({
    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Recurso encontrado&quot;),
    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Recurso nÃ£o encontrado&quot;)
})
public ResponseEntity&lt;RecursoDTO&gt; buscarPorId(
    @Parameter(description = &quot;ID do recurso&quot;, required = true)
    @PathVariable @Positive Long id
) {
    Recurso recurso = service.buscarPorId(id);
    RecursoDTO dto = mapper.toDTO(recurso);
    return ResponseEntity.ok(dto);
}
</code></pre>
<h3 id="strong3-criao-de-recursostrong"><strong>3. â• CriaÃ§Ã£o de Recurso</strong></h3><pre><code class="language-java">@PostMapping
@Operation(summary = &quot;Criar novo recurso&quot;)
@ApiResponses({
    @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Recurso criado com sucesso&quot;),
    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Dados invÃ¡lidos&quot;),
    @ApiResponse(responseCode = &quot;409&quot;, description = &quot;Recurso jÃ¡ existe&quot;)
})
public ResponseEntity&lt;RecursoDTO&gt; criar(
    @Parameter(description = &quot;Dados para criaÃ§Ã£o do recurso&quot;)
    @Valid @RequestBody RecursoCreateDTO createDTO
) {
    Recurso novoRecurso = mapper.toEntity(createDTO);
    Recurso recursoSalvo = service.criar(novoRecurso);
    RecursoDTO dto = mapper.toDTO(recursoSalvo);
    
    URI location = ServletUriComponentsBuilder
        .fromCurrentRequest()
        .path(&quot;/{id}&quot;)
        .buildAndExpand(recursoSalvo.getId())
        .toUri();
        
    return ResponseEntity.created(location).body(dto);
}
</code></pre>
<h3 id="strong4-atualizao-de-recursostrong"><strong>4. ğŸ”„ AtualizaÃ§Ã£o de Recurso</strong></h3><pre><code class="language-java">@PutMapping(&quot;/{id}&quot;)
@Operation(summary = &quot;Atualizar recurso existente&quot;)
@ApiResponses({
    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Recurso atualizado&quot;),
    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Recurso nÃ£o encontrado&quot;),
    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Dados invÃ¡lidos&quot;)
})
public ResponseEntity&lt;RecursoDTO&gt; atualizar(
    @Parameter(description = &quot;ID do recurso&quot;)
    @PathVariable @Positive Long id,
    
    @Parameter(description = &quot;Dados para atualizaÃ§Ã£o&quot;)
    @Valid @RequestBody RecursoUpdateDTO updateDTO
) {
    Recurso recursoAtualizado = service.atualizar(id, updateDTO);
    RecursoDTO dto = mapper.toDTO(recursoAtualizado);
    return ResponseEntity.ok(dto);
}
</code></pre>
<h3 id="strong5-excluso-de-recursostrong"><strong>5. ğŸ—‘ï¸ ExclusÃ£o de Recurso</strong></h3><pre><code class="language-java">@DeleteMapping(&quot;/{id}&quot;)
@Operation(summary = &quot;Excluir recurso&quot;)
@ApiResponses({
    @ApiResponse(responseCode = &quot;204&quot;, description = &quot;Recurso excluÃ­do&quot;),
    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Recurso nÃ£o encontrado&quot;),
    @ApiResponse(responseCode = &quot;409&quot;, description = &quot;NÃ£o Ã© possÃ­vel excluir&quot;)
})
public ResponseEntity&lt;Void&gt; excluir(
    @Parameter(description = &quot;ID do recurso&quot;)
    @PathVariable @Positive Long id
) {
    service.excluir(id);
    return ResponseEntity.noContent().build();
}
</code></pre>
<hr>
<h2 id="-dtos-com-validaes">ğŸ¨ DTOs com ValidaÃ§Ãµes</h2><h3 id="strong-escolhendo-entre-codepublic-recordcode-e-codepublic-classcodestrong"><strong>ï¿½ Escolhendo Entre <code>public record</code> e <code>public class</code></strong></h3><h4 id="strong-public-record-moderna-e-imutvel-java-14strong"><strong>ğŸ†• public record - Moderna e ImutÃ¡vel (Java 14+)</strong></h4><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>ImutÃ¡vel por padrÃ£o</strong> - Todos os campos sÃ£o <code>final</code></li>
<li><strong>Menos cÃ³digo</strong> - Elimina getters/setters/equals/hashCode</li>
<li><strong>Construtor automÃ¡tico</strong> - Com todos os parÃ¢metros obrigatÃ³rios</li>
<li><strong>Performance</strong> - Ligeiramente mais eficiente</li>
</ul>
<pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de recurso&quot;)
public record RecursoCreateDTO(
    @Schema(description = &quot;Nome do recurso&quot;, example = &quot;Recurso Exemplo&quot;)
    @NotBlank(message = &quot;Nome Ã© obrigatÃ³rio&quot;)
    @Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
    String nome,
    
    @Schema(description = &quot;DescriÃ§Ã£o&quot;, example = &quot;DescriÃ§Ã£o do recurso&quot;)
    @Size(max = 500, message = &quot;DescriÃ§Ã£o nÃ£o pode exceder 500 caracteres&quot;)
    String descricao,
    
    @Schema(description = &quot;Status ativo&quot;, example = &quot;true&quot;)
    @NotNull(message = &quot;Status Ã© obrigatÃ³rio&quot;)
    Boolean ativo,
    
    @Schema(description = &quot;Valor monetÃ¡rio&quot;, example = &quot;99.99&quot;)
    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Valor deve ser positivo&quot;)
    BigDecimal valor
) {}
</code></pre>
<h4 id="strong-public-class-tradicional-e-flexvelstrong"><strong>ğŸ—ï¸ public class - Tradicional e FlexÃ­vel</strong></h4><p><strong>CaracterÃ­sticas:</strong></p>
<ul>
<li><strong>MutÃ¡vel</strong> - Campos podem ser modificados depois da criaÃ§Ã£o</li>
<li><strong>Flexibilidade total</strong> - Permite mÃ©todos customizados</li>
<li><strong>Compatibilidade</strong> - Funciona com todas as versÃµes Java</li>
<li><strong>HeranÃ§a</strong> - Suporta extends e implementaÃ§Ãµes complexas</li>
</ul>
<pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de recurso&quot;)
@Getter @Setter
@NoArgsConstructor @AllArgsConstructor
public class RecursoCreateDTO {
    
    @Schema(description = &quot;Nome do recurso&quot;, example = &quot;Recurso Exemplo&quot;)
    @NotBlank(message = &quot;Nome Ã© obrigatÃ³rio&quot;)
    @Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
    private String nome;
    
    @Schema(description = &quot;DescriÃ§Ã£o&quot;, example = &quot;DescriÃ§Ã£o do recurso&quot;)
    @Size(max = 500, message = &quot;DescriÃ§Ã£o nÃ£o pode exceder 500 caracteres&quot;)
    private String descricao;
    
    @Schema(description = &quot;Status ativo&quot;, example = &quot;true&quot;)
    @NotNull(message = &quot;Status Ã© obrigatÃ³rio&quot;)
    private Boolean ativo;
    
    @Schema(description = &quot;Valor monetÃ¡rio&quot;, example = &quot;99.99&quot;)
    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Valor deve ser positivo&quot;)
    private BigDecimal valor;
    
    // MÃ©todos customizados podem ser adicionados
    @AssertTrue(message = &quot;ValidaÃ§Ã£o customizada&quot;)
    public boolean isValidCombination() {
        return nome != null &amp;&amp; !nome.trim().isEmpty();
    }
}
</code></pre>
<h4 id="strong-guia-de-decisostrong"><strong>ğŸ¯ Guia de DecisÃ£o</strong></h4><table>
<thead>
<tr>
<th><strong>CenÃ¡rio</strong></th>
<th><strong>Record</strong></th>
<th><strong>Class</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>DTOs simples de entrada</strong></td>
<td><span class="badge success">âœ…</span> <strong>PreferÃ­vel</strong></td>
<td><span class="badge warning">âš ï¸</span> Adequado</td>
</tr>
<tr>
<td><strong>DTOs de resposta</strong></td>
<td><span class="badge success">âœ…</span> <strong>Ideal</strong></td>
<td><span class="badge warning">âš ï¸</span> Adequado</td>
</tr>
<tr>
<td><strong>Dados que nunca mudam</strong></td>
<td><span class="badge success">âœ…</span> <strong>Perfeito</strong></td>
<td><span class="badge danger">âŒ</span> DesnecessÃ¡rio</td>
</tr>
<tr>
<td><strong>ValidaÃ§Ãµes complexas</strong></td>
<td><span class="badge warning">âš ï¸</span> Limitado</td>
<td><span class="badge success">âœ…</span> <strong>Melhor</strong></td>
</tr>
<tr>
<td><strong>HeranÃ§a necessÃ¡ria</strong></td>
<td><span class="badge danger">âŒ</span> NÃ£o suporta</td>
<td><span class="badge success">âœ…</span> <strong>ObrigatÃ³rio</strong></td>
</tr>
<tr>
<td><strong>Java &lt; 14</strong></td>
<td><span class="badge danger">âŒ</span> IndisponÃ­vel</td>
<td><span class="badge success">âœ…</span> <strong>Ãšnica opÃ§Ã£o</strong></td>
</tr>
<tr>
<td><strong>Bibliotecas legadas</strong></td>
<td><span class="badge warning">âš ï¸</span> Compatibilidade</td>
<td><span class="badge success">âœ…</span> <strong>Garantida</strong></td>
</tr>
</tbody></table>
<h4 id="strong-recomendao-geralstrong"><strong>ğŸ’¡ RecomendaÃ§Ã£o Geral</strong></h4><pre><code class="language-java">// &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; PREFERÃVEL - Records para DTOs simples
public record ProductCreateDTO(
    @NotBlank String name,
    @Positive BigDecimal price,
    @NotNull Boolean active
) {}

// &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; ALTERNATIVO - Classes quando precisar de flexibilidade
@Getter @Setter
public class ProductUpdateDTO {
    private String name;
    private BigDecimal price;
    private Boolean active;
    
    @AssertTrue(message = &quot;Pelo menos um campo deve ser fornecido&quot;)
    public boolean hasAtLeastOneField() {
        return name != null || price != null || active != null;
    }
}
</code></pre>
<h3 id="strong-dto-de-criaostrong"><strong>ï¿½ğŸ“¥ DTO de CriaÃ§Ã£o</strong></h3><pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de recurso&quot;)
public class RecursoCreateDTO {
    
    @Schema(description = &quot;Nome do recurso&quot;, example = &quot;Recurso Exemplo&quot;)
    @NotBlank(message = &quot;Nome Ã© obrigatÃ³rio&quot;)
    @Size(min = 2, max = 100, message = &quot;Nome deve ter entre 2 e 100 caracteres&quot;)
    private String nome;
    
    @Schema(description = &quot;DescriÃ§Ã£o detalhada&quot;, example = &quot;DescriÃ§Ã£o completa do recurso&quot;)
    @Size(max = 500, message = &quot;DescriÃ§Ã£o nÃ£o pode exceder 500 caracteres&quot;)
    private String descricao;
    
    @Schema(description = &quot;Status ativo&quot;, example = &quot;true&quot;)
    @NotNull(message = &quot;Status Ã© obrigatÃ³rio&quot;)
    private Boolean ativo;
    
    @Schema(description = &quot;Categoria do recurso&quot;, example = &quot;CATEGORIA_A&quot;)
    @NotNull(message = &quot;Categoria Ã© obrigatÃ³ria&quot;)
    @Enumerated(EnumType.STRING)
    private CategoriaEnum categoria;
    
    @Schema(description = &quot;Valor monetÃ¡rio&quot;, example = &quot;99.99&quot;)
    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Valor deve ser positivo&quot;)
    @Digits(integer = 10, fraction = 2, message = &quot;Formato de valor invÃ¡lido&quot;)
    private BigDecimal valor;
    
    // getters e setters
}
</code></pre>
<h3 id="strong-dto-de-respostastrong"><strong>ğŸ“¤ DTO de Resposta</strong></h3><pre><code class="language-java">@Schema(description = &quot;Dados de resposta do recurso&quot;)
public class RecursoDTO {
    
    @Schema(description = &quot;ID Ãºnico do recurso&quot;, accessMode = Schema.AccessMode.READ_ONLY)
    private Long id;
    
    @Schema(description = &quot;Nome do recurso&quot;)
    private String nome;
    
    @Schema(description = &quot;DescriÃ§Ã£o do recurso&quot;)
    private String descricao;
    
    @Schema(description = &quot;Indica se estÃ¡ ativo&quot;)
    private Boolean ativo;
    
    @Schema(description = &quot;Categoria do recurso&quot;)
    private CategoriaEnum categoria;
    
    @Schema(description = &quot;Valor formatado para exibiÃ§Ã£o&quot;, example = &quot;R$ 99,99&quot;)
    private String valorFormatado;
    
    @Schema(description = &quot;Data de criaÃ§Ã£o&quot;, accessMode = Schema.AccessMode.READ_ONLY)
    private LocalDateTime criadoEm;
    
    @Schema(description = &quot;Data da Ãºltima atualizaÃ§Ã£o&quot;, accessMode = Schema.AccessMode.READ_ONLY)
    private LocalDateTime atualizadoEm;
    
    // getters e setters
}
</code></pre>
<h3 id="strong-dto-de-filtrosstrong"><strong>ğŸ” DTO de Filtros</strong></h3><pre><code class="language-java">@Schema(description = &quot;Filtros para busca de recursos&quot;)
public class RecursoFiltroDTO {
    
    @Schema(description = &quot;Buscar por nome (busca parcial)&quot;, example = &quot;exemplo&quot;)
    private String nome;
    
    @Schema(description = &quot;Filtrar por categoria&quot;)
    private CategoriaEnum categoria;
    
    @Schema(description = &quot;Filtrar apenas ativos&quot;)
    private Boolean apenasAtivos;
    
    @Schema(description = &quot;Valor mÃ­nimo&quot;)
    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Valor mÃ­nimo deve ser positivo&quot;)
    private BigDecimal valorMinimo;
    
    @Schema(description = &quot;Valor mÃ¡ximo&quot;)
    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Valor mÃ¡ximo deve ser positivo&quot;)
    private BigDecimal valorMaximo;
    
    @Schema(description = &quot;Data inicial para filtro&quot;)
    @Past(message = &quot;Data inicial deve estar no passado&quot;)
    private LocalDate dataInicial;
    
    @Schema(description = &quot;Data final para filtro&quot;)
    private LocalDate dataFinal;
    
    // getters e setters
}
</code></pre>
<hr>
<h2 id="-documentao-swagger-avanada">ğŸ“– DocumentaÃ§Ã£o Swagger AvanÃ§ada</h2><h3 id="strong-tags-e-operaesstrong"><strong>ğŸ·ï¸ Tags e OperaÃ§Ãµes</strong></h3><pre><code class="language-java">@Tag(
    name = &quot;Recursos&quot;, 
    description = &quot;API para gerenciamento de recursos do sistema&quot;
)
@Operation(
    summary = &quot;OperaÃ§Ã£o resumida&quot;,
    description = &quot;&quot;&quot;
        DescriÃ§Ã£o detalhada da operaÃ§Ã£o em **Markdown**.
        
        ### Funcionalidades:
        - Item 1
        - Item 2
        
        ### Casos de Uso:
        - Caso A
        - Caso B
        &quot;&quot;&quot;,
    tags = {&quot;Recursos&quot;}
)
</code></pre>
<h3 id="strong-exemplos-completosstrong"><strong>ğŸ“ Exemplos Completos</strong></h3><pre><code class="language-java">@io.swagger.v3.oas.annotations.parameters.RequestBody(
    description = &quot;Dados do recurso&quot;,
    required = true,
    content = @Content(
        mediaType = &quot;application/json&quot;,
        schema = @Schema(implementation = RecursoCreateDTO.class),
        examples = {
            @ExampleObject(
                name = &quot;Exemplo BÃ¡sico&quot;,
                value = &quot;&quot;&quot;
                    {
                        &quot;nome&quot;: &quot;Produto Exemplo&quot;,
                        &quot;descricao&quot;: &quot;DescriÃ§Ã£o do produto&quot;,
                        &quot;ativo&quot;: true,
                        &quot;categoria&quot;: &quot;CATEGORIA_A&quot;,
                        &quot;valor&quot;: 99.99
                    }
                    &quot;&quot;&quot;
            ),
            @ExampleObject(
                name = &quot;Exemplo Completo&quot;,
                value = &quot;&quot;&quot;
                    {
                        &quot;nome&quot;: &quot;Produto Premium&quot;,
                        &quot;descricao&quot;: &quot;Produto com todas as funcionalidades&quot;,
                        &quot;ativo&quot;: true,
                        &quot;categoria&quot;: &quot;CATEGORIA_PREMIUM&quot;,
                        &quot;valor&quot;: 299.99
                    }
                    &quot;&quot;&quot;
            )
        }
    )
)
</code></pre>
<h3 id="strong-respostas-documentadasstrong"><strong>ğŸ”§ Respostas Documentadas</strong></h3><pre><code class="language-java">@ApiResponses({
    @ApiResponse(
        responseCode = &quot;200&quot;,
        description = &quot;&lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OperaÃ§Ã£o realizada com sucesso&quot;,
        content = @Content(
            mediaType = &quot;application/json&quot;,
            schema = @Schema(implementation = RecursoDTO.class)
        )
    ),
    @ApiResponse(
        responseCode = &quot;400&quot;,
        description = &quot;&lt;span class=&quot;badge danger&quot;&gt;âŒ&lt;/span&gt; Dados invÃ¡lidos fornecidos&quot;,
        content = @Content(
            mediaType = &quot;application/json&quot;,
            examples = @ExampleObject(
                value = &quot;&quot;&quot;
                    {
                        &quot;error&quot;: &quot;Bad Request&quot;,
                        &quot;message&quot;: &quot;Dados invÃ¡lidos&quot;,
                        &quot;details&quot;: {
                            &quot;nome&quot;: &quot;Nome Ã© obrigatÃ³rio&quot;,
                            &quot;valor&quot;: &quot;Valor deve ser positivo&quot;
                        },
                        &quot;timestamp&quot;: &quot;2025-08-27T14:30:00Z&quot;
                    }
                    &quot;&quot;&quot;
            )
        )
    ),
    @ApiResponse(
        responseCode = &quot;404&quot;,
        description = &quot;ğŸ” Recurso nÃ£o encontrado&quot;,
        content = @Content(
            mediaType = &quot;application/json&quot;,
            examples = @ExampleObject(
                value = &quot;&quot;&quot;
                    {
                        &quot;error&quot;: &quot;Not Found&quot;,
                        &quot;message&quot;: &quot;Recurso com ID 123 nÃ£o foi encontrado&quot;,
                        &quot;timestamp&quot;: &quot;2025-08-27T14:30:00Z&quot;
                    }
                    &quot;&quot;&quot;
            )
        )
    )
})
</code></pre>
<hr>
<h2 id="-segurana-e-validaes">ğŸ”’ SeguranÃ§a e ValidaÃ§Ãµes</h2><h3 id="strong-validaes-de-entradastrong"><strong>ğŸ›¡ï¸ ValidaÃ§Ãµes de Entrada</strong></h3><pre><code class="language-java">// ValidaÃ§Ãµes bÃ¡sicas
@NotNull(message = &quot;Campo obrigatÃ³rio&quot;)
@NotBlank(message = &quot;Campo nÃ£o pode estar vazio&quot;)
@NotEmpty(message = &quot;Lista nÃ£o pode estar vazia&quot;)

// ValidaÃ§Ãµes de tamanho
@Size(min = 2, max = 100, message = &quot;Tamanho invÃ¡lido&quot;)
@Length(min = 5, max = 50, message = &quot;Comprimento invÃ¡lido&quot;)

// ValidaÃ§Ãµes numÃ©ricas
@Min(value = 0, message = &quot;Valor mÃ­nimo Ã© 0&quot;)
@Max(value = 100, message = &quot;Valor mÃ¡ximo Ã© 100&quot;)
@Positive(message = &quot;Deve ser positivo&quot;)
@PositiveOrZero(message = &quot;Deve ser positivo ou zero&quot;)

// ValidaÃ§Ãµes de formato
@Email(message = &quot;Email invÃ¡lido&quot;)
@Pattern(regexp = &quot;\\d{11}&quot;, message = &quot;CPF deve ter 11 dÃ­gitos&quot;)
@URL(message = &quot;URL invÃ¡lida&quot;)

// ValidaÃ§Ãµes de data
@Past(message = &quot;Data deve estar no passado&quot;)
@Future(message = &quot;Data deve estar no futuro&quot;)
@PastOrPresent(message = &quot;Data deve ser passado ou presente&quot;)
</code></pre>
<h3 id="strong-autorizaostrong"><strong>ğŸ” AutorizaÃ§Ã£o</strong></h3><pre><code class="language-java">@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)
@Operation(security = @SecurityRequirement(name = &quot;bearerAuth&quot;))
public ResponseEntity&lt;RecursoDTO&gt; operacaoRestrita() {
    // implementaÃ§Ã£o
}
</code></pre>
<hr>
<h2 id="-tratamento-de-erros">ğŸ› ï¸ Tratamento de Erros</h2><h3 id="strongspan-classbadge-warningspan-exception-handler-globalstrong"><strong><span class="badge warning">âš ï¸</span> Exception Handler Global</strong></h3><pre><code class="language-java">@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(MethodArgumentNotValidException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    public Map&lt;String, Object&gt; handleValidationErrors(MethodArgumentNotValidException ex) {
        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();
        ex.getBindingResult().getFieldErrors().forEach(error -&gt; 
            errors.put(error.getField(), error.getDefaultMessage())
        );
        
        return Map.of(
            &quot;error&quot;, &quot;Validation Failed&quot;,
            &quot;message&quot;, &quot;Dados invÃ¡lidos&quot;,
            &quot;details&quot;, errors,
            &quot;timestamp&quot;, Instant.now()
        );
    }
    
    @ExceptionHandler(EntityNotFoundException.class)
    @ResponseStatus(HttpStatus.NOT_FOUND)
    public Map&lt;String, Object&gt; handleNotFound(EntityNotFoundException ex) {
        return Map.of(
            &quot;error&quot;, &quot;Not Found&quot;,
            &quot;message&quot;, ex.getMessage(),
            &quot;timestamp&quot;, Instant.now()
        );
    }
}
</code></pre>
<hr>
<h2 id="-testabilidade">ğŸ§ª Testabilidade</h2><h3 id="strong-controller-teststrong"><strong>ğŸ”¬ Controller Test</strong></h3><pre><code class="language-java">@WebMvcTest(RecursoController.class)
class RecursoControllerTest {
    
    @Autowired
    private MockMvc mockMvc;
    
    @MockBean
    private RecursoService service;
    
    @Test
    void deveListarRecursos() throws Exception {
        // given
        Page&lt;Recurso&gt; recursos = new PageImpl&lt;&gt;(List.of(/* recursos */));
        when(service.buscarComFiltros(any(), any())).thenReturn(recursos);
        
        // when &amp; then
        mockMvc.perform(get(&quot;/api/recursos&quot;))
            .andExpect(status().isOk())
            .andExpect(jsonPath(&quot;$.content&quot;).isArray());
    }
    
    @Test
    void deveCriarRecurso() throws Exception {
        // given
        String jsonRequest = &quot;&quot;&quot;
            {
                &quot;nome&quot;: &quot;Teste&quot;,
                &quot;descricao&quot;: &quot;DescriÃ§Ã£o teste&quot;,
                &quot;ativo&quot;: true,
                &quot;categoria&quot;: &quot;CATEGORIA_A&quot;,
                &quot;valor&quot;: 99.99
            }
            &quot;&quot;&quot;;
        
        // when &amp; then
        mockMvc.perform(post(&quot;/api/recursos&quot;)
                .contentType(MediaType.APPLICATION_JSON)
                .content(jsonRequest))
            .andExpect(status().isCreated());
    }
}
</code></pre>
<hr>
<h2 id="-boas-prticas-resumidas">ğŸ¯ Boas PrÃ¡ticas Resumidas</h2><h3 id="strongspan-classbadge-successspan-fazerstrong"><strong><span class="badge success">âœ…</span> Fazer:</strong></h3><ul>
<li><strong>Use DTOs</strong> separados para entrada e saÃ­da</li>
<li><strong>Valide todas as entradas</strong> com Bean Validation</li>
<li><strong>Documente completamente</strong> com Swagger</li>
<li><strong>Trate erros adequadamente</strong> com handlers globais</li>
<li><strong>Implemente paginaÃ§Ã£o</strong> para listagens</li>
<li><strong>Use ResponseEntity</strong> para controle preciso de status</li>
<li><strong>Separe responsabilidades</strong> (Controller â†’ Service â†’ Repository)</li>
</ul>
<h3 id="strongspan-classbadge-dangerspan-evitarstrong"><strong><span class="badge danger">âŒ</span> Evitar:</strong></h3><ul>
<li><strong>Expor entidades JPA</strong> diretamente</li>
<li><strong>Misturar lÃ³gica de negÃ³cio</strong> no controller</li>
<li><strong>Ignorar validaÃ§Ãµes</strong> de entrada</li>
<li><strong>DocumentaÃ§Ã£o incompleta</strong> ou ausente</li>
<li><strong>Retornos inconsistentes</strong> de status HTTP</li>
<li><strong>MÃ©todos muito grandes</strong> ou complexos</li>
</ul>
<hr>
<h2 id="-recursos-adicionais">ğŸ“š Recursos Adicionais</h2><h3 id="strong-links-teisstrong"><strong>ğŸ”— Links Ãšteis:</strong></h3><ul>
<li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference</a></li>
<li><a href="https://beanvalidation.org/2.0/spec/">Bean Validation Specification</a></li>
<li><a href="https://swagger.io/specification/">OpenAPI 3 Specification</a></li>
<li><a href="https://docs.spring.io/spring-security/reference/">Spring Security Reference</a></li>
</ul>
<h3 id="strong-padres-recomendadosstrong"><strong>ğŸ“– PadrÃµes Recomendados:</strong></h3><ul>
<li><strong>REST API Design</strong> - PrincÃ­pios RESTful</li>
<li><strong>Clean Code</strong> - CÃ³digo limpo e legÃ­vel</li>
<li><strong>SOLID Principles</strong> - PrincÃ­pios de design</li>
<li><strong>Test-Driven Development</strong> - Desenvolvimento orientado a testes</li>
</ul>
<hr>
<p><strong>ğŸ¯ ConclusÃ£o:</strong> Este guia fornece uma base sÃ³lida para desenvolvimento de controllers REST profissionais, focando em cÃ³digo limpo, documentaÃ§Ã£o completa e boas prÃ¡ticas de validaÃ§Ã£o e seguranÃ§a.</p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“Š Repository Pattern e Spring Data JPA - Guia Completo - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ“Š Repository Pattern e Spring Data JPA - Guia Completo</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-repository-pattern-e-spring-data-jpa-guia-completo">ğŸ“Š Repository Pattern e Spring Data JPA - Guia Completo</h1><p><strong>Finalidade:</strong> Guia fundamental sobre Repository Pattern e Spring Data JPA<br><strong>Foco:</strong> Conceitos, implementaÃ§Ã£o e boas prÃ¡ticas<br><strong>Tecnologia:</strong> Spring Data JPA, Repository Pattern, Query Methods</p>
<h2 id="-links-rpidos-para-documentao-oficial">ğŸ”— Links RÃ¡pidos para DocumentaÃ§Ã£o Oficial</h2><table>
<thead>
<tr>
<th><strong>Recurso</strong></th>
<th><strong>Link</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ“– <strong>Spring Data JPA</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/">Reference Guide</a></td>
<td>DocumentaÃ§Ã£o completa oficial</td>
</tr>
<tr>
<td>ğŸ”§ <strong>Repository Interface</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.core-concepts">Core Concepts</a></td>
<td>Conceitos fundamentais</td>
</tr>
<tr>
<td>ğŸ¯ <strong>Query Methods</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods">Query Creation</a></td>
<td>CriaÃ§Ã£o de consultas</td>
</tr>
<tr>
<td>ğŸ“Š <strong>JPA Repository</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.repositories">JPA Repositories</a></td>
<td>RepositÃ³rios JPA especÃ­ficos</td>
</tr>
<tr>
<td>ğŸš€ <strong>Custom Implementations</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations">Custom Repository</a></td>
<td>ImplementaÃ§Ãµes customizadas</td>
</tr>
</tbody></table>
<p>ğŸ’¡ <strong>Mais links detalhados disponÃ­veis na <a href="#-documenta%C3%A7%C3%A3o-oficial-e-refer%C3%AAncias">seÃ§Ã£o de documentaÃ§Ã£o oficial</a> no final deste guia.</strong></p>
<h2 id="-navegao-rpida-no-guia">ğŸ§­ NavegaÃ§Ã£o RÃ¡pida no Guia</h2><table>
<thead>
<tr>
<th><strong>ğŸ“‹ SeÃ§Ã£o</strong></th>
<th><strong>ğŸ¯ ConteÃºdo</strong></th>
<th><strong>ğŸ”— Link Direto</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>ğŸ—ï¸ Conceitos</strong></td>
<td>O que Ã© Repository Pattern</td>
<td><a href="#-o-que-%C3%A9-repository-pattern">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸš€ Spring Data JPA</strong></td>
<td>AutomaÃ§Ã£o e funcionalidades</td>
<td><a href="#-spring-data-jpa---o-poder-da-automa%C3%A7%C3%A3o">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸ“‹ Hierarquia</strong></td>
<td>Interfaces Repository disponÃ­veis</td>
<td><a href="#-hierarquia-de-interfaces-repository">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸ”§ ImplementaÃ§Ã£o</strong></td>
<td>CÃ³digo prÃ¡tico do projeto</td>
<td><a href="#-implementa%C3%A7%C3%A3o-pr%C3%A1tica---projeto-doesangue">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸ” Query Methods</strong></td>
<td>ConvenÃ§Ãµes de nomenclatura</td>
<td><a href="#-query-methods---conven%C3%A7%C3%B5es-de-nomenclatura">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸ“Š Ãndices</strong></td>
<td>Performance com Ã­ndices de BD</td>
<td><a href="#-%C3%ADndices-de-banco-de-dados---performance-e-otimiza%C3%A7%C3%A3o"><strong>âš¡ Ir para Ãndices</strong></a></td>
</tr>
<tr>
<td><strong>ğŸ§ª Testes</strong></td>
<td>Testes com @DataJpaTest</td>
<td><a href="#-testes-com-repository">Ir para seÃ§Ã£o</a></td>
</tr>
<tr>
<td><strong>ğŸŒŸ AvanÃ§ado</strong></td>
<td>Custom implementations</td>
<td><a href="#-recursos-avan%C3%A7ados">Ir para seÃ§Ã£o</a></td>
</tr>
</tbody></table>
<p>ğŸ’¡ <strong>Mais links detalhados disponÃ­veis na <a href="#-documenta%C3%A7%C3%A3o-oficial-e-refer%C3%AAncias">seÃ§Ã£o de documentaÃ§Ã£o oficial</a> no final deste guia.</strong></p>
<hr>
<h2 id="-o-que-repository-pattern">ğŸ¯ O que Ã© Repository Pattern?</h2><h3 id="strong-conceito-fundamentalstrong"><strong>ğŸ—ï¸ Conceito Fundamental</strong></h3><p>O <strong>Repository Pattern</strong> Ã© um padrÃ£o de design que encapsula a lÃ³gica necessÃ¡ria para acessar fontes de dados. Ele centraliza funcionalidades comuns de acesso a dados, proporcionando melhor manutenibilidade e desacoplamento da infraestrutura ou tecnologia usada para acessar bancos de dados.</p>
<h3 id="strong-analogia-prticastrong"><strong>ğŸ’¡ Analogia PrÃ¡tica:</strong></h3><p>Imagine o Repository como um <strong>&quot;bibliotecÃ¡rio digital&quot;</strong>:</p>
<ul>
<li>ğŸ“š <strong>VocÃª pede</strong> um livro (entidade) pelo tÃ­tulo (ID)</li>
<li>ğŸ” <strong>Ele busca</strong> na estante (banco de dados)</li>
<li>ğŸ“– <strong>Retorna</strong> o livro (objeto) para vocÃª</li>
<li>ğŸ“ <strong>Organiza</strong> novos livros (save) na estante</li>
<li>ğŸ—‘ï¸ <strong>Remove</strong> livros antigos (delete) quando necessÃ¡rio</li>
</ul>
<h3 id="strongspan-classbadge-successspan-benefcios-do-repository-patternstrong"><strong><span class="badge success">âœ…</span> BenefÃ­cios do Repository Pattern:</strong></h3><ul>
<li><strong>ğŸ”„ AbstraÃ§Ã£o</strong> - Esconde detalhes de acesso aos dados</li>
<li><strong>ğŸ§ª Testabilidade</strong> - FÃ¡cil mock para testes unitÃ¡rios</li>
<li><strong>ğŸ”„ ReutilizaÃ§Ã£o</strong> - Centraliza operaÃ§Ãµes comuns</li>
<li><strong>ğŸ“Š ConsistÃªncia</strong> - Padroniza acesso aos dados</li>
<li><strong>ğŸ›¡ï¸ Manutenibilidade</strong> - MudanÃ§as isoladas em um local</li>
</ul>
<hr>
<h2 id="-spring-data-jpa-o-poder-da-automao">ğŸš€ Spring Data JPA - O Poder da AutomaÃ§Ã£o</h2><h3 id="strong-o-que-spring-data-jpastrong"><strong>ğŸ¯ O que Ã© Spring Data JPA?</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#preface">Spring Data JPA Introduction</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#getting-started">Getting Started</a></p>
</blockquote>
<p>Spring Data JPA Ã© um framework que <strong>automatiza</strong> a implementaÃ§Ã£o do Repository Pattern, gerando automaticamente implementaÃ§Ãµes baseadas em convenÃ§Ãµes de nomenclatura.</p>
<h3 id="strong-funcionalidades-principaisstrong"><strong>ğŸ”¥ Funcionalidades Principais:</strong></h3><h4 id="strong1-implementao-automticastrong"><strong>1. ğŸ¤– ImplementaÃ§Ã£o AutomÃ¡tica</strong></h4><pre><code class="language-java">// VocÃª define apenas a interface
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    // Spring Data JPA implementa automaticamente!
}

// Spring gera automaticamente:
// - save(doador)
// - findById(id)
// - findAll()
// - delete(doador)
// - count()
// - existsById(id)
// E muito mais!
</code></pre>
<h4 id="strong2-query-methods-por-convenostrong"><strong>2. ğŸ“ Query Methods por ConvenÃ§Ã£o</strong></h4><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    
    // Spring entende e gera SQL automaticamente!
    List&lt;Doador&gt; findByFullName(String fullName);
    List&lt;Doador&gt; findByEmailContaining(String email);
    List&lt;Doador&gt; findByCidadeAndEstado(String cidade, String estado);
    List&lt;Doador&gt; findByIdadeBetween(Integer minIdade, Integer maxIdade);
    List&lt;Doador&gt; findByAtivoTrue();
    
    // Equivale a: SELECT d FROM Doador d WHERE d.fullName = ?1
    // Equivale a: SELECT d FROM Doador d WHERE d.email LIKE %?1%
    // E assim por diante...
}
</code></pre>
<h4 id="strong3-paginao-e-ordenao-nativasstrong"><strong>3. ğŸ“Š PaginaÃ§Ã£o e OrdenaÃ§Ã£o Nativas</strong></h4><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    
    // PaginaÃ§Ã£o automÃ¡tica
    Page&lt;Doador&gt; findByEstado(String estado, Pageable pageable);
    
    // Slice para performance
    Slice&lt;Doador&gt; findByCidade(String cidade, Pageable pageable);
    
    // Lista ordenada
    List&lt;Doador&gt; findByAtivoTrueOrderByFullNameAsc();
}
</code></pre>
<hr>
<h2 id="-hierarquia-de-interfaces-repository">ğŸ“‹ Hierarquia de Interfaces Repository</h2><h3 id="strong-estrutura-completastrong"><strong>ğŸ—ï¸ Estrutura Completa</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.core-concepts">Repository Hierarchy</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.repositories">Interface Overview</a></p>
</blockquote>
<pre><code class="language-java">// 1. ğŸ”§ Repository (Base) - Marker interface
Repository&lt;T, ID&gt;

// 2. ğŸ“š CrudRepository - CRUD bÃ¡sico
CrudRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt;

// 3. ğŸ“„ PagingAndSortingRepository - Adiciona paginaÃ§Ã£o
PagingAndSortingRepository&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt;

// 4. ğŸš€ JpaRepository - Funcionalidades JPA especÃ­ficas
JpaRepository&lt;T, ID&gt; extends PagingAndSortingRepository&lt;T, ID&gt;
</code></pre>
<h3 id="strong-quando-usar-cada-interfacestrong"><strong>ğŸ¯ Quando Usar Cada Interface:</strong></h3><h4 id="strong1-coderepositoryltt-idgtcode-interface-markerstrong"><strong>1. <code>Repository&lt;T, ID&gt;</code> - Interface Marker</strong></h4><pre><code class="language-java">// Quando vocÃª quer controle total
public interface DoadorRepository extends Repository&lt;Doador, Long&gt; {
    // Define apenas os mÃ©todos que precisa
    Optional&lt;Doador&gt; findById(Long id);
    Doador save(Doador doador);
    // NÃ£o herda nenhum mÃ©todo automÃ¡tico
}
</code></pre>
<h4 id="strong2-codecrudrepositoryltt-idgtcode-crud-bsicostrong"><strong>2. <code>CrudRepository&lt;T, ID&gt;</code> - CRUD BÃ¡sico</strong></h4><pre><code class="language-java">public interface DoadorRepository extends CrudRepository&lt;Doador, Long&gt; {
    // Herda automaticamente:
    // save(S entity)
    // saveAll(Iterable&lt;S&gt; entities)
    // findById(ID id)
    // existsById(ID id)
    // findAll()
    // findAllById(Iterable&lt;ID&gt; ids)
    // count()
    // deleteById(ID id)
    // delete(T entity)
    // deleteAll()
}
</code></pre>
<h4 id="strong3-codepagingandsortingrepositoryltt-idgtcode-com-paginaostrong"><strong>3. <code>PagingAndSortingRepository&lt;T, ID&gt;</code> - Com PaginaÃ§Ã£o</strong></h4><pre><code class="language-java">public interface DoadorRepository extends PagingAndSortingRepository&lt;Doador, Long&gt; {
    // Herda tudo do CrudRepository +
    // findAll(Sort sort)
    // findAll(Pageable pageable)
}
</code></pre>
<h4 id="strong4-codejparepositoryltt-idgtcode-completo-recomendadostrong"><strong>4. <code>JpaRepository&lt;T, ID&gt;</code> - Completo (RECOMENDADO)</strong></h4><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    // Herda tudo dos anteriores +
    // flush()
    // saveAndFlush(S entity)
    // deleteInBatch(Iterable&lt;T&gt; entities)
    // deleteAllInBatch()
    // getReferenceById(ID id)
    // findAll(Example&lt;S&gt; example)
    // findAll(Example&lt;S&gt; example, Pageable pageable)
}
</code></pre>
<hr>
<h2 id="-implementao-prtica-projeto-doesangue">ğŸ”§ ImplementaÃ§Ã£o PrÃ¡tica - Projeto DoeSangue</h2><h3 id="strong-passo-1-definir-a-interface-repositorystrong"><strong>ğŸ“‹ Passo 1: Definir a Interface Repository</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition">Defining Repository Interfaces</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation">Repository Methods</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.repository;

import com.faculdade.doesangue_api.entities.Doador;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import org.springframework.stereotype.Repository;

import java.time.LocalDate;
import java.util.List;
import java.util.Optional;

@Repository
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // ğŸ” QUERY METHODS - Spring gera SQL automaticamente
    
    /**
     * Busca doador por CPF
     * SQL gerado: SELECT d FROM Doador d WHERE d.cpf = ?1
     */
    Optional&lt;Doador&gt; findByCpf(String cpf);
    
    /**
     * Busca doadores por nome (parcial, case-insensitive)
     * SQL gerado: SELECT d FROM Doador d WHERE LOWER(d.fullName) LIKE LOWER(?1)
     */
    List&lt;Doador&gt; findByFullNameContainingIgnoreCase(String nome);
    
    /**
     * Busca doadores por email
     * SQL gerado: SELECT d FROM Doador d WHERE d.email = ?1
     */
    Optional&lt;Doador&gt; findByEmail(String email);
    
    /**
     * Busca doadores ativos por cidade
     * SQL gerado: SELECT d FROM Doador d WHERE d.cidade = ?1 AND d.deletedAt IS NULL
     */
    List&lt;Doador&gt; findByCidadeAndDeletedAtIsNull(String cidade);
    
    /**
     * Busca doadores por estado com paginaÃ§Ã£o
     */
    Page&lt;Doador&gt; findByEstadoAndDeletedAtIsNull(String estado, Pageable pageable);
    
    /**
     * Busca doadores habituais ativos
     */
    List&lt;Doador&gt; findByDoadorHabitudeTrueAndDeletedAtIsNull();
    
    /**
     * Busca doadores por faixa de idade
     */
    List&lt;Doador&gt; findByIdadeBetweenAndDeletedAtIsNull(Integer minIdade, Integer maxIdade);
    
    /**
     * Busca doadores que podem doar (baseado na Ãºltima doaÃ§Ã£o)
     */
    List&lt;Doador&gt; findByUltimaDoacaoBeforeOrUltimaDoacaoIsNull(LocalDate dataLimite);
    
    // ğŸ“ CUSTOM QUERIES - Quando precisar de controle maior
    
    /**
     * Busca doadores com JOIN customizado
     */
    @Query(&quot;SELECT d FROM Doador d &quot; +
           &quot;JOIN d.tipoSanguineo ts &quot; +
           &quot;WHERE ts.tipoAbo = :tipoAbo &quot; +
           &quot;AND ts.fatorRh = :fatorRh &quot; +
           &quot;AND d.deletedAt IS NULL&quot;)
    List&lt;Doador&gt; findByTipoSanguineo(
        @Param(&quot;tipoAbo&quot;) String tipoAbo, 
        @Param(&quot;fatorRh&quot;) String fatorRh
    );
    
    /**
     * EstatÃ­sticas de doadores por cidade
     */
    @Query(&quot;SELECT d.cidade, COUNT(d) &quot; +
           &quot;FROM Doador d &quot; +
           &quot;WHERE d.deletedAt IS NULL &quot; +
           &quot;GROUP BY d.cidade &quot; +
           &quot;ORDER BY COUNT(d) DESC&quot;)
    List&lt;Object[]&gt; countDoadoresPorCidade();
    
    /**
     * Busca doadores aptos para doar urgente
     */
    @Query(&quot;SELECT d FROM Doador d &quot; +
           &quot;WHERE d.deletedAt IS NULL &quot; +
           &quot;AND d.doadorHabitudel = true &quot; +
           &quot;AND (d.ultimaDoacao IS NULL OR d.ultimaDoacao &lt;= :dataLimite) &quot; +
           &quot;AND d.idade BETWEEN 18 AND 65 &quot; +
           &quot;ORDER BY d.ultimaDoacao ASC NULLS FIRST&quot;)
    List&lt;Doador&gt; findDoadoresAptosParaDoarUrgente(@Param(&quot;dataLimite&quot;) LocalDate dataLimite);
    
    // ğŸ”¢ QUERIES DE CONTAGEM
    
    /**
     * Conta doadores ativos por estado
     */
    long countByEstadoAndDeletedAtIsNull(String estado);
    
    /**
     * Verifica se existe doador com CPF
     */
    boolean existsByCpfAndDeletedAtIsNull(String cpf);
    
    /**
     * Verifica se existe doador com email
     */
    boolean existsByEmailAndDeletedAtIsNull(String email);
    
    // ğŸ—‘ï¸ SOFT DELETE QUERIES
    
    /**
     * Busca apenas doadores ativos (nÃ£o deletados)
     */
    List&lt;Doador&gt; findByDeletedAtIsNull();
    
    /**
     * Busca doadores deletados (para auditoria)
     */
    List&lt;Doador&gt; findByDeletedAtIsNotNull();
}
</code></pre>
<h3 id="strong-passo-2-usar-no-servicestrong"><strong>ğŸ“‹ Passo 2: Usar no Service</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotypes">Service Layer</a> | <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction">Transaction Management</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.service;

import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.repository.DoadorRepository;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import java.time.LocalDate;
import java.util.List;
import java.util.Optional;

@Service
@Transactional(readOnly = true) // OtimizaÃ§Ã£o para operaÃ§Ãµes de leitura
public class DoadorService {

    private final DoadorRepository doadorRepository;

    public DoadorService(DoadorRepository doadorRepository) {
        this.doadorRepository = doadorRepository;
    }

    // ğŸ“‹ OPERAÃ‡Ã•ES BÃSICAS
    
    public List&lt;Doador&gt; listarTodos() {
        return doadorRepository.findByDeletedAtIsNull();
    }
    
    public Page&lt;Doador&gt; listarComPaginacao(Pageable pageable) {
        return doadorRepository.findAll(pageable);
    }
    
    public Optional&lt;Doador&gt; buscarPorId(Long id) {
        return doadorRepository.findById(id)
            .filter(doador -&gt; doador.getDeletedAt() == null);
    }
    
    public Optional&lt;Doador&gt; buscarPorCpf(String cpf) {
        return doadorRepository.findByCpf(cpf);
    }
    
    public Optional&lt;Doador&gt; buscarPorEmail(String email) {
        return doadorRepository.findByEmail(email);
    }
    
    // ğŸ” OPERAÃ‡Ã•ES DE BUSCA
    
    public List&lt;Doador&gt; buscarPorNome(String nome) {
        return doadorRepository.findByFullNameContainingIgnoreCase(nome);
    }
    
    public List&lt;Doador&gt; buscarPorCidade(String cidade) {
        return doadorRepository.findByCidadeAndDeletedAtIsNull(cidade);
    }
    
    public Page&lt;Doador&gt; buscarPorEstado(String estado, Pageable pageable) {
        return doadorRepository.findByEstadoAndDeletedAtIsNull(estado, pageable);
    }
    
    public List&lt;Doador&gt; buscarDoadoresHabituais() {
        return doadorRepository.findByDoadorHabitudeTrueAndDeletedAtIsNull();
    }
    
    public List&lt;Doador&gt; buscarPorFaixaIdade(Integer minIdade, Integer maxIdade) {
        return doadorRepository.findByIdadeBetweenAndDeletedAtIsNull(minIdade, maxIdade);
    }
    
    // ğŸ©¸ OPERAÃ‡Ã•ES ESPECÃFICAS DO DOMÃNIO
    
    public List&lt;Doador&gt; buscarDoadoresAptos() {
        // Doadores que podem doar (Ãºltim doaÃ§Ã£o &gt; 60 dias ou nunca doaram)
        LocalDate dataLimite = LocalDate.now().minusDays(60);
        return doadorRepository.findByUltimaDoacaoBeforeOrUltimaDoacaoIsNull(dataLimite);
    }
    
    public List&lt;Doador&gt; buscarPorTipoSanguineo(String tipoAbo, String fatorRh) {
        return doadorRepository.findByTipoSanguineo(tipoAbo, fatorRh);
    }
    
    public List&lt;Doador&gt; buscarDoadoresUrgente() {
        LocalDate dataLimite = LocalDate.now().minusDays(60);
        return doadorRepository.findDoadoresAptosParaDoarUrgente(dataLimite);
    }
    
    // ğŸ’¾ OPERAÃ‡Ã•ES DE PERSISTÃŠNCIA
    
    @Transactional // Remove readOnly para operaÃ§Ãµes de escrita
    public Doador salvar(Doador doador) {
        return doadorRepository.save(doador);
    }
    
    @Transactional
    public Doador atualizar(Doador doador) {
        return doadorRepository.save(doador);
    }
    
    @Transactional
    public void deletar(Long id) {
        doadorRepository.findById(id)
            .ifPresent(doador -&gt; {
                doador.setDeletedAt(LocalDateTime.now());
                doadorRepository.save(doador); // Soft delete
            });
    }
    
    // ğŸ“Š OPERAÃ‡Ã•ES DE ESTATÃSTICA
    
    public long contarPorEstado(String estado) {
        return doadorRepository.countByEstadoAndDeletedAtIsNull(estado);
    }
    
    public boolean existePorCpf(String cpf) {
        return doadorRepository.existsByCpfAndDeletedAtIsNull(cpf);
    }
    
    public boolean existePorEmail(String email) {
        return doadorRepository.existsByEmailAndDeletedAtIsNull(email);
    }
    
    public List&lt;Object[]&gt; obterEstatisticasPorCidade() {
        return doadorRepository.countDoadoresPorCidade();
    }
}
</code></pre>
<h3 id="strong-passo-3-usar-no-controllerstrong"><strong>ğŸ“‹ Passo 3: Usar no Controller</strong></h3><pre><code class="language-java">package com.faculdade.doesangue_api.controller;

import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.service.DoadorService;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping(&quot;/api/doadores&quot;)
public class DoadorController {

    private final DoadorService doadorService;

    public DoadorController(DoadorService doadorService) {
        this.doadorService = doadorService;
    }

    @GetMapping
    public ResponseEntity&lt;Page&lt;Doador&gt;&gt; listar(Pageable pageable) {
        Page&lt;Doador&gt; doadores = doadorService.listarComPaginacao(pageable);
        return ResponseEntity.ok(doadores);
    }

    @GetMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;Doador&gt; buscarPorId(@PathVariable Long id) {
        return doadorService.buscarPorId(id)
            .map(ResponseEntity::ok)
            .orElse(ResponseEntity.notFound().build());
    }

    @GetMapping(&quot;/cpf/{cpf}&quot;)
    public ResponseEntity&lt;Doador&gt; buscarPorCpf(@PathVariable String cpf) {
        return doadorService.buscarPorCpf(cpf)
            .map(ResponseEntity::ok)
            .orElse(ResponseEntity.notFound().build());
    }

    @GetMapping(&quot;/buscar&quot;)
    public ResponseEntity&lt;List&lt;Doador&gt;&gt; buscarPorNome(@RequestParam String nome) {
        List&lt;Doador&gt; doadores = doadorService.buscarPorNome(nome);
        return ResponseEntity.ok(doadores);
    }
    
    // Outros endpoints...
}
</code></pre>
<hr>
<h2 id="-query-methods-convenes-de-nomenclatura">ğŸ” Query Methods - ConvenÃ§Ãµes de Nomenclatura</h2><h3 id="strong-keywords-principaisstrong"><strong>ğŸ“š Keywords Principais</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords">Supported Keywords</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation">Query Creation Examples</a></p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>Keyword</strong></th>
<th><strong>Exemplo</strong></th>
<th><strong>SQL Gerado</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>findBy</code></td>
<td><code>findByName(String name)</code></td>
<td><code>WHERE name = ?1</code></td>
</tr>
<tr>
<td><code>findByAnd</code></td>
<td><code>findByNameAndEmail(String name, String email)</code></td>
<td><code>WHERE name = ?1 AND email = ?2</code></td>
</tr>
<tr>
<td><code>findByOr</code></td>
<td><code>findByNameOrEmail(String name, String email)</code></td>
<td><code>WHERE name = ?1 OR email = ?2</code></td>
</tr>
<tr>
<td><code>findByContaining</code></td>
<td><code>findByNameContaining(String name)</code></td>
<td><code>WHERE name LIKE %?1%</code></td>
</tr>
<tr>
<td><code>findByStartingWith</code></td>
<td><code>findByNameStartingWith(String prefix)</code></td>
<td><code>WHERE name LIKE ?1%</code></td>
</tr>
<tr>
<td><code>findByEndingWith</code></td>
<td><code>findByNameEndingWith(String suffix)</code></td>
<td><code>WHERE name LIKE %?1</code></td>
</tr>
<tr>
<td><code>findByIgnoreCase</code></td>
<td><code>findByNameIgnoreCase(String name)</code></td>
<td><code>WHERE UPPER(name) = UPPER(?1)</code></td>
</tr>
<tr>
<td><code>findByBetween</code></td>
<td><code>findByAgeBetween(int start, int end)</code></td>
<td><code>WHERE age BETWEEN ?1 AND ?2</code></td>
</tr>
<tr>
<td><code>findByLessThan</code></td>
<td><code>findByAgeLessThan(int age)</code></td>
<td><code>WHERE age &lt; ?1</code></td>
</tr>
<tr>
<td><code>findByGreaterThan</code></td>
<td><code>findByAgeGreaterThan(int age)</code></td>
<td><code>WHERE age &gt; ?1</code></td>
</tr>
<tr>
<td><code>findByIsNull</code></td>
<td><code>findByEmailIsNull()</code></td>
<td><code>WHERE email IS NULL</code></td>
</tr>
<tr>
<td><code>findByIsNotNull</code></td>
<td><code>findByEmailIsNotNull()</code></td>
<td><code>WHERE email IS NOT NULL</code></td>
</tr>
<tr>
<td><code>findByTrue</code></td>
<td><code>findByActiveTrue()</code></td>
<td><code>WHERE active = true</code></td>
</tr>
<tr>
<td><code>findByFalse</code></td>
<td><code>findByActiveFalse()</code></td>
<td><code>WHERE active = false</code></td>
</tr>
<tr>
<td><code>findByOrderBy</code></td>
<td><code>findByAgeOrderByNameAsc(int age)</code></td>
<td><code>WHERE age = ?1 ORDER BY name ASC</code></td>
</tr>
</tbody></table>
<h3 id="strong-exemplos-prticos-para-doesanguestrong"><strong>ğŸ¯ Exemplos PrÃ¡ticos para DoeSangue:</strong></h3><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // Busca simples
    List&lt;Doador&gt; findByFullName(String fullName);
    
    // Busca com LIKE (contÃ©m)
    List&lt;Doador&gt; findByFullNameContaining(String nome);
    
    // Busca case-insensitive
    List&lt;Doador&gt; findByFullNameContainingIgnoreCase(String nome);
    
    // Busca com mÃºltiplos campos
    List&lt;Doador&gt; findByCidadeAndEstado(String cidade, String estado);
    
    // Busca com OR
    List&lt;Doador&gt; findByEmailOrTelefonePrincipal(String email, String telefone);
    
    // Busca por range
    List&lt;Doador&gt; findByIdadeBetween(Integer minIdade, Integer maxIdade);
    
    // Busca com condiÃ§Ãµes nulas
    List&lt;Doador&gt; findByDeletedAtIsNull();
    List&lt;Doador&gt; findByUltimaDoacaoIsNotNull();
    
    // Busca com boolean
    List&lt;Doador&gt; findByDoadorHabitudereTrue();
    List&lt;Doador&gt; findByAtivoFalse();
    
    // Busca com ordenaÃ§Ã£o
    List&lt;Doador&gt; findByEstadoOrderByFullNameAsc(String estado);
    List&lt;Doador&gt; findByCidadeOrderByIdadeDescFullNameAsc(String cidade);
    
    // Busca com LIKE e wildcards
    List&lt;Doador&gt; findByEmailStartingWith(String prefixo); // email LIKE &#39;prefix%&#39;
    List&lt;Doador&gt; findByFullNameEndingWith(String sufixo); // nome LIKE &#39;%sufixo&#39;
    
    // Busca por data
    List&lt;Doador&gt; findByDataNascimentoBefore(LocalDate data);
    List&lt;Doador&gt; findByCreatedAtAfter(LocalDateTime data);
    
    // Contadores
    long countByCidade(String cidade);
    long countByEstadoAndAtivoTrue(String estado);
    
    // VerificaÃ§Ã£o de existÃªncia
    boolean existsByCpf(String cpf);
    boolean existsByEmailAndDeletedAtIsNull(String email);
    
    // Primeira ocorrÃªncia
    Optional&lt;Doador&gt; findFirstByOrderByCreatedAtDesc();
    Optional&lt;Doador&gt; findTopByEstadoOrderByIdadeAsc(String estado);
}
</code></pre>
<hr>
<h2 id="-testes-com-repository">ğŸ§ª Testes com Repository</h2><h3 id="strong-teste-unitrio-com-datajpateststrong"><strong>ğŸ”§ Teste UnitÃ¡rio com @DataJpaTest</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/testing.html#testing.spring-boot-applications.testing-autoconfigured-jpa">Testing Data Layer</a> | <a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html">@DataJpaTest</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.repository;

import com.faculdade.doesangue_api.entities.Doador;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;
import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;

import java.time.LocalDate;
import java.util.List;
import java.util.Optional;

import static org.assertj.core.api.Assertions.assertThat;

@DataJpaTest
class DoadorRepositoryTest {

    @Autowired
    private TestEntityManager entityManager;

    @Autowired
    private DoadorRepository doadorRepository;

    @Test
    void deveBuscarDoadorPorCpf() {
        // Given
        Doador doador = new Doador();
        doador.setCpf(&quot;12345678901&quot;);
        doador.setFullName(&quot;JoÃ£o Silva&quot;);
        doador.setEmail(&quot;joao@email.com&quot;);
        entityManager.persistAndFlush(doador);

        // When
        Optional&lt;Doador&gt; resultado = doadorRepository.findByCpf(&quot;12345678901&quot;);

        // Then
        assertThat(resultado).isPresent();
        assertThat(resultado.get().getFullName()).isEqualTo(&quot;JoÃ£o Silva&quot;);
    }

    @Test
    void deveBuscarDoadoresPorNomeContendo() {
        // Given
        Doador doador1 = criarDoador(&quot;JoÃ£o Silva&quot;, &quot;joao@email.com&quot;);
        Doador doador2 = criarDoador(&quot;Maria JoÃ£o&quot;, &quot;maria@email.com&quot;);
        Doador doador3 = criarDoador(&quot;Pedro Santos&quot;, &quot;pedro@email.com&quot;);
        
        entityManager.persistAndFlush(doador1);
        entityManager.persistAndFlush(doador2);
        entityManager.persistAndFlush(doador3);

        // When
        List&lt;Doador&gt; resultado = doadorRepository.findByFullNameContainingIgnoreCase(&quot;joÃ£o&quot;);

        // Then
        assertThat(resultado).hasSize(2);
        assertThat(resultado).extracting(Doador::getFullName)
            .containsExactlyInAnyOrder(&quot;JoÃ£o Silva&quot;, &quot;Maria JoÃ£o&quot;);
    }

    @Test
    void deveRetornarPaginacaoCorretamente() {
        // Given
        for (int i = 1; i &lt;= 25; i++) {
            Doador doador = criarDoador(&quot;Doador &quot; + i, &quot;doador&quot; + i + &quot;@email.com&quot;);
            entityManager.persist(doador);
        }
        entityManager.flush();

        // When
        Page&lt;Doador&gt; primeiraPagina = doadorRepository.findAll(PageRequest.of(0, 10));
        Page&lt;Doador&gt; segundaPagina = doadorRepository.findAll(PageRequest.of(1, 10));

        // Then
        assertThat(primeiraPagina.getContent()).hasSize(10);
        assertThat(primeiraPagina.getTotalElements()).isEqualTo(25);
        assertThat(primeiraPagina.getTotalPages()).isEqualTo(3);
        assertThat(segundaPagina.getContent()).hasSize(10);
    }

    @Test
    void deveContarDoadoresPorEstado() {
        // Given
        entityManager.persist(criarDoadorComEstado(&quot;Doador 1&quot;, &quot;SP&quot;));
        entityManager.persist(criarDoadorComEstado(&quot;Doador 2&quot;, &quot;SP&quot;));
        entityManager.persist(criarDoadorComEstado(&quot;Doador 3&quot;, &quot;RJ&quot;));
        entityManager.flush();

        // When
        long countSP = doadorRepository.countByEstadoAndDeletedAtIsNull(&quot;SP&quot;);
        long countRJ = doadorRepository.countByEstadoAndDeletedAtIsNull(&quot;RJ&quot;);

        // Then
        assertThat(countSP).isEqualTo(2);
        assertThat(countRJ).isEqualTo(1);
    }

    @Test
    void deveVerificarExistenciaPorEmail() {
        // Given
        Doador doador = criarDoador(&quot;JoÃ£o Silva&quot;, &quot;joao@email.com&quot;);
        entityManager.persistAndFlush(doador);

        // When/Then
        assertThat(doadorRepository.existsByEmailAndDeletedAtIsNull(&quot;joao@email.com&quot;)).isTrue();
        assertThat(doadorRepository.existsByEmailAndDeletedAtIsNull(&quot;inexistente@email.com&quot;)).isFalse();
    }

    // MÃ©todos auxiliares
    private Doador criarDoador(String nome, String email) {
        Doador doador = new Doador();
        doador.setFullName(nome);
        doador.setEmail(email);
        doador.setCpf(&quot;12345678901&quot;);
        doador.setDataNascimento(LocalDate.of(1990, 1, 1));
        return doador;
    }

    private Doador criarDoadorComEstado(String nome, String estado) {
        Doador doador = criarDoador(nome, nome.toLowerCase().replace(&quot; &quot;, &quot;&quot;) + &quot;@email.com&quot;);
        doador.setEstado(estado);
        return doador;
    }
}
</code></pre>
<hr>
<h2 id="-boas-prticas-e-dicas-avanadas">ğŸ’¡ Boas PrÃ¡ticas e Dicas AvanÃ§adas</h2><h3 id="strongspan-classbadge-successspan-convenes-de-nomenclaturastrong"><strong><span class="badge success">âœ…</span> ConvenÃ§Ãµes de Nomenclatura</strong></h3><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; GOOD: Nomes descritivos e claros
    List&lt;Doador&gt; findByFullNameContainingIgnoreCase(String nome);
    Optional&lt;Doador&gt; findByEmailAndDeletedAtIsNull(String email);
    Page&lt;Doador&gt; findByEstadoOrderByCreatedAtDesc(String estado, Pageable pageable);

    // &lt;span class=&quot;badge danger&quot;&gt;âŒ&lt;/span&gt; BAD: Nomes ambÃ­guos ou confusos
    List&lt;Doador&gt; findByName(String nome); // Qual nome? Full? First? Last?
    List&lt;Doador&gt; find(String value); // Busca por qual campo?
    List&lt;Doador&gt; getStuff(); // Muito genÃ©rico
}
</code></pre>
<h3 id="strongspan-classbadge-successspan-performance-e-otimizaostrong"><strong><span class="badge success">âœ…</span> Performance e OtimizaÃ§Ã£o</strong></h3><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Use Slice quando nÃ£o precisar do total de elementos
    Slice&lt;Doador&gt; findByEstado(String estado, Pageable pageable);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Use Stream para processamento de grandes volumes
    @Query(&quot;SELECT d FROM Doador d WHERE d.ativo = true&quot;)
    Stream&lt;Doador&gt; streamAllActiveDoadores();

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Use projeÃ§Ãµes para buscar apenas campos necessÃ¡rios
    @Query(&quot;SELECT d.id, d.fullName, d.email FROM Doador d WHERE d.estado = :estado&quot;)
    List&lt;Object[]&gt; findBasicInfoByEstado(@Param(&quot;estado&quot;) String estado);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Use EXISTS para verificaÃ§Ãµes de existÃªncia (mais eficiente)
    @Query(&quot;SELECT CASE WHEN COUNT(d) &gt; 0 THEN true ELSE false END FROM Doador d WHERE d.cpf = :cpf&quot;)
    boolean existsByCpfCustom(@Param(&quot;cpf&quot;) String cpf);
}
</code></pre>
<h3 id="strongspan-classbadge-successspan-tratamento-de-null-e-optionalstrong"><strong><span class="badge success">âœ…</span> Tratamento de Null e Optional</strong></h3><pre><code class="language-java">@Service
public class DoadorService {

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; GOOD: Use Optional para retornos que podem ser nulos
    public Optional&lt;Doador&gt; buscarPorId(Long id) {
        return doadorRepository.findById(id);
    }

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; GOOD: Trate parÃ¢metros nulos adequadamente
    public List&lt;Doador&gt; buscarPorNome(String nome) {
        if (nome == null || nome.trim().isEmpty()) {
            return List.of(); // Retorna lista vazia em vez de null
        }
        return doadorRepository.findByFullNameContainingIgnoreCase(nome.trim());
    }

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; GOOD: Use orElse para valores padrÃ£o
    public Doador buscarOuCriarDefault(Long id) {
        return doadorRepository.findById(id)
            .orElse(new Doador()); // Retorna instÃ¢ncia padrÃ£o
    }
}
</code></pre>
<hr>
<h2 id="-ndices-de-banco-de-dados-performance-e-otimizao">ğŸ“Š Ãndices de Banco de Dados - Performance e OtimizaÃ§Ã£o</h2><h3 id="strong-o-que-so-ndicesstrong"><strong>ğŸ¯ O que sÃ£o Ãndices?</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html">MySQL Indexes</a> | <a href="https://www.postgresql.org/docs/current/indexes.html">PostgreSQL Indexes</a> | <a href="https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/index">JPA Index Annotation</a></p>
</blockquote>
<p><strong>Ãndices</strong> sÃ£o estruturas de dados especiais que melhoram a velocidade de operaÃ§Ãµes de consulta em uma tabela de banco de dados. Funcionam como um <strong>&quot;Ã­ndice de livro&quot;</strong> - permitem localizar dados rapidamente sem varrer toda a tabela.</p>
<h3 id="strong-analogia-prticastrong"><strong>ğŸ—ï¸ Analogia PrÃ¡tica:</strong></h3><p>Imagine uma <strong>biblioteca com 10.000 livros</strong>:</p>
<ul>
<li><strong>ğŸ“š Sem Ã­ndice</strong> - VocÃª precisa verificar livro por livro para encontrar &quot;Dom Casmurro&quot;</li>
<li><strong>ğŸ“‡ Com Ã­ndice</strong> - VocÃª consulta o catÃ¡logo por tÃ­tulo e vai direto Ã  estante correta</li>
</ul>
<h3 id="strong-por-que-usar-ndicesstrong"><strong>ğŸš€ Por que Usar Ãndices?</strong></h3><h4 id="strong1-performance-de-consultasstrong"><strong>1. ğŸ” Performance de Consultas</strong></h4><pre><code class="language-sql">-- SEM ÃNDICE: Busca sequencial em 1 milhÃ£o de registros
SELECT * FROM doador WHERE cpf = &#39;12345678901&#39;;
-- Tempo: ~500ms (varre toda a tabela)

-- COM ÃNDICE: Busca logarÃ­tmica
CREATE INDEX idx_doador_cpf ON doador(cpf);
SELECT * FROM doador WHERE cpf = &#39;12345678901&#39;;
-- Tempo: ~2ms (acesso direto)
</code></pre>
<h4 id="strong2-escalabilidadestrong"><strong>2. ğŸ“ˆ Escalabilidade</strong></h4><pre><code class="language-java">// Repository que se beneficia de Ã­ndices
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    
    // Busca por CPF - DEVE ter Ã­ndice Ãºnico
    Optional&lt;Doador&gt; findByCpf(String cpf);
    
    // Busca por email - DEVE ter Ã­ndice Ãºnico  
    Optional&lt;Doador&gt; findByEmail(String email);
    
    // Filtros combinados - DEVE ter Ã­ndice composto
    List&lt;Doador&gt; findByCidadeAndEstado(String cidade, String estado);
    
    // OrdenaÃ§Ã£o - DEVE ter Ã­ndice para performance
    List&lt;Doador&gt; findByAtivoTrueOrderByCreatedAtDesc();
}
</code></pre>
<h4 id="strong3-integridade-referencialstrong"><strong>3. ğŸ¯ Integridade Referencial</strong></h4><pre><code class="language-java">@Entity
@Table(name = &quot;doador&quot;)
public class Doador {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id; // Ãndice automÃ¡tico (PRIMARY KEY)
    
    @Column(unique = true) // Cria Ã­ndice Ãºnico automaticamente
    private String cpf;
    
    @Column(unique = true) // Cria Ã­ndice Ãºnico automaticamente
    private String email;
}
</code></pre>
<h3 id="strongspan-classbadge-successspan-principais-benefcios-dos-ndicesstrong"><strong><span class="badge success">âœ…</span> Principais BenefÃ­cios dos Ãndices</strong></h3><table>
<thead>
<tr>
<th><strong>BenefÃ­cio</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
<th><strong>Impacto</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>âš¡ Velocidade</strong></td>
<td>Consultas atÃ© 1000x mais rÃ¡pidas</td>
<td>Reduz tempo de resposta drasticamente</td>
</tr>
<tr>
<td><strong>ğŸ“ˆ Escalabilidade</strong></td>
<td>Performance mantida com milhÃµes de registros</td>
<td>Sistema cresce sem degradaÃ§Ã£o</td>
</tr>
<tr>
<td><strong>ğŸ”’ Unicidade</strong></td>
<td>Garante valores Ãºnicos (CPF, email)</td>
<td>Integridade de dados automÃ¡tica</td>
</tr>
<tr>
<td><strong>ğŸ” Busca Eficiente</strong></td>
<td>LocalizaÃ§Ã£o logarÃ­tmica vs linear</td>
<td>O(log n) vs O(n)</td>
</tr>
<tr>
<td><strong>ğŸ“Š OrdenaÃ§Ã£o RÃ¡pida</strong></td>
<td>ORDER BY otimizado</td>
<td>Resultados ordenados sem overhead</td>
</tr>
<tr>
<td><strong>ğŸ”— JOINs Eficientes</strong></td>
<td>Relacionamentos mais rÃ¡pidos</td>
<td>Consultas complexas otimizadas</td>
</tr>
</tbody></table>
<h3 id="strong-tipos-de-ndices-e-quando-usarstrong"><strong>ğŸ¯ Tipos de Ãndices e Quando Usar</strong></h3><h4 id="strong1-primary-key-index-automticostrong"><strong>1. ğŸ”‘ Primary Key Index (AutomÃ¡tico)</strong></h4><pre><code class="language-java">@Entity
public class Doador {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id; // MySQL cria CLUSTERED INDEX automaticamente
}
</code></pre>
<h4 id="strong2-unique-index-constraintsstrong"><strong>2. ğŸ” Unique Index (Constraints)</strong></h4><pre><code class="language-java">@Entity
@Table(name = &quot;doador&quot;, indexes = {
    @Index(name = &quot;idx_doador_cpf&quot;, columnList = &quot;cpf&quot;, unique = true),
    @Index(name = &quot;idx_doador_email&quot;, columnList = &quot;email&quot;, unique = true)
})
public class Doador {
    
    @Column(unique = true, length = 11)
    private String cpf; // Ãndice Ãºnico para consultas rÃ¡pidas
    
    @Column(unique = true, length = 100)
    private String email; // Ãndice Ãºnico para login/validaÃ§Ã£o
}
</code></pre>
<h4 id="strong3-single-column-indexstrong"><strong>3. ğŸ“Š Single Column Index</strong></h4><pre><code class="language-java">@Entity
@Table(name = &quot;doador&quot;, indexes = {
    @Index(name = &quot;idx_doador_cidade&quot;, columnList = &quot;cidade&quot;),
    @Index(name = &quot;idx_doador_estado&quot;, columnList = &quot;estado&quot;),
    @Index(name = &quot;idx_doador_ativo&quot;, columnList = &quot;ativo&quot;),
    @Index(name = &quot;idx_doador_created_at&quot;, columnList = &quot;createdAt&quot;)
})
public class Doador {
    
    private String cidade; // Para filtros por localizaÃ§Ã£o
    private String estado; // Para relatÃ³rios estaduais
    private Boolean ativo; // Para filtros de status
    private LocalDateTime createdAt; // Para ordenaÃ§Ã£o temporal
}
</code></pre>
<h4 id="strong4-composite-index-mltiplas-colunasstrong"><strong>4. ğŸ¯ Composite Index (MÃºltiplas Colunas)</strong></h4><pre><code class="language-java">@Entity
@Table(name = &quot;doador&quot;, indexes = {
    // Ãndice composto para filtros combinados
    @Index(name = &quot;idx_doador_cidade_estado&quot;, columnList = &quot;cidade, estado&quot;),
    
    // Ãndice para soft delete + filtros
    @Index(name = &quot;idx_doador_ativo_cidade&quot;, columnList = &quot;ativo, cidade&quot;),
    
    // Ãndice para busca com ordenaÃ§Ã£o
    @Index(name = &quot;idx_doador_estado_created&quot;, columnList = &quot;estado, createdAt&quot;)
})
public class Doador {
    // A ordem das colunas no Ã­ndice Ã© IMPORTANTE!
    // cidade, estado != estado, cidade
}
</code></pre>
<h4 id="strong5-functional-index-casos-especiaisstrong"><strong>5. ğŸ” Functional Index (Casos Especiais)</strong></h4><pre><code class="language-sql">-- Para busca case-insensitive em nomes
CREATE INDEX idx_doador_nome_lower ON doador(LOWER(full_name));

-- Para busca por prefixo de telefone
CREATE INDEX idx_doador_ddd ON doador(LEFT(telefone_principal, 2));
</code></pre>
<h3 id="strong-implementao-prtica-com-jpastrong"><strong>ğŸ”§ ImplementaÃ§Ã£o PrÃ¡tica com JPA</strong></h3><h4 id="strong-exemplo-completo-entidade-doador-otimizadastrong"><strong>ğŸ“‹ Exemplo Completo - Entidade Doador Otimizada</strong></h4><pre><code class="language-java">@Entity
@Table(name = &quot;doador&quot;, indexes = {
    // ğŸ” Ãndices Ãºnicos para integridade
    @Index(name = &quot;idx_doador_cpf&quot;, columnList = &quot;cpf&quot;, unique = true),
    @Index(name = &quot;idx_doador_email&quot;, columnList = &quot;email&quot;, unique = true),
    
    // ğŸ” Ãndices para consultas frequentes
    @Index(name = &quot;idx_doador_cidade&quot;, columnList = &quot;cidade&quot;),
    @Index(name = &quot;idx_doador_estado&quot;, columnList = &quot;estado&quot;),
    @Index(name = &quot;idx_doador_tipo_sanguineo&quot;, columnList = &quot;tipoSanguineoId&quot;),
    
    // ğŸ¯ Ãndices compostos para filtros combinados
    @Index(name = &quot;idx_doador_cidade_estado&quot;, columnList = &quot;cidade, estado&quot;),
    @Index(name = &quot;idx_doador_ativo_cidade&quot;, columnList = &quot;ativo, cidade&quot;),
    
    // â° Ãndices para ordenaÃ§Ã£o e data
    @Index(name = &quot;idx_doador_created_at&quot;, columnList = &quot;createdAt&quot;),
    @Index(name = &quot;idx_doador_ultima_doacao&quot;, columnList = &quot;ultimaDoacao&quot;),
    
    // ğŸ—‘ï¸ Soft delete otimizado
    @Index(name = &quot;idx_doador_deleted_at&quot;, columnList = &quot;deletedAt&quot;),
    @Index(name = &quot;idx_doador_ativo_deleted&quot;, columnList = &quot;ativo, deletedAt&quot;)
})
public class Doador {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id; // PRIMARY KEY (Ã­ndice automÃ¡tico)

    @Column(unique = true, length = 11, nullable = false)
    private String cpf; // Ãndice Ãºnico

    @Column(unique = true, length = 100, nullable = false)  
    private String email; // Ãndice Ãºnico

    @Column(length = 100, nullable = false)
    private String fullName; // Pode precisar de Ã­ndice para busca

    @Column(length = 50)
    private String cidade; // Ãndice simples

    @Column(length = 2)
    private String estado; // Ãndice simples

    @Column(nullable = false)
    private Boolean ativo = true; // Ãndice para filtros

    @Column(name = &quot;created_at&quot;, nullable = false)
    private LocalDateTime createdAt; // Ãndice para ordenaÃ§Ã£o

    @Column(name = &quot;deleted_at&quot;)
    private LocalDateTime deletedAt; // Soft delete

    @Column(name = &quot;ultima_doacao&quot;)
    private LocalDate ultimaDoacao; // Ãndice para regras de negÃ³cio

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = &quot;tipo_sanguineo_id&quot;)
    private TipoSanguineo tipoSanguineo; // Foreign key (Ã­ndice automÃ¡tico)
}
</code></pre>
<h4 id="strong-repository-otimizado-com-ndicesstrong"><strong>ğŸ“Š Repository Otimizado com Ãndices</strong></h4><pre><code class="language-java">public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_cpf (Ãºnico)
    Optional&lt;Doador&gt; findByCpf(String cpf);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_email (Ãºnico)  
    Optional&lt;Doador&gt; findByEmail(String email);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_cidade_estado (composto)
    List&lt;Doador&gt; findByCidadeAndEstado(String cidade, String estado);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_ativo_deleted
    List&lt;Doador&gt; findByAtivoTrueAndDeletedAtIsNull();

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_created_at para ORDER BY
    List&lt;Doador&gt; findByEstadoOrderByCreatedAtDesc(String estado);

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; OTIMIZADO: usa idx_doador_ultima_doacao
    List&lt;Doador&gt; findByUltimaDoacaoBeforeAndAtivoTrue(LocalDate data);

    // &lt;span class=&quot;badge warning&quot;&gt;âš ï¸&lt;/span&gt; CUIDADO: busca por nome pode ser lenta sem Ã­ndice
    List&lt;Doador&gt; findByFullNameContainingIgnoreCase(String nome);
    // SoluÃ§Ã£o: Considere Ã­ndice FULLTEXT ou busca externa (Elasticsearch)
}
</code></pre>
<h3 id="strong-anlise-de-performancestrong"><strong>ğŸ“ˆ AnÃ¡lise de Performance</strong></h3><h4 id="strong-como-verificar-se-ndices-esto-sendo-usadosstrong"><strong>ğŸ” Como Verificar se Ãndices EstÃ£o Sendo Usados</strong></h4><p><strong>MySQL:</strong></p>
<pre><code class="language-sql">-- Verificar plano de execuÃ§Ã£o
EXPLAIN SELECT * FROM doador WHERE cpf = &#39;12345678901&#39;;

-- Analisar Ã­ndices da tabela
SHOW INDEXES FROM doador;

-- EstatÃ­sticas de uso dos Ã­ndices
SELECT * FROM information_schema.STATISTICS WHERE table_name = &#39;doador&#39;;
</code></pre>
<p><strong>PostgreSQL:</strong></p>
<pre><code class="language-sql">-- Verificar plano de execuÃ§Ã£o
EXPLAIN ANALYZE SELECT * FROM doador WHERE cpf = &#39;12345678901&#39;;

-- Listar Ã­ndices
\d+ doador

-- Verificar uso dos Ã­ndices
SELECT * FROM pg_stat_user_indexes WHERE relname = &#39;doador&#39;;
</code></pre>
<h4 id="strong-mtricas-de-performancestrong"><strong>ğŸ“Š MÃ©tricas de Performance</strong></h4><table>
<thead>
<tr>
<th><strong>CenÃ¡rio</strong></th>
<th><strong>Sem Ãndice</strong></th>
<th><strong>Com Ãndice</strong></th>
<th><strong>Melhoria</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Busca por CPF (1M registros)</td>
<td>500ms</td>
<td>2ms</td>
<td><strong>250x mais rÃ¡pido</strong></td>
</tr>
<tr>
<td>Login por email</td>
<td>300ms</td>
<td>1ms</td>
<td><strong>300x mais rÃ¡pido</strong></td>
</tr>
<tr>
<td>Filtro cidade + estado</td>
<td>800ms</td>
<td>5ms</td>
<td><strong>160x mais rÃ¡pido</strong></td>
</tr>
<tr>
<td>OrdenaÃ§Ã£o por data</td>
<td>1200ms</td>
<td>10ms</td>
<td><strong>120x mais rÃ¡pido</strong></td>
</tr>
<tr>
<td>COUNT(*) com WHERE</td>
<td>600ms</td>
<td>3ms</td>
<td><strong>200x mais rÃ¡pido</strong></td>
</tr>
</tbody></table>
<h3 id="strongspan-classbadge-warningspan-cuidados-e-trade-offsstrong"><strong><span class="badge warning">âš ï¸</span> Cuidados e Trade-offs</strong></h3><h4 id="strongspan-classbadge-dangerspan-problemas-com-muitos-ndicesstrong"><strong><span class="badge danger">âŒ</span> Problemas com Muitos Ãndices</strong></h4><pre><code class="language-java">// &lt;span class=&quot;badge danger&quot;&gt;âŒ&lt;/span&gt; RUIM: Ãndices demais
@Table(indexes = {
    @Index(columnList = &quot;campo1&quot;),
    @Index(columnList = &quot;campo2&quot;), 
    @Index(columnList = &quot;campo3&quot;),
    @Index(columnList = &quot;campo4&quot;),
    @Index(columnList = &quot;campo5&quot;),
    @Index(columnList = &quot;campo1, campo2&quot;),
    @Index(columnList = &quot;campo1, campo3&quot;),
    // ... 20+ Ã­ndices
})

// &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; BOM: Ãndices estratÃ©gicos
@Table(indexes = {
    @Index(columnList = &quot;cpf&quot;, unique = true),           // Busca Ãºnica
    @Index(columnList = &quot;cidade, estado&quot;),               // Filtro comum
    @Index(columnList = &quot;ativo, deletedAt&quot;),            // Soft delete
    @Index(columnList = &quot;createdAt&quot;)                     // OrdenaÃ§Ã£o
})
</code></pre>
<h4 id="strong-impacto-em-operaes-de-escritastrong"><strong>ğŸ“Š Impacto em OperaÃ§Ãµes de Escrita</strong></h4><pre><code class="language-java">@Service
public class DoadorService {

    // &lt;span class=&quot;badge warning&quot;&gt;âš ï¸&lt;/span&gt; CUIDADO: INSERT/UPDATE ficam mais lentos com muitos Ã­ndices
    @Transactional
    public Doador salvar(Doador doador) {
        // MySQL precisa atualizar TODOS os Ã­ndices na inserÃ§Ã£o
        return doadorRepository.save(doador);
    }

    // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; SOLUÃ‡ÃƒO: Batch inserts para grandes volumes
    @Transactional
    public List&lt;Doador&gt; salvarLote(List&lt;Doador&gt; doadores) {
        return doadorRepository.saveAll(doadores); // Mais eficiente
    }
}
</code></pre>
<h3 id="strong-estratgias-de-indexaostrong"><strong>ğŸ› ï¸ EstratÃ©gias de IndexaÃ§Ã£o</strong></h3><h4 id="strong1-ndices-baseados-em-query-patternsstrong"><strong>1. ğŸ¯ Ãndices Baseados em Query Patterns</strong></h4><pre><code class="language-java">// Analise suas consultas mais frequentes:
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // ğŸ”¥ CONSULTA FREQUENTE: Login/AutenticaÃ§Ã£o
    Optional&lt;Doador&gt; findByEmail(String email);
    // ÃNDICE NECESSÃRIO: email (Ãºnico)

    // ğŸ”¥ CONSULTA FREQUENTE: Busca por documento
    Optional&lt;Doador&gt; findByCpf(String cpf);
    // ÃNDICE NECESSÃRIO: cpf (Ãºnico)

    // ğŸ”¥ CONSULTA FREQUENTE: RelatÃ³rios por regiÃ£o
    List&lt;Doador&gt; findByCidadeAndEstado(String cidade, String estado);
    // ÃNDICE NECESSÃRIO: (cidade, estado) composto

    // ğŸ” CONSULTA RARA: Busca por nome
    List&lt;Doador&gt; findByFullNameLike(String nome);
    // ÃNDICE OPCIONAL: considere busca externa (Elasticsearch)
}
</code></pre>
<h4 id="strong2-monitoramento-de-performancestrong"><strong>2. ğŸ“Š Monitoramento de Performance</strong></h4><pre><code class="language-java">// ConfiguraÃ§Ã£o de logging para queries lentas
# application.properties
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Logging de queries lentas (&gt; 1 segundo)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# MySQL: log de queries lentas
slow_query_log=1
long_query_time=1
</code></pre>
<h4 id="strong3-ferramentas-de-anlisestrong"><strong>3. ğŸ”§ Ferramentas de AnÃ¡lise</strong></h4><pre><code class="language-java">// Bean para monitorar performance
@Component
public class DatabasePerformanceMonitor {

    @EventListener
    public void handleQueryExecution(QueryExecutionEvent event) {
        if (event.getDuration() &gt; 1000) { // &gt; 1 segundo
            log.warn(&quot;Slow query detected: {} ms - {}&quot;, 
                event.getDuration(), event.getSql());
        }
    }
}
</code></pre>
<hr>
<h2 id="-recursos-avanados">ğŸŒŸ Recursos AvanÃ§ados</h2><h3 id="strong-custom-repository-implementationstrong"><strong>ğŸ”§ Custom Repository Implementation</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations">Custom Repository Implementations</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications">Criteria API</a></p>
</blockquote>
<pre><code class="language-java">// Interface customizada
public interface DoadorRepositoryCustom {
    List&lt;Doador&gt; findWithComplexCriteria(String nome, String cidade, Integer minIdade);
    Page&lt;DoadorStatisticsDTO&gt; findStatisticsGroupedByCity(Pageable pageable);
}

// ImplementaÃ§Ã£o customizada
@Repository
public class DoadorRepositoryImpl implements DoadorRepositoryCustom {

    @PersistenceContext
    private EntityManager entityManager;

    @Override
    public List&lt;Doador&gt; findWithComplexCriteria(String nome, String cidade, Integer minIdade) {
        CriteriaBuilder cb = entityManager.getCriteriaBuilder();
        CriteriaQuery&lt;Doador&gt; query = cb.createQuery(Doador.class);
        Root&lt;Doador&gt; root = query.from(Doador.class);

        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();

        if (nome != null &amp;&amp; !nome.trim().isEmpty()) {
            predicates.add(
                cb.like(cb.lower(root.get(&quot;fullName&quot;)), &quot;%&quot; + nome.toLowerCase() + &quot;%&quot;)
            );
        }

        if (cidade != null &amp;&amp; !cidade.trim().isEmpty()) {
            predicates.add(cb.equal(root.get(&quot;cidade&quot;), cidade));
        }

        if (minIdade != null) {
            predicates.add(cb.greaterThanOrEqualTo(root.get(&quot;idade&quot;), minIdade));
        }

        query.where(predicates.toArray(new Predicate[0]));
        query.orderBy(cb.asc(root.get(&quot;fullName&quot;)));

        return entityManager.createQuery(query).getResultList();
    }
}

// Repository principal herda da customizada
public interface DoadorRepository extends 
    JpaRepository&lt;Doador, Long&gt;, 
    DoadorRepositoryCustom {
    // MÃ©todos padrÃ£o + mÃ©todos customizados
}
</code></pre>
<h3 id="strong-projees-e-dtosstrong"><strong>ğŸ“Š ProjeÃ§Ãµes e DTOs</strong></h3><pre><code class="language-java">// Interface de projeÃ§Ã£o
public interface DoadorProjection {
    String getFullName();
    String getEmail();
    String getCidade();
    Integer getIdade();
}

// DTO de projeÃ§Ã£o
public class DoadorSummaryDTO {
    private String nome;
    private String cidade;
    private String estado;
    
    // Construtores, getters, setters
}

// Uso no Repository
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {

    // ProjeÃ§Ã£o com interface
    List&lt;DoadorProjection&gt; findProjectedByEstado(String estado);

    // ProjeÃ§Ã£o com DTO e construtor
    @Query(&quot;SELECT new com.faculdade.doesangue_api.dto.DoadorSummaryDTO(d.fullName, d.cidade, d.estado) &quot; +
           &quot;FROM Doador d WHERE d.ativo = true&quot;)
    List&lt;DoadorSummaryDTO&gt; findSummaryOfActiveDoadores();
}
</code></pre>
<hr>
<h2 id="-documentao-oficial-e-referncias">ğŸ“š DocumentaÃ§Ã£o Oficial e ReferÃªncias</h2><h3 id="strong-spring-data-jpa-documentao-principalstrong"><strong>ğŸŒŸ Spring Data JPA - DocumentaÃ§Ã£o Principal</strong></h3><h4 id="strong-core-documentationstrong"><strong>ğŸ“– Core Documentation:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/">Spring Data JPA Reference</a></strong> - DocumentaÃ§Ã£o completa oficial</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.core-concepts">Repository Interfaces</a></strong> - Conceitos fundamentais</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods">Query Methods</a></strong> - CriaÃ§Ã£o de consultas</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations">Custom Implementations</a></strong> - ImplementaÃ§Ãµes customizadas</li>
</ul>
<h4 id="strong-query-creationstrong"><strong>ğŸ“– Query Creation:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords">Supported Keywords</a></strong> - Palavras-chave para queries</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation">Query Creation Examples</a></strong> - Exemplos prÃ¡ticos</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-queries">Named Queries</a></strong> - Queries nomeadas</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query">@Query Annotation</a></strong> - Queries customizadas</li>
</ul>
<h3 id="strong-jpa-e-hibernate-corestrong"><strong>ğŸ”§ JPA e Hibernate - Core</strong></h3><h4 id="strong-jpa-specificationstrong"><strong>ğŸ“– JPA Specification:</strong></h4><ul>
<li><strong><a href="https://jakarta.ee/specifications/persistence/3.1/">Jakarta Persistence API</a></strong> - EspecificaÃ§Ã£o oficial JPA 3.1</li>
<li><strong><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-intro003.htm">Entity Relationships</a></strong> - Relacionamentos entre entidades</li>
<li><strong><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-querylanguage.htm">JPQL Guide</a></strong> - Java Persistence Query Language</li>
</ul>
<h4 id="strong-hibernate-documentationstrong"><strong>ğŸ“– Hibernate Documentation:</strong></h4><ul>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html">Hibernate ORM User Guide</a></strong> - Guia completo</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql">HQL Reference</a></strong> - Hibernate Query Language</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#criteria">Criteria API</a></strong> - API de critÃ©rios</li>
</ul>
<h3 id="strong-spring-framework-basestrong"><strong>ğŸš€ Spring Framework - Base</strong></h3><h4 id="strong-spring-framework-corestrong"><strong>ğŸ“– Spring Framework Core:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/">Spring Framework Reference</a></strong> - DocumentaÃ§Ã£o completa</li>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#orm-jpa">Data Access with JPA</a></strong> - IntegraÃ§Ã£o JPA</li>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction">Transaction Management</a></strong> - Gerenciamento de transaÃ§Ãµes</li>
</ul>
<h4 id="strong-spring-bootstrong"><strong>ğŸ“– Spring Boot:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data">Spring Boot Data JPA</a></strong> - ConfiguraÃ§Ã£o automÃ¡tica</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data">Application Properties</a></strong> - Propriedades de configuraÃ§Ã£o</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/testing.html#testing.spring-boot-applications.testing-autoconfigured-jpa">Testing Data Layer</a></strong> - Testes com @DataJpaTest</li>
</ul>
<h3 id="strong-testing-e-qualitystrong"><strong>ğŸ“Š Testing e Quality</strong></h3><h4 id="strong-testing-frameworksstrong"><strong>ğŸ“– Testing Frameworks:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html">@DataJpaTest</a></strong> - Testes de repositÃ³rio</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/TestEntityManager.html">TestEntityManager</a></strong> - Gerenciamento de entidades em testes</li>
<li><strong><a href="https://assertj.github.io/doc/">AssertJ</a></strong> - Assertions fluentes</li>
<li><strong><a href="https://www.testcontainers.org/modules/databases/">TestContainers</a></strong> - Testes com containers</li>
</ul>
<h3 id="strong-database-indexes-e-performancestrong"><strong>ğŸ“Š Database Indexes e Performance</strong></h3><h4 id="strong-database-specific-documentationstrong"><strong>ğŸ“– Database-Specific Documentation:</strong></h4><ul>
<li><strong><a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html">MySQL Indexes Guide</a></strong> - Guia completo de Ã­ndices MySQL</li>
<li><strong><a href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html">MySQL Index Optimization</a></strong> - OtimizaÃ§Ã£o de Ã­ndices</li>
<li><strong><a href="https://www.postgresql.org/docs/current/indexes.html">PostgreSQL Indexes</a></strong> - DocumentaÃ§Ã£o oficial PostgreSQL</li>
<li><strong><a href="https://www.postgresql.org/docs/current/indexes-types.html">PostgreSQL Index Types</a></strong> - Tipos de Ã­ndices disponÃ­veis</li>
<li><strong><a href="http://h2database.com/html/performance.html#indexes">H2 Database Indexes</a></strong> - Ãndices em H2 (testes)</li>
</ul>
<h4 id="strong-jpa-index-annotationsstrong"><strong>ğŸ“– JPA Index Annotations:</strong></h4><ul>
<li><strong><a href="https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/index">JPA Index Annotation</a></strong> - EspecificaÃ§Ã£o oficial @Index</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#schema-generation-database-objects">Hibernate Index Strategies</a></strong> - EstratÃ©gias de criaÃ§Ã£o de Ã­ndices</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.initialization">Spring Boot Database Initialization</a></strong> - InicializaÃ§Ã£o de esquemas</li>
</ul>
<h4 id="strong-performance-e-monitoringstrong"><strong>ğŸ“– Performance e Monitoring:</strong></h4><ul>
<li><strong><a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html">MySQL Performance Schema</a></strong> - Monitoramento de performance</li>
<li><strong><a href="https://www.postgresql.org/docs/current/using-explain.html">PostgreSQL Query Performance</a></strong> - EXPLAIN e anÃ¡lise de queries</li>
<li><strong><a href="https://vladmihalcea.com/jpa-hibernate-performance-tuning/">JPA Performance Tuning</a></strong> - Blog Vlad Mihalcea sobre performance</li>
<li><strong><a href="https://use-the-index-luke.com/">Database Index Design</a></strong> - Guia completo sobre design de Ã­ndices</li>
</ul>
<h4 id="strong-tools-e-profilingstrong"><strong>ğŸ“– Tools e Profiling:</strong></h4><ul>
<li><strong><a href="https://dev.mysql.com/doc/workbench/en/wb-performance.html">MySQL Workbench</a></strong> - Ferramentas de performance</li>
<li><strong><a href="https://www.pgadmin.org/docs/pgadmin4/latest/query_tool.html">pgAdmin Query Tool</a></strong> - AnÃ¡lise de queries PostgreSQL</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics">Spring Boot Actuator</a></strong> - MÃ©tricas de aplicaÃ§Ã£o</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#statistics">Hibernate Statistics</a></strong> - EstatÃ­sticas do Hibernate</li>
</ul>
<h3 id="strong-performance-e-optimizationstrong"><strong>ğŸ¯ Performance e Optimization</strong></h3><h4 id="strong-performance-guidesstrong"><strong>ğŸ“– Performance Guides:</strong></h4><ul>
<li><strong><a href="https://vladmihalcea.com/jpa-hibernate-performance-tuning/">JPA Performance Best Practices</a></strong> - Blog Vlad Mihalcea</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#fetching-strategies">N+1 Query Problem</a></strong> - EstratÃ©gias de fetch</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.connection-pool">Connection Pooling</a></strong> - Pool de conexÃµes</li>
</ul>
<h3 id="strong-tutorials-e-examplesstrong"><strong>ğŸ“ Tutorials e Examples</strong></h3><h4 id="strong-official-guidesstrong"><strong>ğŸ“– Official Guides:</strong></h4><ul>
<li><strong><a href="https://spring.io/guides/gs/accessing-data-jpa/">Accessing Data with JPA</a></strong> - Tutorial bÃ¡sico oficial</li>
<li><strong><a href="https://github.com/spring-projects/spring-data-examples/tree/main/jpa">Spring Data JPA Examples</a></strong> - Exemplos oficiais no GitHub</li>
</ul>
<h4 id="strong-community-resourcesstrong"><strong>ğŸ“– Community Resources:</strong></h4><ul>
<li><strong><a href="https://www.baeldung.com/persistence-with-spring-series">Baeldung JPA Tutorials</a></strong> - SÃ©rie completa sobre persistÃªncia</li>
<li><strong><a href="https://thorben-janssen.com/">Thorben Janssen&#39;s JPA Tips</a></strong> - Blog especializado em JPA/Hibernate</li>
<li><strong><a href="https://www.petrikainulainen.net/spring-data-jpa-tutorial/">Spring Data JPA Query Methods</a></strong> - Tutorial detalhado</li>
</ul>
<h3 id="strong-quick-referencesstrong"><strong>âš¡ Quick References</strong></h3><h4 id="strong-cheat-sheetsstrong"><strong>ğŸ”– Cheat Sheets:</strong></h4><ul>
<li><strong><a href="https://www.baeldung.com/jpa-annotations">JPA Annotations Reference</a></strong> - AnotaÃ§Ãµes JPA essenciais</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords">Spring Data Query Keywords</a></strong> - Keywords para query methods</li>
<li><strong><a href="https://docs.oracle.com/html/E13946_04/ejb3_langref.html">JPQL Syntax Reference</a></strong> - Sintaxe JPQL</li>
</ul>
<hr>
<h2 id="-concluso">ğŸ¯ ConclusÃ£o</h2><p>O <strong>Repository Pattern</strong> com <strong>Spring Data JPA</strong> oferece uma abordagem poderosa e elegante para acesso a dados:</p>
<h3 id="strongspan-classbadge-successspan-benefcios-principaisstrong"><strong><span class="badge success">âœ…</span> BenefÃ­cios Principais:</strong></h3><ul>
<li><strong>ğŸ¤– AutomaÃ§Ã£o</strong> - Spring gera implementaÃ§Ãµes automaticamente</li>
<li><strong>ğŸ“ ConvenÃ§Ãµes</strong> - Query methods por nomenclatura</li>
<li><strong>ğŸ”„ Flexibilidade</strong> - Custom queries quando necessÃ¡rio</li>
<li><strong>ğŸ§ª Testabilidade</strong> - FÃ¡cil mock e teste unitÃ¡rio</li>
<li><strong>ğŸ“Š Performance</strong> - OtimizaÃ§Ãµes automÃ¡ticas e manuais</li>
<li><strong>ğŸ›¡ï¸ Manutenibilidade</strong> - CÃ³digo limpo e organizado</li>
</ul>
<h3 id="strong-prximos-passosstrong"><strong>ğŸš€ PrÃ³ximos Passos:</strong></h3><ol>
<li><strong>Implementar</strong> repository bÃ¡sico para suas entidades</li>
<li><strong>Explorar</strong> query methods por convenÃ§Ã£o</li>
<li><strong>Adicionar</strong> queries customizadas conforme necessÃ¡rio</li>
<li><strong>Testar</strong> com @DataJpaTest</li>
<li><strong>Evoluir</strong> para Specifications para filtros complexos</li>
</ol>
<hr>
<p><em>Este guia fornece uma base sÃ³lida para compreender e implementar o Repository Pattern com Spring Data JPA no projeto DoeSangue.</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ©¸ DocumentaÃ§Ã£o Completa do Sistema DoeSangue - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
            line-height: 1.7;
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
        }
        
        a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        /* Blockquotes */
        blockquote {
            background: #ecf0f1;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        blockquote strong {
            color: #2c3e50;
        }
        
        /* Guia Destacado */
        .guia-destaque {
            background: linear-gradient(135deg, #8b5fbf 0%, #b794f6 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(139, 95, 191, 0.3);
        }
        
        .guia-destaque h4 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .guia-destaque p {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .guia-destaque .btn {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            border: 2px solid rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }
        
        .guia-destaque .btn:hover {
            background: rgba(255,255,255,0.3);
            text-decoration: none;
        }
        
        .guia-destaque .features {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
            
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ DocumentaÃ§Ã£o Completa do Sistema DoeSangue</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="../index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <!-- Stats -->
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number">10</div>
                    <div class="stat-label">Documentos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">17</div>
                    <div class="stat-label">Entidades</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">700+</div>
                    <div class="stat-label">Linhas de CÃ³digo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Endpoints API</div>
                </div>
            </div>
            
            <h2>ğŸ“š DocumentaÃ§Ãµes DisponÃ­veis</h2>
            
            <blockquote>
                <strong>ğŸ¯ Bem-vindo Ã  documentaÃ§Ã£o do Sistema DoeSangue!</strong><br>
                Esta Ã© uma coleÃ§Ã£o completa de documentos tÃ©cnicos para o projeto de gerenciamento de doaÃ§Ãµes de sangue.
            </blockquote>
            
            <h3>ğŸ—ï¸ Arquitetura e Design</h3>
            <ul>
                <li><a href="architecture.html"><strong>Arquitetura do Sistema</strong></a> - VisÃ£o geral da arquitetura, tecnologias e padrÃµes utilizados</li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html"><strong>DocumentaÃ§Ã£o das Entidades</strong></a> - Detalhamento completo de todas as entidades do sistema</li>
            </ul>
            
            <h3>ğŸ’» Desenvolvimento e API</h3>
            <ul>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html"><strong>DocumentaÃ§Ã£o do Controller</strong></a> - Exemplo completo de implementaÃ§Ã£o de controller REST</li>
                <li><a href="GUIA-CONTROLLER-BOAS-PRATICAS.html"><strong>Guia de Boas PrÃ¡ticas</strong></a> - Boas prÃ¡ticas para controllers REST, DTOs e validaÃ§Ãµes</li>
                <li><a href="TUTORIAL-JPA-SPECIFICATIONS.html"><strong>Tutorial JPA Specifications</strong></a> - ImplementaÃ§Ã£o de filtros dinÃ¢micos com Spring Data JPA</li>
                <li><a href="SWAGGER-DOCUMENTACAO.html"><strong>ConfiguraÃ§Ã£o Swagger</strong></a> - DocumentaÃ§Ã£o detalhada da configuraÃ§Ã£o OpenAPI</li>
                <li><a href="SWAGGER-RESUMO-IMPLEMENTACAO.html"><strong>Resumo da ImplementaÃ§Ã£o Swagger</strong></a> - Guia prÃ¡tico de implementaÃ§Ã£o</li>
            </ul>
            
            <h3>ğŸ”§ Guias Fundamentais</h3>
            <div class="guia-destaque">
                <h4>âš¡ Guia Repository Pattern & Spring Data JPA</h4>
                <p>
                    <strong>Guia completo e fundamental</strong> sobre Repository Pattern, Spring Data JPA, Query Methods e otimizaÃ§Ã£o com Ã­ndices de banco de dados. 
                    <em>Essencial para entender a base da persistÃªncia no projeto!</em>
                </p>
                <a href="GUIA-REPOSITORY-PATTERN.html" class="btn">
                    ğŸ“Š Acessar Guia Repository Pattern â†’
                </a>
                <div class="features">
                    <strong>ğŸ¯ Inclui:</strong> Conceitos fundamentais â€¢ ImplementaÃ§Ã£o prÃ¡tica â€¢ Query Methods â€¢ Ãndices para performance â€¢ Testes â€¢ 60+ links oficiais
                </div>
            </div>
            
            <h3>ğŸ“‹ Planejamento e Roadmap</h3>
            <ul>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html"><strong>Roadmap e PrÃ³ximos Passos</strong></a> - Planejamento de desenvolvimento e melhorias</li>
                <li><a href="PLANO-ACAO-SEMANAL.html"><strong>Plano de AÃ§Ã£o Semanal</strong></a> - Cronograma detalhado de atividades</li>
            </ul>
            
            <h2>ğŸš€ Como Usar Esta DocumentaÃ§Ã£o</h2>
            
            <blockquote>
                <strong>ğŸ‘¨â€ğŸ’» Para Desenvolvedores:</strong><br>
                Comece pela <a href="architecture.html">Arquitetura</a> para entender a estrutura geral, 
                depois veja o <a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">Controller</a> para exemplos prÃ¡ticos.
            </blockquote>
            
            <blockquote>
                <strong>ğŸ“Š Para Analistas:</strong><br>
                Foque na <a href="DOCUMENTACAO-ENTIDADES.html">DocumentaÃ§Ã£o das Entidades</a> e no 
                <a href="ROADMAP-PROXIMOS-PASSOS.html">Roadmap</a> para entender os requisitos e planejamento.
            </blockquote>
            
            <h2>ğŸ› ï¸ Tecnologias Utilizadas</h2>
            
            <ul>
                <li><strong>Backend:</strong> Spring Boot 3.5.5</li>
                <li><strong>ORM:</strong> JPA/Hibernate 6.x</li>
                <li><strong>Database:</strong> SQL Server 2019+</li>
                <li><strong>SeguranÃ§a:</strong> Spring Security 6.x</li>
                <li><strong>DocumentaÃ§Ã£o:</strong> SpringDoc OpenAPI 3.0</li>
                <li><strong>Build:</strong> Maven 3.9+</li>
                <li><strong>Deploy:</strong> GitHub Pages</li>
            </ul>
            
            <h2>ğŸ“ InformaÃ§Ãµes do Projeto</h2>
            
            <ul>
                <li><strong>GitHub:</strong> <a href="https://github.com/nisze/doesangue_backend">github.com/nisze/doesangue_backend</a></li>
                <li><strong>DocumentaÃ§Ã£o API:</strong> <a href="http://localhost:8080/swagger-ui.html">localhost:8080/swagger-ui.html</a></li>
                <li><strong>Desenvolvido para:</strong> AnÃ¡lise e Desenvolvimento de Sistemas</li>
                <li><strong>Finalidade:</strong> Facilitar a conexÃ£o entre doadores e hemocentros</li>
            </ul>
            
            <blockquote>
                <strong>ğŸ’¡ Dica:</strong> Use Ctrl+F para buscar rapidamente por tÃ³picos especÃ­ficos nesta documentaÃ§Ã£o.
            </blockquote>
        </div>
        
        <div class="footer">
            ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue<br>
            ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento
        </div>
    </div>
</body>
</html>
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: white;
            min-height: calc(100vh - 200px);
        }
        
        /* Stats Cards */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 5px solid #3498db;
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: 700;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1em;
            color: #7f8c8d;
            font-weight: 500;
        }
        
        /* Section Headers */
        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 40px 0 25px 0;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .section-header .icon {
            font-size: 1.5em;
        }
        
        .section-header h2 {
            color: #2c3e50;
            font-size: 1.8em;
            font-weight: 600;
            margin: 0;
        }
        
        /* Welcome Message */
        .welcome-message {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #17a2b8;
            margin: 30px 0;
        }
        
        .welcome-message strong {
            color: #17a2b8;
            font-size: 1.1em;
        }
        
        .welcome-message p {
            margin: 8px 0 0 0;
            color: #495057;
            line-height: 1.6;
        }
        
        /* Content Sections */
        .content-section {
            margin: 35px 0;
        }
        
        .content-section h3 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .doc-list {
            list-style: none;
            padding: 0;
        }
        
        .doc-list li {
            margin-bottom: 12px;
            padding-left: 0;
        }
        
        .doc-list a {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .doc-list a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        .doc-list strong {
            color: #2c3e50;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-header {
                padding: 30px 15px;
            }
            
            .main-header h1 {
                font-size: 2em;
            }
            
            .nav {
                flex-direction: column;
            }
            
            .nav-item {
                text-align: center;
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }
            
            .container {
                padding: 20px 15px;
            }
            
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header Principal -->
    <div class="main-header">
        <div class="blood-icon">ğŸ©¸</div>
        <h1>DocumentaÃ§Ã£o Completa do Sistema DoeSangue</h1>
        <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
        <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
    </div>
    
    <!-- Navigation -->
    <div class="nav-container">
        <nav class="nav">
            <a href="index.html" class="nav-item active">
                ğŸ  InÃ­cio
            </a>
            <a href="html/architecture.html" class="nav-item">
                ğŸ—ï¸ Arquitetura
            </a>
            <a href="html/DOCUMENTACAO-ENTIDADES.html" class="nav-item">
                ğŸ“Š Entidades
            </a>
            <a href="html/DOADOR-CONTROLLER-DOCUMENTACAO.html" class="nav-item">
                ğŸ® Controller
            </a>
            <a href="html/SWAGGER-DOCUMENTACAO.html" class="nav-item">
                ğŸ“– Swagger
            </a>
            <a href="html/ROADMAP-PROXIMOS-PASSOS.html" class="nav-item">
                ğŸ—ºï¸ Roadmap
            </a>
        </nav>
    </div>
    
    <!-- Container Principal -->
    <div class="container">
        <!-- Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">10</div>
                <div class="stat-label">Documentos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">17</div>
                <div class="stat-label">Entidades</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">700+</div>
                <div class="stat-label">Linhas de CÃ³digo</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">50+</div>
                <div class="stat-label">Endpoints API</div>
            </div>
        </div>
        
        <!-- Section Header -->
        <div class="section-header">
            <span class="icon">ğŸ“š</span>
            <h2>DocumentaÃ§Ãµes DisponÃ­veis</h2>
        </div>
        
        <!-- Welcome Message -->
        <div class="welcome-message">
            <strong>ğŸ¯ Bem-vindo Ã  documentaÃ§Ã£o do Sistema DoeSangue!</strong>
            <p>Esta Ã© uma coleÃ§Ã£o completa de documentos tÃ©cnicos para o projeto de gerenciamento de doaÃ§Ãµes de sangue.</p>
        </div>
        
        <!-- Content Sections -->
        <div class="content-section">
            <h3>ğŸ—ï¸ Arquitetura e Design</h3>
            <ul class="doc-list">
                <li><a href="html/architecture.html"><strong>Arquitetura do Sistema</strong></a> - VisÃ£o geral da arquitetura, tecnologias e padrÃµes utilizados</li>
                <li><a href="html/DOCUMENTACAO-ENTIDADES.html"><strong>DocumentaÃ§Ã£o das Entidades</strong></a> - Detalhamento completo de todas as entidades do sistema</li>
            </ul>
        </div>
        
        <div class="content-section">
            <h3>ğŸ’» Desenvolvimento e API</h3>
            <ul class="doc-list">
                <li><a href="html/DOADOR-CONTROLLER-DOCUMENTACAO.html"><strong>DocumentaÃ§Ã£o do Controller</strong></a> - Exemplo completo de implementaÃ§Ã£o de controller REST</li>
                <li><a href="html/GUIA-CONTROLLER-BOAS-PRATICAS.html"><strong>Guia de Boas PrÃ¡ticas</strong></a> - Boas prÃ¡ticas para controllers REST, DTOs e validaÃ§Ãµes</li>
                <li><a href="html/TUTORIAL-JPA-SPECIFICATIONS.html"><strong>Tutorial JPA Specifications</strong></a> - ImplementaÃ§Ã£o de filtros dinÃ¢micos com Spring Data JPA</li>
                <li><a href="html/SWAGGER-DOCUMENTACAO.html"><strong>ConfiguraÃ§Ã£o Swagger</strong></a> - DocumentaÃ§Ã£o detalhada da configuraÃ§Ã£o OpenAPI</li>
                <li><a href="html/SWAGGER-RESUMO-IMPLEMENTACAO.html"><strong>Resumo da ImplementaÃ§Ã£o Swagger</strong></a> - Guia prÃ¡tico de implementaÃ§Ã£o</li>
            </ul>
        </div>
        
        <div class="content-section">
            <h3>ğŸ”§ Guias Fundamentais</h3>
            <div style="background: linear-gradient(135deg, #8b5fbf 0%, #b794f6 100%); color: white; padding: 25px; border-radius: 10px; margin: 20px 0;">
                <h4 style="color: white; margin-bottom: 15px; font-size: 1.3em;">âš¡ Guia Repository Pattern & Spring Data JPA</h4>
                <p style="margin-bottom: 20px; line-height: 1.6;">
                    <strong>Guia completo e fundamental</strong> sobre Repository Pattern, Spring Data JPA, Query Methods e otimizaÃ§Ã£o com Ã­ndices de banco de dados. 
                    <em>Essencial para entender a base da persistÃªncia no projeto!</em>
                </p>
                <a href="html/GUIA-REPOSITORY-PATTERN.html" style="display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 12px 20px; text-decoration: none; border-radius: 6px; font-weight: 600; border: 2px solid rgba(255,255,255,0.3);">
                    ğŸ“Š Acessar Guia Repository Pattern â†’
                </a>
                <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.9;">
                    <strong>ğŸ¯ Inclui:</strong> Conceitos fundamentais â€¢ ImplementaÃ§Ã£o prÃ¡tica â€¢ Query Methods â€¢ Ãndices para performance â€¢ Testes â€¢ 60+ links oficiais
                </div>
            </div>
        </div>
        
        <div class="content-section">
            <h3>ğŸ“‹ Planejamento e Roadmap</h3>
            <ul class="doc-list">
                <li><a href="html/ROADMAP-PROXIMOS-PASSOS.html"><strong>Roadmap e PrÃ³ximos Passos</strong></a> - Planejamento de desenvolvimento e melhorias</li>
                <li><a href="html/PLANO-ACAO-SEMANAL.html"><strong>Plano de AÃ§Ã£o Semanal</strong></a> - Cronograma detalhado de atividades</li>
            </ul>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ Plano de AÃ§Ã£o Imediato - PrÃ³ximos 7 Dias - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ¯ Plano de AÃ§Ã£o Imediato - PrÃ³ximos 7 Dias</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-plano-de-ao-imediato-prximos-7-dias">ğŸ¯ Plano de AÃ§Ã£o Imediato - PrÃ³ximos 7 Dias</h1><p><strong>Data:</strong> 27 de Agosto de 2025<br><strong>Foco:</strong> ImplementaÃ§Ã£o das APIs Base e AutenticaÃ§Ã£o</p>
<hr>
<h2 id="-tarefas-prioritrias-esta-semana">ğŸ“‹ Tarefas PrioritÃ¡rias (Esta Semana)</h2><h3 id="strongdia-1-2-autenticao-e-seguranastrong"><strong>DIA 1-2: AutenticaÃ§Ã£o e SeguranÃ§a</strong></h3><h4 id="strongspan-classbadge-successspan-tarefa-1-implementar-jwt-servicestrong"><strong><span class="badge success">âœ…</span> Tarefa 1: Implementar JWT Service</strong></h4><pre><code class="language-java">// Criar: src/main/java/com/faculdade/doesangue_api/security/JwtService.java
@Service
public class JwtService {
    public String generateToken(User user);
    public String extractUsername(String token);
    public boolean isTokenValid(String token, User user);
    public boolean isTokenExpired(String token);
}
</code></pre>
<h4 id="strongspan-classbadge-successspan-tarefa-2-configurar-spring-securitystrong"><strong><span class="badge success">âœ…</span> Tarefa 2: Configurar Spring Security</strong></h4><pre><code class="language-java">// Criar: src/main/java/com/faculdade/doesangue_api/security/SecurityConfig.java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    // Configurar endpoints pÃºblicos/privados
    // Configurar filtro JWT
    // Configurar CORS
}
</code></pre>
<h4 id="strongspan-classbadge-successspan-tarefa-3-controller-de-autenticaostrong"><strong><span class="badge success">âœ…</span> Tarefa 3: Controller de AutenticaÃ§Ã£o</strong></h4><pre><code class="language-java">// Criar: src/main/java/com/faculdade/doesangue_api/controllers/AuthController.java
@RestController
@RequestMapping(&quot;/api/auth&quot;)
public class AuthController {
    @PostMapping(&quot;/login&quot;)
    @PostMapping(&quot;/refresh&quot;)  
    @GetMapping(&quot;/me&quot;)
}
</code></pre>
<h3 id="strongdia-3-4-dtos-e-validaesstrong"><strong>DIA 3-4: DTOs e ValidaÃ§Ãµes</strong></h3><h4 id="strongspan-classbadge-successspan-tarefa-4-dtos-basestrong"><strong><span class="badge success">âœ…</span> Tarefa 4: DTOs Base</strong></h4><pre><code class="language-java">// Criar DTOs em: src/main/java/com/faculdade/doesangue_api/dtos/

1. AuthLoginDTO         // Login request
2. AuthResponseDTO      // Login response com token
3. UserDTO              // User para visualizaÃ§Ã£o
4. UserCreateDTO        // User para criaÃ§Ã£o
5. UserUpdateDTO        // User para atualizaÃ§Ã£o
6. DoadorDTO            // Doador para visualizaÃ§Ã£o
7. DoadorCreateDTO      // Doador para criaÃ§Ã£o
8. HemocentroDTO        // Hemocentro bÃ¡sico
</code></pre>
<h4 id="strongspan-classbadge-successspan-tarefa-5-validaes-bean-validationstrong"><strong><span class="badge success">âœ…</span> Tarefa 5: ValidaÃ§Ãµes Bean Validation</strong></h4><pre><code class="language-java">// Adicionar anotaÃ§Ãµes nos DTOs:
@NotNull
@NotBlank
@Email
@CPF
@Size(min = 8, max = 100)
@Pattern(regexp = &quot;...&quot;)
</code></pre>
<h3 id="strongdia-5-6-controllers-basestrong"><strong>DIA 5-6: Controllers Base</strong></h3><h4 id="strongspan-classbadge-successspan-tarefa-6-usercontroller-completostrong"><strong><span class="badge success">âœ…</span> Tarefa 6: UserController Completo</strong></h4><pre><code class="language-java">// Implementar: src/main/java/com/faculdade/doesangue_api/controllers/UserController.java
@RestController
@RequestMapping(&quot;/api/users&quot;)
public class UserController {
    @GetMapping                 // Listar users paginado
    @GetMapping(&quot;/{id}&quot;)        // Buscar por ID
    @PostMapping                // Criar user
    @PutMapping(&quot;/{id}&quot;)        // Atualizar user
    @DeleteMapping(&quot;/{id}&quot;)     // Soft delete
    @GetMapping(&quot;/{id}/setores&quot;) // Setores do user
}
</code></pre>
<h4 id="strongspan-classbadge-successspan-tarefa-7-doadorcontroller-inicialstrong"><strong><span class="badge success">âœ…</span> Tarefa 7: DoadorController Inicial</strong></h4><pre><code class="language-java">// Implementar: DoadorController com endpoints bÃ¡sicos
@RestController
@RequestMapping(&quot;/api/doadores&quot;)
public class DoadorController {
    @GetMapping                 // Listar doadores
    @GetMapping(&quot;/{id}&quot;)        // Buscar por ID  
    @PostMapping                // Criar doador
    @PutMapping(&quot;/{id}&quot;)        // Atualizar doador
}
</code></pre>
<h3 id="strongdia-7-testes-e-documentaostrong"><strong>DIA 7: Testes e DocumentaÃ§Ã£o</strong></h3><h4 id="strongspan-classbadge-successspan-tarefa-8-testes-bsicosstrong"><strong><span class="badge success">âœ…</span> Tarefa 8: Testes BÃ¡sicos</strong></h4><pre><code class="language-java">// Criar testes em: src/test/java/
1. AuthControllerTest
2. UserControllerTest  
3. JwtServiceTest
</code></pre>
<h4 id="strongspan-classbadge-successspan-tarefa-9-atualizar-swaggerstrong"><strong><span class="badge success">âœ…</span> Tarefa 9: Atualizar Swagger</strong></h4><pre><code class="language-java">// Verificar se documentaÃ§Ã£o estÃ¡ sendo gerada corretamente
// Testar todos os endpoints no Swagger UI
// Adicionar exemplos de JSON nos DTOs
</code></pre>
<hr>
<h2 id="-implementao-detalhada">ğŸ› ï¸ ImplementaÃ§Ã£o Detalhada</h2><h3 id="strong1-estrutura-de-pastas-a-criarstrong"><strong>1. Estrutura de Pastas a Criar:</strong></h3><pre><code>src/main/java/com/faculdade/doesangue_api/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”œâ”€â”€ UserController.java
â”‚   â”œâ”€â”€ DoadorController.java
â”‚   â””â”€â”€ SystemController.java (jÃ¡ existe)
â”œâ”€â”€ dtos/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ AuthLoginDTO.java
â”‚   â”‚   â””â”€â”€ AuthResponseDTO.java
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ UserDTO.java
â”‚   â”‚   â”œâ”€â”€ UserCreateDTO.java
â”‚   â”‚   â””â”€â”€ UserUpdateDTO.java
â”‚   â””â”€â”€ doador/
â”‚       â”œâ”€â”€ DoadorDTO.java
â”‚       â””â”€â”€ DoadorCreateDTO.java
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ JwtService.java
â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â””â”€â”€ JwtAuthenticationFilter.java
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”œâ”€â”€ UserService.java
â”‚   â””â”€â”€ DoadorService.java
â””â”€â”€ exceptions/
    â”œâ”€â”€ GlobalExceptionHandler.java
    â””â”€â”€ BusinessException.java
</code></pre>
<h3 id="strong2-dependncias-necessrias-verificar-no-pomxmlstrong"><strong>2. DependÃªncias NecessÃ¡rias (verificar no pom.xml):</strong></h3><pre><code class="language-xml">&lt;!-- JWT jÃ¡ tem --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.auth0&lt;/groupId&gt;
    &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Security jÃ¡ tem --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Validation jÃ¡ tem --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="strong3-exemplo-de-dto-com-validaostrong"><strong>3. Exemplo de DTO com ValidaÃ§Ã£o:</strong></h3><pre><code class="language-java">@Schema(description = &quot;Dados para criaÃ§Ã£o de usuÃ¡rio&quot;)
public class UserCreateDTO {
    
    @Schema(description = &quot;Nome completo&quot;, example = &quot;JoÃ£o Silva Santos&quot;)
    @NotBlank(message = &quot;Nome Ã© obrigatÃ³rio&quot;)
    @Size(max = 100, message = &quot;Nome deve ter no mÃ¡ximo 100 caracteres&quot;)
    private String fullName;
    
    @Schema(description = &quot;Email Ãºnico&quot;, example = &quot;joao@email.com&quot;)
    @NotBlank(message = &quot;Email Ã© obrigatÃ³rio&quot;)
    @Email(message = &quot;Email deve ter formato vÃ¡lido&quot;)
    private String email;
    
    @Schema(description = &quot;CPF Ãºnico&quot;, example = &quot;12345678901&quot;)
    @NotBlank(message = &quot;CPF Ã© obrigatÃ³rio&quot;)
    @Pattern(regexp = &quot;\\d{11}&quot;, message = &quot;CPF deve ter 11 dÃ­gitos&quot;)
    private String cpf;
    
    @Schema(description = &quot;Senha&quot;, example = &quot;senha123&quot;)
    @NotBlank(message = &quot;Senha Ã© obrigatÃ³ria&quot;)
    @Size(min = 8, message = &quot;Senha deve ter no mÃ­nimo 8 caracteres&quot;)
    private String senha;
    
    @Schema(description = &quot;ID do role&quot;, example = &quot;1&quot;)
    @NotNull(message = &quot;Role Ã© obrigatÃ³rio&quot;)
    private Long roleId;
    
    @Schema(description = &quot;ID do hemocentro&quot;, example = &quot;1&quot;)
    @NotNull(message = &quot;Hemocentro Ã© obrigatÃ³rio&quot;)
    private Long hemocentroId;
}
</code></pre>
<h3 id="strong4-exemplo-de-controller-com-documentaostrong"><strong>4. Exemplo de Controller com DocumentaÃ§Ã£o:</strong></h3><pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/users&quot;)
@Tag(name = &quot;UsuÃ¡rios&quot;, description = &quot;GestÃ£o de usuÃ¡rios do sistema&quot;)
@SecurityRequirement(name = &quot;bearerAuth&quot;)
public class UserController {

    @Operation(
        summary = &quot;Listar usuÃ¡rios&quot;,
        description = &quot;Retorna lista paginada de usuÃ¡rios com filtros opcionais&quot;
    )
    @ApiResponses({
        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Lista retornada com sucesso&quot;),
        @ApiResponse(responseCode = &quot;401&quot;, description = &quot;NÃ£o autorizado&quot;),
        @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Acesso negado&quot;)
    })
    @GetMapping
    public ResponseEntity&lt;Page&lt;UserDTO&gt;&gt; listarUsuarios(
            @Parameter(description = &quot;PÃ¡gina (0-based)&quot;, example = &quot;0&quot;)
            @RequestParam(defaultValue = &quot;0&quot;) int page,
            
            @Parameter(description = &quot;Tamanho da pÃ¡gina&quot;, example = &quot;20&quot;)
            @RequestParam(defaultValue = &quot;20&quot;) int size,
            
            @Parameter(description = &quot;Filtro por nome&quot;, example = &quot;JoÃ£o&quot;)
            @RequestParam(required = false) String nome,
            
            @Parameter(description = &quot;Filtro por role&quot;, example = &quot;MEDICO&quot;)
            @RequestParam(required = false) String role) {
        
        // ImplementaÃ§Ã£o...
        return ResponseEntity.ok(userService.listarUsuarios(page, size, nome, role));
    }
}
</code></pre>
<hr>
<h2 id="-critrios-de-aceitao">ğŸ§ª CritÃ©rios de AceitaÃ§Ã£o</h2><h3 id="strongspan-classbadge-successspan-ao-final-da-semana-deve-estar-funcionandostrong"><strong><span class="badge success">âœ…</span> Ao Final da Semana, Deve Estar Funcionando:</strong></h3><ol>
<li><p><strong>AutenticaÃ§Ã£o:</strong></p>
<ul>
<li>Login em <code>/api/auth/login</code> retorna JWT vÃ¡lido</li>
<li>Endpoints protegidos requerem token</li>
<li>Swagger UI permite autenticaÃ§Ã£o</li>
</ul>
</li>
<li><p><strong>APIs Base:</strong></p>
<ul>
<li>CRUD completo de usuÃ¡rios</li>
<li>CRUD bÃ¡sico de doadores</li>
<li>PaginaÃ§Ã£o funcionando</li>
<li>ValidaÃ§Ãµes ativas</li>
</ul>
</li>
<li><p><strong>DocumentaÃ§Ã£o:</strong></p>
<ul>
<li>Swagger UI com todos os endpoints</li>
<li>Exemplos de JSON funcionais</li>
<li>Grupos organizados corretamente</li>
</ul>
</li>
<li><p><strong>Qualidade:</strong></p>
<ul>
<li>Testes bÃ¡sicos passando</li>
<li>Logs estruturados</li>
<li>Tratamento de erros</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-testes-de-aceitao">ğŸ¯ Testes de AceitaÃ§Ã£o</h2><h3 id="strongcenrios-para-testarstrong"><strong>CenÃ¡rios para Testar:</strong></h3><h4 id="strongautenticaostrong"><strong>AutenticaÃ§Ã£o:</strong></h4><pre><code class="language-bash"># 1. Login bem-sucedido
POST /api/auth/login
{
  &quot;email&quot;: &quot;admin@doesangue.com&quot;,
  &quot;senha&quot;: &quot;admin123&quot;
}
# Esperado: 200 + JWT token

# 2. Login com credenciais invÃ¡lidas  
# Esperado: 401 Unauthorized

# 3. Acesso a endpoint protegido sem token
GET /api/users
# Esperado: 401 Unauthorized

# 4. Acesso com token vÃ¡lido
GET /api/users
Authorization: Bearer &lt;token&gt;
# Esperado: 200 + lista de usuÃ¡rios
</code></pre>
<h4 id="strongcrud-de-usuriosstrong"><strong>CRUD de UsuÃ¡rios:</strong></h4><pre><code class="language-bash"># 1. Criar usuÃ¡rio
POST /api/users
{
  &quot;fullName&quot;: &quot;Dr. JoÃ£o Silva&quot;,
  &quot;email&quot;: &quot;joao@hospital.com&quot;,
  &quot;cpf&quot;: &quot;12345678901&quot;,
  &quot;senha&quot;: &quot;senha123&quot;,
  &quot;roleId&quot;: 2,
  &quot;hemocentroId&quot;: 1
}
# Esperado: 201 Created

# 2. Buscar usuÃ¡rio criado
GET /api/users/{id}
# Esperado: 200 + dados do usuÃ¡rio

# 3. Listar usuÃ¡rios paginado
GET /api/users?page=0&amp;size=10
# Esperado: 200 + pÃ¡gina de usuÃ¡rios
</code></pre>
<hr>
<h2 id="-comandos-para-testar">ğŸš€ Comandos para Testar</h2><h3 id="stronginiciar-aplicaostrong"><strong>Iniciar AplicaÃ§Ã£o:</strong></h3><pre><code class="language-bash">cd doesangue_backend
./mvnw spring-boot:run
</code></pre>
<h3 id="strongacessar-swaggerstrong"><strong>Acessar Swagger:</strong></h3><pre><code>http://localhost:8080/swagger-ui.html
</code></pre>
<h3 id="stronghealth-checkstrong"><strong>Health Check:</strong></h3><pre><code>http://localhost:8080/api/system/health
</code></pre>
<hr>
<h2 id="-prximas-reunies">ğŸ“ PrÃ³ximas ReuniÃµes</h2><h3 id="strongcheckpoint-dirio-dailystrong"><strong>Checkpoint DiÃ¡rio (Daily):</strong></h3><ul>
<li><strong>HorÃ¡rio:</strong> 9h00</li>
<li><strong>DuraÃ§Ã£o:</strong> 15min</li>
<li><strong>Foco:</strong> Progresso do dia, bloqueios, prÃ³ximas tarefas</li>
</ul>
<h3 id="strongreview-semanal-sextastrong"><strong>Review Semanal (Sexta):</strong></h3><ul>
<li><strong>HorÃ¡rio:</strong> 16h00</li>
<li><strong>DuraÃ§Ã£o:</strong> 1h</li>
<li><strong>Foco:</strong> Demo das funcionalidades, retrospectiva, planejamento</li>
</ul>
<hr>
<p><strong>ğŸ¯ Meta da Semana:</strong> APIs de autenticaÃ§Ã£o e usuÃ¡rios funcionais, testÃ¡veis via Swagger UI, com documentaÃ§Ã£o completa e testes bÃ¡sicos implementados.</p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ—ºï¸ Roadmap Completo - Sistema DoeSangue - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ—ºï¸ Roadmap Completo - Sistema DoeSangue</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-roadmap-completo-sistema-doesangue">ğŸ—ºï¸ Roadmap Completo - Sistema DoeSangue</h1><p><strong>Data:</strong> 27 de Agosto de 2025<br><strong>Status Atual:</strong> FASE 1 Implementada + Swagger Configurado</p>
<hr>
<h2 id="-status-atual-da-aplicao">ğŸ“Š Status Atual da AplicaÃ§Ã£o</h2><h3 id="span-classbadge-successspan-strongo-que-j-temos-fase-1strong"><span class="badge success">âœ…</span> <strong>O Que JÃ¡ Temos (FASE 1):</strong></h3><ul>
<li><strong>5 Entidades Originais:</strong> User, UserRole, Hemocentro, Doador, TipoSanguineo</li>
<li><strong>4 Entidades Novas:</strong> SetorAtuacao, UserSetor, DoencaEspecifica, DoadorDoenca</li>
<li><strong>Swagger/OpenAPI:</strong> ConfiguraÃ§Ã£o completa e profissional</li>
<li><strong>DocumentaÃ§Ã£o:</strong> Entidades e APIs documentadas</li>
<li><strong>Arquitetura:</strong> 4 agregados DDD definidos</li>
<li><strong>Base de Dados:</strong> Schema SQL completo (17 tabelas)</li>
</ul>
<h3 id="-strongo-que-falta-implementarstrong">ğŸ”„ <strong>O Que Falta Implementar:</strong></h3><ul>
<li><strong>Controllers REST</strong> para as entidades existentes</li>
<li><strong>DTOs</strong> para entrada/saÃ­da de dados</li>
<li><strong>Services</strong> com regras de negÃ³cio</li>
<li><strong>Repositories</strong> customizados</li>
<li><strong>FASE 2 Entidades:</strong> Triagem, Agendamento, DoaÃ§Ã£o, Estoque</li>
<li><strong>Sistema de AutenticaÃ§Ã£o JWT</strong></li>
<li><strong>ValidaÃ§Ãµes de NegÃ³cio</strong></li>
<li><strong>Testes Automatizados</strong></li>
</ul>
<hr>
<h2 id="-fase-2-implementao-de-controllers-e-apis">ğŸ¯ FASE 2: ImplementaÃ§Ã£o de Controllers e APIs</h2><h3 id="strongprioridade-1-infraestrutura-de-apis-1-2-semanasstrong"><strong>Prioridade 1: Infraestrutura de APIs (1-2 semanas)</strong></h3><h4 id="strong21-sistema-de-autenticaostrong"><strong>2.1 Sistema de AutenticaÃ§Ã£o</strong></h4><pre><code class="language-java">// Controllers a implementar:
@RestController(&quot;/api/auth&quot;)
public class AuthController {
    @PostMapping(&quot;/login&quot;)     // Login com JWT
    @PostMapping(&quot;/refresh&quot;)   // Refresh token
    @PostMapping(&quot;/logout&quot;)    // Logout
    @GetMapping(&quot;/me&quot;)         // Dados do usuÃ¡rio logado
}
</code></pre>
<p><strong>Tarefas:</strong></p>
<ul>
<li><input disabled="" type="checkbox"> Implementar <code>AuthController</code></li>
<li><input disabled="" type="checkbox"> Criar <code>JwtService</code> para geraÃ§Ã£o/validaÃ§Ã£o de tokens</li>
<li><input disabled="" type="checkbox"> Configurar Spring Security</li>
<li><input disabled="" type="checkbox"> Criar <code>AuthDTO</code> (login/response)</li>
<li><input disabled="" type="checkbox"> Implementar middleware de autenticaÃ§Ã£o</li>
</ul>
<h4 id="strong22-dtos-base-do-sistemastrong"><strong>2.2 DTOs Base do Sistema</strong></h4><pre><code class="language-java">// Criar DTOs para todas as entidades:
- UserDTO, UserCreateDTO, UserUpdateDTO
- DoadorDTO, DoadorCreateDTO, DoadorUpdateDTO  
- HemocentroDTO, SetorAtuacaoDTO
- TipoSanguineoDTO, DoencaEspecificaDTO
</code></pre>
<p><strong>PadrÃ£o de DTOs:</strong></p>
<ul>
<li><strong>ViewDTO:</strong> Para listagem/visualizaÃ§Ã£o</li>
<li><strong>CreateDTO:</strong> Para criaÃ§Ã£o (sem ID)</li>
<li><strong>UpdateDTO:</strong> Para atualizaÃ§Ã£o (com ID)</li>
<li><strong>DetailDTO:</strong> Para detalhes completos</li>
</ul>
<h4 id="strong23-controllers-crud-bsicosstrong"><strong>2.3 Controllers CRUD BÃ¡sicos</strong></h4><pre><code class="language-java">// Implementar controllers para entidades FASE 1:
1. UserController           (/api/users)
2. HemocentroController     (/api/hemocentros)  
3. SetorAtuacaoController   (/api/setores)
4. DoadorController         (/api/doadores)
5. TipoSanguineoController  (/api/tipos-sanguineos)
6. DoencaController         (/api/doencas)
</code></pre>
<p><strong>PadrÃ£o de Endpoints:</strong></p>
<ul>
<li><code>GET /api/resource</code> - Listar (paginado)</li>
<li><code>GET /api/resource/{id}</code> - Buscar por ID</li>
<li><code>POST /api/resource</code> - Criar</li>
<li><code>PUT /api/resource/{id}</code> - Atualizar</li>
<li><code>DELETE /api/resource/{id}</code> - Deletar (soft delete)</li>
</ul>
<h3 id="strongprioridade-2-services-e-regras-de-negcio-2-3-semanasstrong"><strong>Prioridade 2: Services e Regras de NegÃ³cio (2-3 semanas)</strong></h3><h4 id="strong24-services-com-validaesstrong"><strong>2.4 Services com ValidaÃ§Ãµes</strong></h4><pre><code class="language-java">@Service
public class DoadorService {
    // Regras especÃ­ficas de doadores
    public void validarIdadeMinima(LocalDate birthDate);
    public void validarCpfUnico(String cpf);
    public boolean podeDoar(Long doadorId);
    public List&lt;DoencaEspecifica&gt; obterDoencasImpedientes(Long doadorId);
}

@Service  
public class UserService {
    // GestÃ£o de usuÃ¡rios e permissÃµes
    public void validarCredenciais(String email, String senha);
    public void gerenciarSetores(Long userId, List&lt;Long&gt; setorIds);
    public boolean temPermissao(Long userId, String acao);
}
</code></pre>
<h4 id="strong25-repositories-customizadosstrong"><strong>2.5 Repositories Customizados</strong></h4><pre><code class="language-java">// Queries especÃ­ficas do negÃ³cio:
public interface DoadorRepository extends JpaRepository&lt;Doador, Long&gt; {
    List&lt;Doador&gt; findByTipoSanguineo(String tipo);
    List&lt;Doador&gt; findAptosParaDoacao();
    Page&lt;Doador&gt; findByHemocentro(Long hemocentroId, Pageable pageable);
}

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    Optional&lt;User&gt; findByEmail(String email);
    List&lt;User&gt; findByRole(UserRole role);
    List&lt;User&gt; findBySetor(Long setorId);
}
</code></pre>
<h4 id="strong26-validaes-de-integridadestrong"><strong>2.6 ValidaÃ§Ãµes de Integridade</strong></h4><pre><code class="language-java">@Component
public class DoadorValidator {
    public void validarDadosCompletos(DoadorCreateDTO dto);
    public void validarIdadeParaDoacao(LocalDate birthDate);
    public void validarDoencasImpedientes(List&lt;Long&gt; doencaIds);
}
</code></pre>
<hr>
<h2 id="-fase-3-processo-completo-de-doao-3-4-semanas">ğŸ©¸ FASE 3: Processo Completo de DoaÃ§Ã£o (3-4 semanas)</h2><h3 id="strongprioridade-3-entidades-do-processo-de-doaostrong"><strong>Prioridade 3: Entidades do Processo de DoaÃ§Ã£o</strong></h3><h4 id="strong31-implementar-entidades-fase-2strong"><strong>3.1 Implementar Entidades FASE 2</strong></h4><pre><code class="language-java">// Criar e implementar:
1. TriagemClinica    + TriagemController + TriagemService
2. Agendamento       + AgendamentoController + AgendamentoService  
3. Doacao            + DoacaoController + DoacaoService
4. EstoqueSangue     + EstoqueController + EstoqueService
</code></pre>
<h4 id="strong32-workflow-completo-de-doaostrong"><strong>3.2 Workflow Completo de DoaÃ§Ã£o</strong></h4><pre><code class="language-java">@Service
public class ProcessoDoacaoService {
    
    // 1. Agendamento
    public AgendamentoDTO agendarDoacao(AgendamentoCreateDTO dto);
    
    // 2. Triagem ClÃ­nica  
    public TriagemDTO realizarTriagem(TriagemCreateDTO dto);
    
    // 3. Validar AptidÃ£o
    public boolean validarAptidaoDoacao(Long triagemId);
    
    // 4. Registrar DoaÃ§Ã£o
    public DoacaoDTO registrarDoacao(DoacaoCreateDTO dto);
    
    // 5. Atualizar Estoque
    public void atualizarEstoque(Long doacaoId);
}
</code></pre>
<h4 id="strong33-regras-de-negcio-crticasstrong"><strong>3.3 Regras de NegÃ³cio CrÃ­ticas</strong></h4><pre><code class="language-java">// Implementar validaÃ§Ãµes:
- Intervalo entre doaÃ§Ãµes (60 dias homens, 90 dias mulheres)
- CritÃ©rios de triagem (peso, pressÃ£o, hemoglobina)
- DoenÃ§as que impedem doaÃ§Ã£o
- GestÃ£o inteligente de estoque
- Alertas de estoque crÃ­tico
</code></pre>
<h3 id="strongprioridade-4-sistema-de-suportestrong"><strong>Prioridade 4: Sistema de Suporte</strong></h3><h4 id="strong34-entidades-de-sistemastrong"><strong>3.4 Entidades de Sistema</strong></h4><pre><code class="language-java">// Implementar:
1. ConfiguracaoSistema   + ConfigController
2. Notificacao          + NotificacaoController  
3. LogAuditoriaLgpd     + AuditoriaController
</code></pre>
<h4 id="strong35-funcionalidades-avanadasstrong"><strong>3.5 Funcionalidades AvanÃ§adas</strong></h4><pre><code class="language-java">@Service
public class NotificacaoService {
    public void alertarEstoqueCritico(String tipoSanguineo);
    public void notificarValidacaoMedica(Long doadorId);
    public void enviarLembreteAgendamento(Long agendamentoId);
}

@Service
public class AuditoriaService {
    public void registrarAcesso(String tabela, Long registroId, String finalidade);
    public List&lt;LogAuditoriaLgpd&gt; relatorioAcessoDoador(Long doadorId);
}
</code></pre>
<hr>
<h2 id="-fase-4-qualidade-e-produo-2-3-semanas">ğŸ§ª FASE 4: Qualidade e ProduÃ§Ã£o (2-3 semanas)</h2><h3 id="strongprioridade-5-testes-e-qualidadestrong"><strong>Prioridade 5: Testes e Qualidade</strong></h3><h4 id="strong41-testes-automatizadosstrong"><strong>4.1 Testes Automatizados</strong></h4><pre><code class="language-java">// Implementar:
@SpringBootTest
public class DoadorControllerTest {
    @Test void deveCriarDoadorComSucesso();
    @Test void naoDeveCriarDoadorComCpfDuplicado();
    @Test void deveValidarIdadeMinima();
}

@DataJpaTest  
public class DoadorRepositoryTest {
    @Test void deveEncontrarDoadorPorTipoSanguineo();
    @Test void deveBuscarAptosParaDoacao();
}

@MockitoTest
public class ProcessoDoacaoServiceTest {
    @Test void deveRealizarWorkflowCompletoDoacao();
}
</code></pre>
<p><strong>Cobertura de Testes:</strong></p>
<ul>
<li><input disabled="" type="checkbox"> Unit Tests (Services, Repositories)</li>
<li><input disabled="" type="checkbox"> Integration Tests (Controllers)</li>
<li><input disabled="" type="checkbox"> E2E Tests (Workflow completo)</li>
<li><input disabled="" type="checkbox"> Performance Tests (Carga)</li>
</ul>
<h4 id="strong42-documentao-api-completastrong"><strong>4.2 DocumentaÃ§Ã£o API Completa</strong></h4><pre><code class="language-java">// Melhorar documentaÃ§Ã£o Swagger:
- Todos os endpoints documentados
- Exemplos reais de JSON
- CÃ³digos de erro especÃ­ficos  
- Schemas completos dos DTOs
</code></pre>
<h4 id="strong43-configuraes-de-produostrong"><strong>4.3 ConfiguraÃ§Ãµes de ProduÃ§Ã£o</strong></h4><pre><code class="language-properties"># application-prod.properties
spring.profiles.active=prod
spring.datasource.url=${DATABASE_URL}
logging.level.com.faculdade=WARN
springdoc.swagger-ui.enabled=false  # Desabilitar em prod

# application-dev.properties  
spring.profiles.active=dev
logging.level.com.faculdade=DEBUG
springdoc.swagger-ui.enabled=true
</code></pre>
<h3 id="strongprioridade-6-segurana-e-performancestrong"><strong>Prioridade 6: SeguranÃ§a e Performance</strong></h3><h4 id="strong44-segurana-avanadastrong"><strong>4.4 SeguranÃ§a AvanÃ§ada</strong></h4><pre><code class="language-java">@Configuration
public class SecurityConfig {
    // CORS configurado
    // Rate limiting
    // ValidaÃ§Ã£o de inputs
    // SanitizaÃ§Ã£o de dados
    // Logs de seguranÃ§a
}
</code></pre>
<h4 id="strong45-performance-e-cachestrong"><strong>4.5 Performance e Cache</strong></h4><pre><code class="language-java">@Service
public class EstoqueService {
    @Cacheable(&quot;estoque-critico&quot;)
    public List&lt;EstoqueSangue&gt; buscarEstoqueCritico();
    
    @CacheEvict(&quot;estoque-critico&quot;)  
    public void atualizarEstoque(Long estoqueId);
}
</code></pre>
<hr>
<h2 id="-fase-5-deploy-e-monitoramento-1-2-semanas">ğŸš€ FASE 5: Deploy e Monitoramento (1-2 semanas)</h2><h3 id="strongprioridade-7-preparao-para-produostrong"><strong>Prioridade 7: PreparaÃ§Ã£o para ProduÃ§Ã£o</strong></h3><h4 id="strong51-containerizaostrong"><strong>5.1 ContainerizaÃ§Ã£o</strong></h4><pre><code class="language-dockerfile"># Dockerfile
FROM openjdk:21-jdk-slim
COPY target/doesangue-backend.jar app.jar
EXPOSE 8080
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]
</code></pre>
<h4 id="strong52-cicd-pipelinestrong"><strong>5.2 CI/CD Pipeline</strong></h4><pre><code class="language-yaml"># .github/workflows/deploy.yml
name: Deploy DoeSangue
on: push
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: ./mvnw test
  deploy:
    runs-on: ubuntu-latest  
    steps:
      - run: docker build -t doesangue .
      - run: docker push $REGISTRY/doesangue
</code></pre>
<h4 id="strong53-monitoramentostrong"><strong>5.3 Monitoramento</strong></h4><pre><code class="language-java">// MÃ©tricas e Health Checks
@Component
public class HealthIndicator implements HealthIndicator {
    public Health health() {
        // Verificar database
        // Verificar serviÃ§os externos
        // Verificar estoque crÃ­tico
    }
}
</code></pre>
<hr>
<h2 id="-cronograma-detalhado">ğŸ“… Cronograma Detalhado</h2><h3 id="strongsemanas-1-2-apis-basestrong"><strong>Semanas 1-2: APIs Base</strong></h3><ul>
<li><strong>Semana 1:</strong> Auth + DTOs + UserController</li>
<li><strong>Semana 2:</strong> DoadorController + HemocentroController + Swagger completo</li>
</ul>
<h3 id="strongsemanas-3-5-regras-de-negciostrong"><strong>Semanas 3-5: Regras de NegÃ³cio</strong></h3><ul>
<li><strong>Semana 3:</strong> Services + ValidaÃ§Ãµes + Repositories</li>
<li><strong>Semana 4:</strong> Controllers restantes + Testes unitÃ¡rios</li>
<li><strong>Semana 5:</strong> IntegraÃ§Ã£o + DocumentaÃ§Ã£o</li>
</ul>
<h3 id="strongsemanas-6-9-processo-de-doaostrong"><strong>Semanas 6-9: Processo de DoaÃ§Ã£o</strong></h3><ul>
<li><strong>Semana 6:</strong> Entidades FASE 2 (Triagem + Agendamento)</li>
<li><strong>Semana 7:</strong> Doacao + EstoqueSangue + Workflow</li>
<li><strong>Semana 8:</strong> Sistema de Suporte (Config + NotificaÃ§Ã£o + Auditoria)</li>
<li><strong>Semana 9:</strong> IntegraÃ§Ã£o + Testes E2E</li>
</ul>
<h3 id="strongsemanas-10-12-produostrong"><strong>Semanas 10-12: ProduÃ§Ã£o</strong></h3><ul>
<li><strong>Semana 10:</strong> Testes completos + Performance</li>
<li><strong>Semana 11:</strong> SeguranÃ§a + Deploy + CI/CD  </li>
<li><strong>Semana 12:</strong> Monitoramento + DocumentaÃ§Ã£o final</li>
</ul>
<hr>
<h2 id="-entregveis-por-fase">ğŸ¯ EntregÃ¡veis por FASE</h2><h3 id="strongfase-2-apis-basestrong"><strong>FASE 2 (APIs Base):</strong></h3><ul>
<li><input disabled="" type="checkbox"> 6 Controllers REST funcionais</li>
<li><input disabled="" type="checkbox"> Sistema de autenticaÃ§Ã£o JWT</li>
<li><input disabled="" type="checkbox"> 15+ DTOs documentados</li>
<li><input disabled="" type="checkbox"> Swagger UI completo</li>
<li><input disabled="" type="checkbox"> Testes unitÃ¡rios bÃ¡sicos</li>
</ul>
<h3 id="strongfase-3-processo-doaostrong"><strong>FASE 3 (Processo DoaÃ§Ã£o):</strong></h3><ul>
<li><input disabled="" type="checkbox"> Workflow completo de doaÃ§Ã£o</li>
<li><input disabled="" type="checkbox"> 4 entidades novas implementadas</li>
<li><input disabled="" type="checkbox"> Sistema de notificaÃ§Ãµes</li>
<li><input disabled="" type="checkbox"> Auditoria LGPD funcional</li>
<li><input disabled="" type="checkbox"> Dashboard de estoque</li>
</ul>
<h3 id="strongfase-4-qualidadestrong"><strong>FASE 4 (Qualidade):</strong></h3><ul>
<li><input disabled="" type="checkbox"> Cobertura de testes &gt;80%</li>
<li><input disabled="" type="checkbox"> Performance otimizada</li>
<li><input disabled="" type="checkbox"> SeguranÃ§a hardened</li>
<li><input disabled="" type="checkbox"> DocumentaÃ§Ã£o completa</li>
</ul>
<h3 id="strongfase-5-produostrong"><strong>FASE 5 (ProduÃ§Ã£o):</strong></h3><ul>
<li><input disabled="" type="checkbox"> Deploy automatizado</li>
<li><input disabled="" type="checkbox"> Monitoramento ativo</li>
<li><input disabled="" type="checkbox"> Backup configurado</li>
<li><input disabled="" type="checkbox"> Logs estruturados</li>
</ul>
<hr>
<h2 id="-riscos-e-mitigaes">ğŸš¨ Riscos e MitigaÃ§Ãµes</h2><h3 id="strongriscos-tcnicosstrong"><strong>Riscos TÃ©cnicos:</strong></h3><ul>
<li><strong>Performance do Banco:</strong> Implementar Ã­ndices e cache</li>
<li><strong>SeguranÃ§a JWT:</strong> Configurar expiraÃ§Ã£o e refresh</li>
<li><strong>Integridade de Dados:</strong> ValidaÃ§Ãµes rigorosas + constraints</li>
</ul>
<h3 id="strongriscos-de-negciostrong"><strong>Riscos de NegÃ³cio:</strong></h3><ul>
<li><strong>Regras Complexas:</strong> Validar com especialistas mÃ©dicos</li>
<li><strong>LGPD Compliance:</strong> Auditoria externa das implementaÃ§Ãµes</li>
<li><strong>Escalabilidade:</strong> Projetar para crescimento futuro</li>
</ul>
<hr>
<h2 id="-prximas-aes-imediatas">ğŸ’¡ PrÃ³ximas AÃ§Ãµes Imediatas</h2><h3 id="strongesta-semana-27-ago-2-setstrong"><strong>Esta Semana (27 Ago - 2 Set):</strong></h3><ol>
<li><strong>Implementar AuthController e JWT</strong></li>
<li><strong>Criar DTOs base (User, Doador, Hemocentro)</strong></li>
<li><strong>Configurar Spring Security</strong></li>
<li><strong>Testar Swagger com endpoints reais</strong></li>
</ol>
<h3 id="strongprxima-semana-3-9-setstrong"><strong>PrÃ³xima Semana (3-9 Set):</strong></h3><ol>
<li><strong>Implementar UserController completo</strong></li>
<li><strong>Implementar DoadorController</strong>  </li>
<li><strong>Criar Services com validaÃ§Ãµes</strong></li>
<li><strong>Testes de integraÃ§Ã£o iniciais</strong></li>
</ol>
<hr>
<p><strong>ğŸ¯ Objetivo Final:</strong> Sistema DoeSangue completo, seguro, escalÃ¡vel e pronto para produÃ§Ã£o, atendendo todos os requisitos de um hemocentro moderno com compliance LGPD total.</p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š DocumentaÃ§Ã£o Swagger/OpenAPI - Sistema DoeSangue - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ“š DocumentaÃ§Ã£o Swagger/OpenAPI - Sistema DoeSangue</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-documentao-swaggeropenapi-sistema-doesangue">ğŸ“š DocumentaÃ§Ã£o Swagger/OpenAPI - Sistema DoeSangue</h1><p><strong>VersÃ£o:</strong> v1.0<br><strong>Data:</strong> 27 de Agosto de 2025<br><strong>Framework:</strong> Spring Boot 3.5.5 + SpringDoc OpenAPI</p>
<hr>
<h2 id="-ndice">ğŸ“‹ Ãndice</h2><ol>
<li><a href="#vis%C3%A3o-geral">VisÃ£o Geral</a></li>
<li><a href="#configura%C3%A7%C3%A3o-atual">ConfiguraÃ§Ã£o Atual</a></li>
<li><a href="#como-funciona">Como Funciona</a></li>
<li><a href="#depend%C3%AAncias">DependÃªncias</a></li>
<li><a href="#configura%C3%A7%C3%B5es-avan%C3%A7adas">ConfiguraÃ§Ãµes AvanÃ§adas</a></li>
<li><a href="#exemplos-de-uso">Exemplos de Uso</a></li>
<li><a href="#endpoints-de-acesso">Endpoints de Acesso</a></li>
<li><a href="#boas-pr%C3%A1ticas">Boas PrÃ¡ticas</a></li>
</ol>
<hr>
<h2 id="-viso-geral">ğŸ¯ VisÃ£o Geral</h2><p>O <strong>Swagger/OpenAPI</strong> Ã© uma ferramenta essencial para documentaÃ§Ã£o automÃ¡tica de APIs REST. No projeto DoeSangue, utilizamos o <strong>SpringDoc OpenAPI 3</strong> para:</p>
<ul>
<li>ğŸ“– <strong>DocumentaÃ§Ã£o AutomÃ¡tica:</strong> Gera documentaÃ§Ã£o interativa das APIs</li>
<li>ğŸ§ª <strong>Testes Integrados:</strong> Interface para testar endpoints diretamente</li>
<li>ğŸ“‹ <strong>ValidaÃ§Ã£o de Contratos:</strong> Valida requests/responses automaticamente  </li>
<li>ğŸ”„ <strong>SincronizaÃ§Ã£o:</strong> DocumentaÃ§Ã£o sempre atualizada com o cÃ³digo</li>
<li>ğŸŒ <strong>PadrÃ£o da IndÃºstria:</strong> OpenAPI 3.0 Ã© o padrÃ£o mundial para APIs</li>
</ul>
<hr>
<h2 id="-configurao-atual">âš™ï¸ ConfiguraÃ§Ã£o Atual</h2><h3 id="strong-arquivo-codeswaggerjavacodestrong"><strong>ğŸ“„ Arquivo: <code>Swagger.java</code></strong></h3><pre><code class="language-java">package com.faculdade.doesangue_api.swagger;

import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.info.Info;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class Swagger {

    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                .info(new Info()
                        .title(&quot;API Doe Sangue&quot;)
                        .version(&quot;v1&quot;)
                        .description(&quot;API para gerenciamento de doaÃ§Ãµes de sangue&quot;));
    }
}
</code></pre>
<h3 id="strong-anlise-da-configuraostrong"><strong>ğŸ”§ AnÃ¡lise da ConfiguraÃ§Ã£o:</strong></h3><h4 id="strongconfigurationstrong"><strong>@Configuration</strong></h4><ul>
<li><strong>O que faz:</strong> Marca a classe como configuraÃ§Ã£o Spring</li>
<li><strong>Resultado:</strong> Spring carrega automaticamente ao inicializar</li>
</ul>
<h4 id="strongbeanstrong"><strong>@Bean</strong></h4><ul>
<li><strong>O que faz:</strong> Registra o mÃ©todo como um bean Spring</li>
<li><strong>Resultado:</strong> OpenAPI fica disponÃ­vel para toda aplicaÃ§Ã£o</li>
</ul>
<h4 id="strongopenapiinfostrong"><strong>OpenAPI().info()</strong></h4><ul>
<li><strong>title:</strong> Nome da API exibido na documentaÃ§Ã£o</li>
<li><strong>version:</strong> VersÃ£o da API (importante para versionamento)</li>
<li><strong>description:</strong> DescriÃ§Ã£o detalhada da API</li>
</ul>
<hr>
<h2 id="-como-funciona">ğŸš€ Como Funciona</h2><h3 id="strong1-processo-de-inicializaostrong"><strong>1. Processo de InicializaÃ§Ã£o:</strong></h3><pre><code class="language-mermaid">graph TD
    A[Spring Boot Inicia] --&gt; B[Carrega @Configuration]
    B --&gt; C[Executa @Bean customOpenAPI]
    C --&gt; D[SpringDoc Escaneia Controllers]
    D --&gt; E[Gera DocumentaÃ§Ã£o OpenAPI]
    E --&gt; F[Disponibiliza Swagger UI]
</code></pre>
<h3 id="strong2-fluxo-de-documentao-automticastrong"><strong>2. Fluxo de DocumentaÃ§Ã£o AutomÃ¡tica:</strong></h3><ol>
<li><strong>Escaneamento:</strong> SpringDoc busca por classes anotadas com <code>@RestController</code></li>
<li><strong>AnÃ¡lise:</strong> Examina mÃ©todos com <code>@GetMapping</code>, <code>@PostMapping</code>, etc.</li>
<li><strong>ExtraÃ§Ã£o:</strong> Coleta informaÃ§Ãµes de parÃ¢metros, responses, DTOs</li>
<li><strong>GeraÃ§Ã£o:</strong> Cria especificaÃ§Ã£o OpenAPI 3.0 JSON/YAML</li>
<li><strong>Interface:</strong> Renderiza Swagger UI interativa</li>
</ol>
<h3 id="strong3-auto-deteco-de-endpointsstrong"><strong>3. Auto-DetecÃ§Ã£o de Endpoints:</strong></h3><pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/doadores&quot;)
public class DoadorController {
    
    @GetMapping
    public ResponseEntity&lt;List&lt;DoadorDTO&gt;&gt; listarDoadores() {
        // SpringDoc automaticamente detecta:
        // - URL: GET /api/doadores
        // - Response: List&lt;DoadorDTO&gt;
        // - Status: 200 OK
    }
    
    @PostMapping
    public ResponseEntity&lt;DoadorDTO&gt; criarDoador(@RequestBody DoadorDTO doador) {
        // SpringDoc automaticamente detecta:
        // - URL: POST /api/doadores
        // - Request Body: DoadorDTO
        // - Response: DoadorDTO
        // - Status: 201 CREATED
    }
}
</code></pre>
<hr>
<h2 id="-dependncias">ğŸ“¦ DependÃªncias</h2><h3 id="strongpomxml-dependncia-principalstrong"><strong>POM.XML - DependÃªncia Principal:</strong></h3><pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;
    &lt;version&gt;2.8.9&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="strong-o-que-esta-dependncia-incluistrong"><strong>ğŸ“‹ O que esta dependÃªncia inclui:</strong></h3><ul>
<li><strong>SpringDoc Core:</strong> GeraÃ§Ã£o automÃ¡tica da especificaÃ§Ã£o OpenAPI</li>
<li><strong>Swagger UI:</strong> Interface web interativa para testar APIs</li>
<li><strong>Integration:</strong> IntegraÃ§Ã£o nativa com Spring Boot 3.x</li>
<li><strong>WebMVC Support:</strong> Suporte completo para Spring Web MVC</li>
</ul>
<h3 id="strong-dependncias-relacionadasstrong"><strong>ğŸ”„ DependÃªncias Relacionadas:</strong></h3><pre><code class="language-xml">&lt;!-- Para APIs REST --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Para validaÃ§Ã£o automÃ¡tica --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Para HATEOAS (links na API) --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<hr>
<h2 id="-configuraes-avanadas-recomendadas">ğŸ”§ ConfiguraÃ§Ãµes AvanÃ§adas Recomendadas</h2><h3 id="strong1-configurao-completa-melhoradastrong"><strong>1. ConfiguraÃ§Ã£o Completa Melhorada:</strong></h3><pre><code class="language-java">package com.faculdade.doesangue_api.swagger;

import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.info.Contact;
import io.swagger.v3.oas.models.info.Info;
import io.swagger.v3.oas.models.info.License;
import io.swagger.v3.oas.models.security.SecurityRequirement;
import io.swagger.v3.oas.models.security.SecurityScheme;
import io.swagger.v3.oas.models.servers.Server;
import io.swagger.v3.oas.models.Components;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.List;

@Configuration
public class SwaggerConfig {

    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                // InformaÃ§Ãµes da API
                .info(new Info()
                        .title(&quot;API DoeSangue - Sistema de Gerenciamento de DoaÃ§Ãµes&quot;)
                        .version(&quot;v1.0&quot;)
                        .description(&quot;&quot;&quot;
                            API REST para gerenciamento completo de doaÃ§Ãµes de sangue.
                            
                            ## Funcionalidades Principais:
                            - ğŸ¥ GestÃ£o de Hemocentros e UsuÃ¡rios
                            - ğŸ©¸ Cadastro e GestÃ£o de Doadores  
                            - ğŸ“… Sistema de Agendamentos
                            - ğŸ¥ Triagem ClÃ­nica
                            - ğŸ’‰ Registro de DoaÃ§Ãµes
                            - ğŸ“¦ Controle de Estoque de Sangue
                            - ğŸ”” Sistema de NotificaÃ§Ãµes
                            - ğŸ“‹ Auditoria LGPD
                            
                            ## Arquitetura:
                            - Spring Boot 3.5.5
                            - JPA/Hibernate
                            - SQL Server
                            - Security + JWT
                            &quot;&quot;&quot;)
                        .contact(new Contact()
                                .name(&quot;Equipe DoeSangue&quot;)
                                .url(&quot;https://github.com/nisze/doesangue_backend&quot;))
                        .license(new License()
                                .name(&quot;MIT License&quot;)
                                .url(&quot;https://opensource.org/licenses/MIT&quot;)))
                
                // Servidores
                .servers(List.of(
                        new Server()
                                .url(&quot;http://localhost:8080&quot;)
                                .description(&quot;Ambiente de Desenvolvimento&quot;),
                        new Server()
                                .url(&quot;https://api.doesangue.com.br&quot;)
                                .description(&quot;Ambiente de ProduÃ§Ã£o&quot;)))
                
                // ConfiguraÃ§Ã£o de SeguranÃ§a JWT
                .components(new Components()
                        .addSecuritySchemes(&quot;bearerAuth&quot;, new SecurityScheme()
                                .type(SecurityScheme.Type.HTTP)
                                .scheme(&quot;bearer&quot;)
                                .bearerFormat(&quot;JWT&quot;)
                                .description(&quot;Token JWT para autenticaÃ§Ã£o&quot;)))
                
                // Aplicar seguranÃ§a globalmente
                .addSecurityItem(new SecurityRequirement()
                        .addList(&quot;bearerAuth&quot;));
    }
}
</code></pre>
<h3 id="strong2-configuraes-em-applicationpropertiesstrong"><strong>2. ConfiguraÃ§Ãµes em application.properties:</strong></h3><pre><code class="language-properties"># ConfiguraÃ§Ãµes SpringDoc/Swagger
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true

# Pacotes para escanear
springdoc.packages-to-scan=com.faculdade.doesangue_api.controllers

# Grupos de APIs
springdoc.group-configs[0].group=institucional
springdoc.group-configs[0].paths-to-match=/api/users/**, /api/hemocentros/**, /api/setores/**
springdoc.group-configs[1].group=doadores
springdoc.group-configs[1].paths-to-match=/api/doadores/**, /api/tipos-sanguineos/**, /api/doencas/**
springdoc.group-configs[2].group=processo-doacao
springdoc.group-configs[2].paths-to-match=/api/agendamentos/**, /api/triagens/**, /api/doacoes/**, /api/estoque/**
springdoc.group-configs[3].group=sistema
springdoc.group-configs[3].paths-to-match=/api/configs/**, /api/notificacoes/**, /api/audit/**
</code></pre>
<hr>
<h2 id="-exemplos-de-uso-em-controllers">ğŸ“– Exemplos de Uso em Controllers</h2><h3 id="strong1-controller-bsico-com-documentaostrong"><strong>1. Controller BÃ¡sico com DocumentaÃ§Ã£o:</strong></h3><pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/doadores&quot;)
@Tag(name = &quot;Doadores&quot;, description = &quot;APIs para gestÃ£o de doadores de sangue&quot;)
public class DoadorController {

    @Operation(
        summary = &quot;Listar todos os doadores&quot;,
        description = &quot;Retorna lista paginada de doadores com filtros opcionais&quot;,
        tags = {&quot;Doadores&quot;}
    )
    @ApiResponses(value = {
        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Lista de doadores retornada com sucesso&quot;,
                content = @Content(schema = @Schema(implementation = PageDoadorDTO.class))),
        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;ParÃ¢metros invÃ¡lidos&quot;),
        @ApiResponse(responseCode = &quot;401&quot;, description = &quot;NÃ£o autorizado&quot;),
        @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Acesso negado&quot;)
    })
    @GetMapping
    public ResponseEntity&lt;Page&lt;DoadorDTO&gt;&gt; listarDoadores(
            @Parameter(description = &quot;NÃºmero da pÃ¡gina (0-based)&quot;, example = &quot;0&quot;)
            @RequestParam(defaultValue = &quot;0&quot;) int page,
            
            @Parameter(description = &quot;Tamanho da pÃ¡gina&quot;, example = &quot;20&quot;)  
            @RequestParam(defaultValue = &quot;20&quot;) int size,
            
            @Parameter(description = &quot;Nome para filtro&quot;, example = &quot;JoÃ£o&quot;)
            @RequestParam(required = false) String nome,
            
            @Parameter(description = &quot;Tipo sanguÃ­neo para filtro&quot;, example = &quot;O+&quot;)
            @RequestParam(required = false) String tipoSanguineo) {
        
        // ImplementaÃ§Ã£o...
    }

    @Operation(
        summary = &quot;Criar novo doador&quot;,
        description = &quot;Cadastra um novo doador no sistema&quot;
    )
    @ApiResponses(value = {
        @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Doador criado com sucesso&quot;),
        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Dados invÃ¡lidos&quot;),
        @ApiResponse(responseCode = &quot;409&quot;, description = &quot;CPF jÃ¡ cadastrado&quot;)
    })
    @PostMapping
    public ResponseEntity&lt;DoadorDTO&gt; criarDoador(
            @io.swagger.v3.oas.annotations.parameters.RequestBody(
                description = &quot;Dados do doador a ser cadastrado&quot;,
                required = true,
                content = @Content(schema = @Schema(implementation = DoadorCreateDTO.class))
            )
            @Valid @RequestBody DoadorCreateDTO doadorDTO) {
        
        // ImplementaÃ§Ã£o...
    }
}
</code></pre>
<h3 id="strong2-dtos-documentadosstrong"><strong>2. DTOs Documentados:</strong></h3><pre><code class="language-java">@Schema(description = &quot;Dados do doador para exibiÃ§Ã£o&quot;)
public class DoadorDTO {
    
    @Schema(description = &quot;ID Ãºnico do doador&quot;, example = &quot;1&quot;, accessMode = Schema.AccessMode.READ_ONLY)
    private Long id;
    
    @Schema(description = &quot;Nome completo do doador&quot;, example = &quot;JoÃ£o Silva Santos&quot;, maxLength = 100)
    private String fullName;
    
    @Schema(description = &quot;CPF do doador&quot;, example = &quot;12345678901&quot;, pattern = &quot;\\d{11}&quot;)
    private String cpf;
    
    @Schema(description = &quot;Tipo sanguÃ­neo&quot;, example = &quot;O+&quot;, allowableValues = {&quot;A+&quot;, &quot;A-&quot;, &quot;B+&quot;, &quot;B-&quot;, &quot;AB+&quot;, &quot;AB-&quot;, &quot;O+&quot;, &quot;O-&quot;})
    private String tipoSanguineo;
    
    @Schema(description = &quot;Data de nascimento&quot;, example = &quot;1990-05-15&quot;)
    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)
    private LocalDate birthDate;
    
    @Schema(description = &quot;Se Ã© primeira doaÃ§Ã£o&quot;, example = &quot;false&quot;)
    private Boolean primeiraDoacao;
    
    // Getters/Setters...
}
</code></pre>
<hr>
<h2 id="-endpoints-de-acesso">ğŸŒ Endpoints de Acesso</h2><h3 id="strong-urls-principaisstrong"><strong>ğŸ“‹ URLs Principais:</strong></h3><table>
<thead>
<tr>
<th><strong>Endpoint</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
<th><strong>URL Completa</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Swagger UI</strong></td>
<td>Interface interativa</td>
<td><code>http://localhost:8080/swagger-ui.html</code></td>
</tr>
<tr>
<td><strong>API Docs JSON</strong></td>
<td>EspecificaÃ§Ã£o OpenAPI</td>
<td><code>http://localhost:8080/api-docs</code></td>
</tr>
<tr>
<td><strong>API Docs YAML</strong></td>
<td>EspecificaÃ§Ã£o OpenAPI</td>
<td><code>http://localhost:8080/api-docs.yaml</code></td>
</tr>
</tbody></table>
<h3 id="strong-grupos-de-apis-aps-configurao-avanadastrong"><strong>ğŸ”— Grupos de APIs (apÃ³s configuraÃ§Ã£o avanÃ§ada):</strong></h3><table>
<thead>
<tr>
<th><strong>Grupo</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
<th><strong>URL</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Institucional</strong></td>
<td>Users, Hemocentros, Setores</td>
<td><code>/swagger-ui.html?configUrl=/api-docs/swagger-config#/institucional</code></td>
</tr>
<tr>
<td><strong>Doadores</strong></td>
<td>Doadores, Tipos SanguÃ­neos</td>
<td><code>/swagger-ui.html?configUrl=/api-docs/swagger-config#/doadores</code></td>
</tr>
<tr>
<td><strong>Processo DoaÃ§Ã£o</strong></td>
<td>Agendamentos, Triagem, DoaÃ§Ãµes</td>
<td><code>/swagger-ui.html?configUrl=/api-docs/swagger-config#/processo-doacao</code></td>
</tr>
<tr>
<td><strong>Sistema</strong></td>
<td>ConfiguraÃ§Ãµes, NotificaÃ§Ãµes</td>
<td><code>/swagger-ui.html?configUrl=/api-docs/swagger-config#/sistema</code></td>
</tr>
</tbody></table>
<hr>
<h2 id="-interface-swagger-ui">ğŸ“± Interface Swagger UI</h2><h3 id="strong-funcionalidades-da-interfacestrong"><strong>ğŸ¯ Funcionalidades da Interface:</strong></h3><h4 id="strong1-navegaostrong"><strong>1. NavegaÃ§Ã£o:</strong></h4><ul>
<li><strong>Tags/Grupos:</strong> APIs organizadas por funcionalidade</li>
<li><strong>Filtro:</strong> Busca por endpoint especÃ­fico</li>
<li><strong>Expand/Collapse:</strong> VisualizaÃ§Ã£o controlada</li>
</ul>
<h4 id="strong2-teste-de-apisstrong"><strong>2. Teste de APIs:</strong></h4><ul>
<li><strong>Try it out:</strong> BotÃ£o para testar endpoints</li>
<li><strong>ParÃ¢metros:</strong> FormulÃ¡rio para inserir dados</li>
<li><strong>Execute:</strong> ExecuÃ§Ã£o real da API</li>
<li><strong>Response:</strong> VisualizaÃ§Ã£o de resposta e status</li>
</ul>
<h4 id="strong3-documentaostrong"><strong>3. DocumentaÃ§Ã£o:</strong></h4><ul>
<li><strong>Schemas:</strong> VisualizaÃ§Ã£o de DTOs</li>
<li><strong>Examples:</strong> Exemplos de request/response</li>
<li><strong>Security:</strong> InformaÃ§Ãµes de autenticaÃ§Ã£o</li>
</ul>
<h3 id="strong-autenticao-na-interfacestrong"><strong>ğŸ” AutenticaÃ§Ã£o na Interface:</strong></h3><pre><code class="language-javascript">// No Swagger UI, clicar em &quot;Authorize&quot;
// Inserir token JWT no formato:
Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJkb2VzYW5ndWUiLCJzdWIiOiJhZG1pbiIsImV4cCI6MTY5MzQxMjQwMH0...
</code></pre>
<hr>
<h2 id="-boas-prticas">ğŸ¯ Boas PrÃ¡ticas</h2><h3 id="strongspan-classbadge-successspan-documentao-de-apisstrong"><strong><span class="badge success">âœ…</span> DocumentaÃ§Ã£o de APIs:</strong></h3><ol>
<li><strong>Use @Operation:</strong> Descreva cada endpoint claramente</li>
<li><strong>Defina @ApiResponses:</strong> Documente todos os status codes possÃ­veis  </li>
<li><strong>Anote @Parameter:</strong> Explique cada parÃ¢metro</li>
<li><strong>Schemas Completos:</strong> Use @Schema em DTOs</li>
<li><strong>Exemplos Reais:</strong> ForneÃ§a exemplos prÃ¡ticos</li>
</ol>
<h3 id="strongspan-classbadge-successspan-organizaostrong"><strong><span class="badge success">âœ…</span> OrganizaÃ§Ã£o:</strong></h3><ol>
<li><strong>Tags Consistentes:</strong> Agrupe APIs logicamente</li>
<li><strong>Versionamento:</strong> Mantenha versÃµes claras</li>
<li><strong>Grupos Separados:</strong> Divida por domÃ­nio/funcionalidade</li>
<li><strong>Filtros:</strong> Configure filtros Ãºteis na interface</li>
</ol>
<h3 id="strongspan-classbadge-successspan-seguranastrong"><strong><span class="badge success">âœ…</span> SeguranÃ§a:</strong></h3><ol>
<li><strong>Documente AutenticaÃ§Ã£o:</strong> Explique como autenticar</li>
<li><strong>Schemas de Security:</strong> Configure JWT corretamente</li>
<li><strong>Ambiente EspecÃ­fico:</strong> URLs diferentes por ambiente</li>
<li><strong>Sensitive Data:</strong> NÃ£o exponha dados sensÃ­veis</li>
</ol>
<h3 id="strongspan-classbadge-successspan-performancestrong"><strong><span class="badge success">âœ…</span> Performance:</strong></h3><ol>
<li><strong>Lazy Loading:</strong> Configure carregamento inteligente</li>
<li><strong>Cache:</strong> Use cache para especificaÃ§Ã£o</li>
<li><strong>Filtros de Scan:</strong> Limite escaneamento a pacotes especÃ­ficos</li>
<li><strong>Grupos Pequenos:</strong> Divida APIs grandes</li>
</ol>
<hr>
<h2 id="-status-atual-vs-recomendado">ğŸš¦ Status Atual vs Recomendado</h2><h3 id="strongspan-classbadge-dangerspan-configurao-atual-bsicastrong"><strong><span class="badge danger">âŒ</span> ConfiguraÃ§Ã£o Atual (BÃ¡sica):</strong></h3><ul>
<li><span class="badge success">âœ…</span> Swagger UI funcional</li>
<li><span class="badge success">âœ…</span> InformaÃ§Ãµes bÃ¡sicas da API</li>
<li><span class="badge danger">âŒ</span> Sem documentaÃ§Ã£o de seguranÃ§a</li>
<li><span class="badge danger">âŒ</span> Sem grupos organizados</li>
<li><span class="badge danger">âŒ</span> Sem exemplos detalhados</li>
<li><span class="badge danger">âŒ</span> Sem configuraÃ§Ãµes avanÃ§adas</li>
</ul>
<h3 id="strongspan-classbadge-successspan-configurao-recomendadastrong"><strong><span class="badge success">âœ…</span> ConfiguraÃ§Ã£o Recomendada:</strong></h3><ul>
<li><span class="badge success">âœ…</span> DocumentaÃ§Ã£o completa</li>
<li><span class="badge success">âœ…</span> SeguranÃ§a JWT documentada</li>
<li><span class="badge success">âœ…</span> APIs organizadas em grupos</li>
<li><span class="badge success">âœ…</span> Exemplos prÃ¡ticos</li>
<li><span class="badge success">âœ…</span> MÃºltiplos ambientes</li>
<li><span class="badge success">âœ…</span> Schemas detalhados</li>
</ul>
<hr>
<h2 id="-prximos-passos">ğŸ¯ PrÃ³ximos Passos</h2><h3 id="strong1-imediatostrong"><strong>1. Imediato:</strong></h3><ul>
<li><input disabled="" type="checkbox"> Aplicar configuraÃ§Ã£o avanÃ§ada do Swagger</li>
<li><input disabled="" type="checkbox"> Adicionar documentaÃ§Ã£o de seguranÃ§a JWT</li>
<li><input disabled="" type="checkbox"> Configurar grupos de APIs</li>
</ul>
<h3 id="strong2-desenvolvimento-de-controllersstrong"><strong>2. Desenvolvimento de Controllers:</strong></h3><ul>
<li><input disabled="" type="checkbox"> Criar controllers REST para cada entidade</li>
<li><input disabled="" type="checkbox"> Adicionar anotaÃ§Ãµes de documentaÃ§Ã£o</li>
<li><input disabled="" type="checkbox"> Implementar DTOs com schemas</li>
</ul>
<h3 id="strong3-otimizaostrong"><strong>3. OtimizaÃ§Ã£o:</strong></h3><ul>
<li><input disabled="" type="checkbox"> Configurar cache de documentaÃ§Ã£o</li>
<li><input disabled="" type="checkbox"> Adicionar testes automatizados de APIs</li>
<li><input disabled="" type="checkbox"> Integrar com pipeline CI/CD</li>
</ul>
<hr>
<p><em>Esta documentaÃ§Ã£o fornece uma base sÃ³lida para implementaÃ§Ã£o e evoluÃ§Ã£o da documentaÃ§Ã£o API do sistema DoeSangue usando Swagger/OpenAPI.</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Resumo Executivo - ConfiguraÃ§Ã£o Swagger Implementada - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸš€ Resumo Executivo - ConfiguraÃ§Ã£o Swagger Implementada</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-resumo-executivo-configurao-swagger-implementada">ğŸš€ Resumo Executivo - ConfiguraÃ§Ã£o Swagger Implementada</h1><h2 id="span-classbadge-successspan-strongo-que-foi-implementadostrong"><span class="badge success">âœ…</span> <strong>O Que Foi Implementado:</strong></h2><h3 id="strong1-configurao-swagger-avanada-codeswaggerjavacodestrong"><strong>1. ConfiguraÃ§Ã£o Swagger AvanÃ§ada (<code>Swagger.java</code>)</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>DocumentaÃ§Ã£o Rica:</strong> TÃ­tulo, versÃ£o, descriÃ§Ã£o detalhada</li>
<li><span class="badge success">âœ…</span> <strong>MÃºltiplos Ambientes:</strong> URLs para desenvolvimento e produÃ§Ã£o  </li>
<li><span class="badge success">âœ…</span> <strong>SeguranÃ§a JWT:</strong> ConfiguraÃ§Ã£o completa para autenticaÃ§Ã£o</li>
<li><span class="badge success">âœ…</span> <strong>InformaÃ§Ãµes de Contato:</strong> Equipe, email, repositÃ³rio</li>
<li><span class="badge success">âœ…</span> <strong>LicenÃ§a:</strong> MIT License configurada</li>
</ul>
<h3 id="strong2-configuraes-avanadas-codeapplicationpropertiescodestrong"><strong>2. ConfiguraÃ§Ãµes AvanÃ§adas (<code>application.properties</code>)</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>URLs Customizadas:</strong> <code>/swagger-ui.html</code> e <code>/api-docs</code></li>
<li><span class="badge success">âœ…</span> <strong>Interface Otimizada:</strong> OrdenaÃ§Ã£o, filtros, persistÃªncia de auth</li>
<li><span class="badge success">âœ…</span> <strong>Grupos de APIs:</strong> 5 grupos organizados por funcionalidade</li>
<li><span class="badge success">âœ…</span> <strong>Performance:</strong> Cache habilitado para documentaÃ§Ã£o</li>
</ul>
<h3 id="strong3-controller-de-exemplo-codesystemcontrollerjavacodestrong"><strong>3. Controller de Exemplo (<code>SystemController.java</code>)</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>DemonstraÃ§Ã£o PrÃ¡tica:</strong> 4 endpoints documentados</li>
<li><span class="badge success">âœ…</span> <strong>AnotaÃ§Ãµes Completas:</strong> @Operation, @ApiResponses, @Parameter</li>
<li><span class="badge success">âœ…</span> <strong>Exemplos Reais:</strong> JSON examples e schemas</li>
<li><span class="badge success">âœ…</span> <strong>Diferentes Tipos:</strong> GET, POST, com/sem autenticaÃ§Ã£o</li>
</ul>
<h3 id="strong4-documentao-completa-codeswagger-documentacaomdcodestrong"><strong>4. DocumentaÃ§Ã£o Completa (<code>SWAGGER-DOCUMENTACAO.md</code>)</strong></h3><ul>
<li><span class="badge success">âœ…</span> <strong>Guia Completo:</strong> Como funciona, configuraÃ§Ãµes, exemplos</li>
<li><span class="badge success">âœ…</span> <strong>Boas PrÃ¡ticas:</strong> PadrÃµes para documentar APIs</li>
<li><span class="badge success">âœ…</span> <strong>Troubleshooting:</strong> SoluÃ§Ãµes para problemas comuns</li>
</ul>
<hr>
<h2 id="-strongcomo-funciona-o-swaggerstrong">ğŸ¯ <strong>Como Funciona o Swagger:</strong></h2><h3 id="strongprocesso-automticostrong"><strong>Processo AutomÃ¡tico:</strong></h3><pre><code class="language-mermaid">graph LR
    A[Spring Boot Inicia] --&gt; B[Carrega @Configuration]
    B --&gt; C[SpringDoc Escaneia Controllers]
    C --&gt; D[Gera OpenAPI Spec]
    D --&gt; E[Renderiza Swagger UI]
</code></pre>
<ol>
<li><strong>InicializaÃ§Ã£o:</strong> Spring Boot carrega a configuraÃ§Ã£o <code>Swagger.java</code></li>
<li><strong>Escaneamento:</strong> SpringDoc encontra classes <code>@RestController</code> </li>
<li><strong>AnÃ¡lise:</strong> Extrai anotaÃ§Ãµes <code>@GetMapping</code>, <code>@PostMapping</code>, etc.</li>
<li><strong>DocumentaÃ§Ã£o:</strong> Gera especificaÃ§Ã£o OpenAPI 3.0 automaticamente</li>
<li><strong>Interface:</strong> Disponibiliza Swagger UI em <code>/swagger-ui.html</code></li>
</ol>
<h3 id="strongdependncia-principalstrong"><strong>DependÃªncia Principal:</strong></h3><pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;
    &lt;version&gt;2.8.9&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<hr>
<h2 id="-strongacesso-documentaostrong">ğŸŒ <strong>Acesso Ã  DocumentaÃ§Ã£o:</strong></h2><h3 id="strongurls-principaisstrong"><strong>URLs Principais:</strong></h3><ul>
<li><strong>Swagger UI:</strong> <code>http://localhost:8080/swagger-ui.html</code></li>
<li><strong>OpenAPI JSON:</strong> <code>http://localhost:8080/api-docs</code></li>
<li><strong>Health Check:</strong> <code>http://localhost:8080/api/system/health</code></li>
</ul>
<h3 id="stronggrupos-organizadosstrong"><strong>Grupos Organizados:</strong></h3><ol>
<li><strong>ğŸ” AutenticaÃ§Ã£o</strong> - <code>/api/auth/**</code></li>
<li><strong>ğŸ¢ GestÃ£o Institucional</strong> - <code>/api/users/**</code>, <code>/api/hemocentros/**</code></li>
<li><strong>ğŸ©¸ GestÃ£o de Doadores</strong> - <code>/api/doadores/**</code>, <code>/api/tipos-sanguineos/**</code></li>
<li><strong>ğŸ“… Processo de DoaÃ§Ã£o</strong> - <code>/api/agendamentos/**</code>, <code>/api/triagens/**</code></li>
<li><strong>âš™ï¸ Sistema de Suporte</strong> - <code>/api/configs/**</code>, <code>/api/notificacoes/**</code></li>
</ol>
<hr>
<h2 id="-strongprincipais-vantagensstrong">ğŸ’¡ <strong>Principais Vantagens:</strong></h2><h3 id="strongpara-desenvolvedoresstrong"><strong>Para Desenvolvedores:</strong></h3><ul>
<li>ğŸ“– <strong>DocumentaÃ§Ã£o AutomÃ¡tica:</strong> Sempre sincronizada com o cÃ³digo</li>
<li>ğŸ§ª <strong>Testes Integrados:</strong> Interface para testar APIs diretamente</li>
<li>ğŸ“‹ <strong>ValidaÃ§Ã£o:</strong> Contratos de API validados automaticamente</li>
<li>ğŸ”„ <strong>Versionamento:</strong> Controle de versÃµes da API</li>
</ul>
<h3 id="strongpara-equipestrong"><strong>Para Equipe:</strong></h3><ul>
<li>ğŸ‘¥ <strong>ColaboraÃ§Ã£o:</strong> DocumentaÃ§Ã£o clara para todos</li>
<li>ğŸ¯ <strong>PadronizaÃ§Ã£o:</strong> Contratos de API bem definidos</li>
<li>ğŸš€ <strong>Produtividade:</strong> Reduz tempo de integraÃ§Ã£o</li>
<li>ğŸ“Š <strong>Monitoramento:</strong> Visibilidade de endpoints</li>
</ul>
<h3 id="strongpara-arquiteturastrong"><strong>Para Arquitetura:</strong></h3><ul>
<li>ğŸ—ï¸ <strong>Design First:</strong> DocumentaÃ§Ã£o guia o desenvolvimento</li>
<li>ğŸ”— <strong>IntegraÃ§Ã£o:</strong> Facilita comunicaÃ§Ã£o entre serviÃ§os</li>
<li>ğŸ“ˆ <strong>Escalabilidade:</strong> Base sÃ³lida para crescimento</li>
<li>ğŸ›¡ï¸ <strong>SeguranÃ§a:</strong> DocumentaÃ§Ã£o de autenticaÃ§Ã£o clara</li>
</ul>
<hr>
<h2 id="-strongdemonstrao-prticastrong">ğŸ‰ <strong>DemonstraÃ§Ã£o PrÃ¡tica:</strong></h2><h3 id="strong1-iniciar-o-sistemastrong"><strong>1. Iniciar o Sistema:</strong></h3><pre><code class="language-bash">cd doesangue_backend
./mvnw spring-boot:run
</code></pre>
<h3 id="strong2-acessar-interfacestrong"><strong>2. Acessar Interface:</strong></h3><pre><code>http://localhost:8080/swagger-ui.html
</code></pre>
<h3 id="strong3-testar-endpoint-pblicostrong"><strong>3. Testar Endpoint PÃºblico:</strong></h3><pre><code>GET /api/system/health
</code></pre>
<h3 id="strong4-testar-com-autenticaostrong"><strong>4. Testar com AutenticaÃ§Ã£o:</strong></h3><ol>
<li>Fazer login em <code>/api/auth/login</code> (quando implementado)</li>
<li>Copiar token JWT</li>
<li>Clicar &quot;Authorize&quot; no Swagger</li>
<li>Inserir: <code>Bearer &lt;token&gt;</code></li>
<li>Testar endpoints protegidos</li>
</ol>
<hr>
<h2 id="-strongprximos-passosstrong">ğŸ“ˆ <strong>PrÃ³ximos Passos:</strong></h2><h3 id="strongimediatostrong"><strong>Imediato:</strong></h3><ul>
<li><input disabled="" type="checkbox"> Implementar controller de autenticaÃ§Ã£o (<code>/api/auth</code>)</li>
<li><input disabled="" type="checkbox"> Criar controllers para entidades existentes</li>
<li><input disabled="" type="checkbox"> Adicionar DTOs com anotaÃ§Ãµes <code>@Schema</code></li>
</ul>
<h3 id="strongmdio-prazostrong"><strong>MÃ©dio Prazo:</strong></h3><ul>
<li><input disabled="" type="checkbox"> Implementar FASE 2 das entidades</li>
<li><input disabled="" type="checkbox"> Adicionar testes automatizados das APIs</li>
<li><input disabled="" type="checkbox"> Configurar profiles (dev/prod) especÃ­ficos</li>
</ul>
<h3 id="stronglongo-prazostrong"><strong>Longo Prazo:</strong></h3><ul>
<li><input disabled="" type="checkbox"> IntegraÃ§Ã£o com CI/CD</li>
<li><input disabled="" type="checkbox"> MÃ©tricas de uso da API</li>
<li><input disabled="" type="checkbox"> DocumentaÃ§Ã£o para consumidores externos</li>
</ul>
<hr>
<h2 id="-strongstatus-da-implementaostrong">ğŸ¯ <strong>Status da ImplementaÃ§Ã£o:</strong></h2><table>
<thead>
<tr>
<th><strong>Componente</strong></th>
<th><strong>Status</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td><span class="badge success">âœ…</span> <strong>ConfiguraÃ§Ã£o Base</strong></td>
<td>Completo</td>
<td>Swagger.java implementado</td>
</tr>
<tr>
<td><span class="badge success">âœ…</span> <strong>ConfiguraÃ§Ãµes AvanÃ§adas</strong></td>
<td>Completo</td>
<td>application.properties otimizado</td>
</tr>
<tr>
<td><span class="badge success">âœ…</span> <strong>Interface UI</strong></td>
<td>Funcional</td>
<td>Swagger UI disponÃ­vel</td>
</tr>
<tr>
<td><span class="badge success">âœ…</span> <strong>DocumentaÃ§Ã£o</strong></td>
<td>Completo</td>
<td>Guias e exemplos criados</td>
</tr>
<tr>
<td><span class="badge success">âœ…</span> <strong>Controller Exemplo</strong></td>
<td>Implementado</td>
<td>SystemController demonstrativo</td>
</tr>
<tr>
<td>ğŸ”„ <strong>Controllers Reais</strong></td>
<td>Pendente</td>
<td>Aguarda implementaÃ§Ã£o das APIs</td>
</tr>
<tr>
<td>ğŸ”„ <strong>DTOs Documentados</strong></td>
<td>Pendente</td>
<td>Aguarda criaÃ§Ã£o dos DTOs</td>
</tr>
<tr>
<td>ğŸ”„ <strong>AutenticaÃ§Ã£o</strong></td>
<td>Pendente</td>
<td>Aguarda implementaÃ§Ã£o JWT</td>
</tr>
</tbody></table>
<hr>
<p><strong>ğŸ“ ConclusÃ£o:</strong> A infraestrutura Swagger estÃ¡ completamente configurada e pronta para uso. Quando os controllers reais forem implementados, a documentaÃ§Ã£o serÃ¡ gerada automaticamente, proporcionando uma experiÃªncia de desenvolvimento superior e facilitando a integraÃ§Ã£o entre equipes.</p>
<p><strong>ğŸ¯ BenefÃ­cio Principal:</strong> DocumentaÃ§Ã£o viva que evolui com o cÃ³digo, eliminando a necessidade de manutenÃ§Ã£o manual de documentaÃ§Ã£o de APIs.</p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Tutorial Completo - JPA Specifications para Filtros DinÃ¢micos - DoeSangue Documentation</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 30px -20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.5em;
            color: #e74c3c;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 1.3em;
            color: #f39c12;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Code */
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #e74c3c;
            border: 1px solid #e9ecef;
        }
        
        pre {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background: none;
            color: #fff;
            border: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Links */
        a {
            color: #3498db;
            text-decoration: none;
            border-bottom: 1px dotted #3498db;
        }
        
        a:hover {
            color: #2980b9;
            border-bottom: 1px solid #2980b9;
        }
        
        /* Badges/Tags */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #3498db;
            color: white;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
        }
        
        .badge.success { background: #27ae60; }
        .badge.warning { background: #f39c12; }
        .badge.danger { background: #e74c3c; }
        .badge.info { background: #3498db; }
        
        /* Navigation */
        .nav {
            background: #2c3e50;
            padding: 15px 0;
            margin: -20px -20px 20px -20px;
            border-radius: 0 0 8px 8px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        .nav li {
            margin: 0 15px;
        }
        
        .nav a {
            color: #ecf0f1;
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            transition: background 0.3s;
        }
        
        .nav a:hover {
            background: #34495e;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .nav li {
                margin: 5px 0;
            }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ©¸ ğŸ” Tutorial Completo - JPA Specifications para Filtros DinÃ¢micos</h1>
            <div class="subtitle">Sistema DoeSangue - DocumentaÃ§Ã£o TÃ©cnica</div>
            <div class="meta">Gerado em 27/08/2025, 21:41:27 | VersÃ£o 1.0</div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                <li><a href="DOCUMENTACAO-ENTIDADES.html">ğŸ“Š Entidades</a></li>
                <li><a href="DOADOR-CONTROLLER-DOCUMENTACAO.html">ğŸ® Controller</a></li>
                <li><a href="SWAGGER-DOCUMENTACAO.html">ğŸ“– Swagger</a></li>
                <li><a href="ROADMAP-PROXIMOS-PASSOS.html">ğŸ—ºï¸ Roadmap</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <h1 id="-tutorial-completo-jpa-specifications-para-filtros-dinmicos">ğŸ” Tutorial Completo - JPA Specifications para Filtros DinÃ¢micos</h1><p><strong>Finalidade:</strong> Guia prÃ¡tico para implementar filtros dinÃ¢micos usando JPA Specifications<br><strong>Foco:</strong> ImplementaÃ§Ã£o do filtro <code>DoadorRequestFilterDTO</code> com Specifications<br><strong>Tecnologia:</strong> Spring Data JPA, Criteria API</p>
<h2 id="-links-rpidos-para-documentao-oficial">ğŸ”— Links RÃ¡pidos para DocumentaÃ§Ã£o Oficial</h2><table>
<thead>
<tr>
<th><strong>Recurso</strong></th>
<th><strong>Link</strong></th>
<th><strong>DescriÃ§Ã£o</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ“– <strong>JPA Specifications</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html">Spring Data JPA Specs</a></td>
<td>DocumentaÃ§Ã£o oficial completa</td>
</tr>
<tr>
<td>ğŸ”§ <strong>Criteria API</strong></td>
<td><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm">Oracle JPA Criteria</a></td>
<td>Tutorial oficial Oracle</td>
</tr>
<tr>
<td>ğŸš€ <strong>Spring Data JPA</strong></td>
<td><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/">Reference Guide</a></td>
<td>Guia completo Spring Data</td>
</tr>
<tr>
<td>ğŸ“Š <strong>Hibernate Docs</strong></td>
<td><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html">User Guide</a></td>
<td>DocumentaÃ§Ã£o Hibernate</td>
</tr>
<tr>
<td>ğŸ¯ <strong>Spring Boot</strong></td>
<td><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Reference Guide</a></td>
<td>Guia oficial Spring Boot</td>
</tr>
</tbody></table>
<p>ğŸ’¡ <strong>Mais links detalhados disponÃ­veis na <a href="#-documenta%C3%A7%C3%A3o-oficial-e-refer%C3%AAncias">seÃ§Ã£o de documentaÃ§Ã£o oficial</a> no final deste tutorial.</strong></p>
<hr>
<h2 id="-objetivo-deste-tutorial">ğŸ¯ Objetivo deste Tutorial</h2><p>Este tutorial ensina como implementar <strong>filtros dinÃ¢micos</strong> usando <strong>JPA Specifications</strong>, permitindo consultas flexÃ­veis e eficientes baseadas nos campos do <code>DoadorRequestFilterDTO</code>.</p>
<h3 id="strongspan-classbadge-successspan-o-que-voc-vai-aprenderstrong"><strong><span class="badge success">âœ…</span> O que vocÃª vai aprender:</strong></h3><ul>
<li>Configurar JPA Specifications no projeto</li>
<li>Criar Specifications customizadas para cada campo</li>
<li>Implementar Repository com filtros dinÃ¢micos</li>
<li>Usar no Controller com paginaÃ§Ã£o</li>
<li>Otimizar consultas com Criteria API</li>
</ul>
<hr>
<h2 id="-estrutura-da-implementao">ğŸ—ï¸ Estrutura da ImplementaÃ§Ã£o</h2><h3 id="strong-seu-dto-atualstrong"><strong>ğŸ“Š Seu DTO Atual:</strong></h3><pre><code class="language-java">public record DoadorRequestFilterDTO(
    String cpf,
    String fullName,
    String email,
    String telefonePrincipal,
    String tipoSanguineo,
    String cidade,
    String estado,
    String empresa,
    String pesoKg,
    String doadorHabitual
) {}
</code></pre>
<h3 id="strong-resultado-finalstrong"><strong>ğŸ¯ Resultado Final:</strong></h3><ul>
<li><span class="badge success">âœ…</span> Filtros opcionais (sÃ³ aplica se nÃ£o for null/vazio)</li>
<li><span class="badge success">âœ…</span> Busca parcial para texto (LIKE)</li>
<li><span class="badge success">âœ…</span> PaginaÃ§Ã£o integrada</li>
<li><span class="badge success">âœ…</span> Performance otimizada</li>
<li><span class="badge success">âœ…</span> Type safety completo</li>
</ul>
<hr>
<h2 id="-passo-1-configurao-do-repository">ğŸ“‹ Passo 1: ConfiguraÃ§Ã£o do Repository</h2><h3 id="strong-atualizar-doadorrepositorystrong"><strong>ğŸ”§ Atualizar DoadorRepository</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html">JpaSpecificationExecutor</a> | <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.core-concepts">JPA Repository</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.repository;

import com.faculdade.doesangue_api.entities.Doador;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.domain.Specification;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
import org.springframework.stereotype.Repository;

@Repository
public interface DoadorRepository extends 
    JpaRepository&lt;Doador, Long&gt;, 
    JpaSpecificationExecutor&lt;Doador&gt; {  // ğŸ‘ˆ Interface necessÃ¡ria para Specifications
    
    // MÃ©todos existentes permanecem...
    
    // MÃ©todo opcional para busca com Specification customizada
    default Page&lt;Doador&gt; findWithFilters(Specification&lt;Doador&gt; spec, Pageable pageable) {
        return findAll(spec, pageable);
    }
}
</code></pre>
<hr>
<h2 id="-passo-2-criar-a-classe-de-specifications">ğŸ“‹ Passo 2: Criar a Classe de Specifications</h2><h3 id="strong-doadorspecificationsjavastrong"><strong>ğŸ”¨ DoadorSpecifications.java</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html">Specifications</a> | <a href="https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html">Criteria Builder</a> | <a href="https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Predicate.html">Predicate</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.specifications;

import com.faculdade.doesangue_api.dto.doador.DoadorRequestFilterDTO;
import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.entities.TipoSanguineo;
import jakarta.persistence.criteria.Join;
import jakarta.persistence.criteria.JoinType;
import jakarta.persistence.criteria.Predicate;
import org.springframework.data.jpa.domain.Specification;
import org.springframework.util.StringUtils;

import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.List;

public class DoadorSpecifications {

    /**
     * ğŸ¯ MÃ©todo principal - ConstrÃ³i Specification baseada no FilterDTO
     */
    public static Specification&lt;Doador&gt; withFilters(DoadorRequestFilterDTO filters) {
        return (root, query, criteriaBuilder) -&gt; {
            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();

            // ğŸ“„ Filtro por CPF (busca exata)
            if (StringUtils.hasText(filters.cpf())) {
                predicates.add(
                    criteriaBuilder.equal(
                        root.get(&quot;cpf&quot;), 
                        filters.cpf().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;) // Remove formataÃ§Ã£o
                    )
                );
            }

            // ğŸ‘¤ Filtro por Nome (busca parcial - LIKE)
            if (StringUtils.hasText(filters.fullName())) {
                predicates.add(
                    criteriaBuilder.like(
                        criteriaBuilder.lower(root.get(&quot;fullName&quot;)),
                        &quot;%&quot; + filters.fullName().toLowerCase() + &quot;%&quot;
                    )
                );
            }

            // ğŸ“§ Filtro por Email (busca parcial)
            if (StringUtils.hasText(filters.email())) {
                predicates.add(
                    criteriaBuilder.like(
                        criteriaBuilder.lower(root.get(&quot;email&quot;)),
                        &quot;%&quot; + filters.email().toLowerCase() + &quot;%&quot;
                    )
                );
            }

            // ğŸ“ Filtro por Telefone (busca parcial)
            if (StringUtils.hasText(filters.telefonePrincipal())) {
                predicates.add(
                    criteriaBuilder.like(
                        root.get(&quot;telefonePrincipal&quot;),
                        &quot;%&quot; + filters.telefonePrincipal().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;) + &quot;%&quot;
                    )
                );
            }

            // ğŸ©¸ Filtro por Tipo SanguÃ­neo (JOIN com entidade relacionada)
            if (StringUtils.hasText(filters.tipoSanguineo())) {
                Join&lt;Doador, TipoSanguineo&gt; tipoSanguineoJoin = 
                    root.join(&quot;tipoSanguineo&quot;, JoinType.LEFT);
                
                predicates.add(
                    criteriaBuilder.like(
                        criteriaBuilder.lower(
                            criteriaBuilder.concat(
                                tipoSanguineoJoin.get(&quot;tipoAbo&quot;),
                                tipoSanguineoJoin.get(&quot;fatorRh&quot;)
                            )
                        ),
                        &quot;%&quot; + filters.tipoSanguineo().toLowerCase() + &quot;%&quot;
                    )
                );
            }

            // ğŸ™ï¸ Filtro por Cidade (busca parcial)
            if (StringUtils.hasText(filters.cidade())) {
                predicates.add(
                    criteriaBuilder.like(
                        criteriaBuilder.lower(root.get(&quot;cidade&quot;)),
                        &quot;%&quot; + filters.cidade().toLowerCase() + &quot;%&quot;
                    )
                );
            }

            // ğŸ—ºï¸ Filtro por Estado (busca exata)
            if (StringUtils.hasText(filters.estado())) {
                predicates.add(
                    criteriaBuilder.equal(
                        criteriaBuilder.upper(root.get(&quot;estado&quot;)),
                        filters.estado().toUpperCase()
                    )
                );
            }

            // ğŸ¢ Filtro por Empresa (busca parcial)
            if (StringUtils.hasText(filters.empresa())) {
                predicates.add(
                    criteriaBuilder.like(
                        criteriaBuilder.lower(root.get(&quot;empresa&quot;)),
                        &quot;%&quot; + filters.empresa().toLowerCase() + &quot;%&quot;
                    )
                );
            }

            // âš–ï¸ Filtro por Peso (range - maior ou igual)
            if (StringUtils.hasText(filters.pesoKg())) {
                try {
                    BigDecimal peso = new BigDecimal(filters.pesoKg());
                    predicates.add(
                        criteriaBuilder.greaterThanOrEqualTo(
                            root.get(&quot;pesoKg&quot;), 
                            peso
                        )
                    );
                } catch (NumberFormatException e) {
                    // Ignora se nÃ£o for um nÃºmero vÃ¡lido
                }
            }

            // ğŸ”„ Filtro por Doador Habitual (boolean)
            if (StringUtils.hasText(filters.doadorHabitual())) {
                Boolean isHabitual = Boolean.parseBoolean(filters.doadorHabitual());
                predicates.add(
                    criteriaBuilder.equal(
                        root.get(&quot;doadorHabitual&quot;), 
                        isHabitual
                    )
                );
            }

            // ğŸš« Sempre excluir registros deletados (soft delete)
            predicates.add(
                criteriaBuilder.isNull(root.get(&quot;deletedAt&quot;))
            );

            // &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Combina todos os predicates com AND
            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));
        };
    }

    /**
     * ğŸ” Specifications individuais para casos especÃ­ficos
     */
    
    public static Specification&lt;Doador&gt; hasCpf(String cpf) {
        return (root, query, criteriaBuilder) -&gt; 
            StringUtils.hasText(cpf) 
                ? criteriaBuilder.equal(root.get(&quot;cpf&quot;), cpf.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;))
                : criteriaBuilder.conjunction();
    }

    public static Specification&lt;Doador&gt; hasNameLike(String name) {
        return (root, query, criteriaBuilder) -&gt; 
            StringUtils.hasText(name)
                ? criteriaBuilder.like(
                    criteriaBuilder.lower(root.get(&quot;fullName&quot;)),
                    &quot;%&quot; + name.toLowerCase() + &quot;%&quot;
                )
                : criteriaBuilder.conjunction();
    }

    public static Specification&lt;Doador&gt; hasEmailLike(String email) {
        return (root, query, criteriaBuilder) -&gt; 
            StringUtils.hasText(email)
                ? criteriaBuilder.like(
                    criteriaBuilder.lower(root.get(&quot;email&quot;)),
                    &quot;%&quot; + email.toLowerCase() + &quot;%&quot;
                )
                : criteriaBuilder.conjunction();
    }

    public static Specification&lt;Doador&gt; isActive() {
        return (root, query, criteriaBuilder) -&gt; 
            criteriaBuilder.isNull(root.get(&quot;deletedAt&quot;));
    }

    public static Specification&lt;Doador&gt; inCity(String cidade) {
        return (root, query, criteriaBuilder) -&gt; 
            StringUtils.hasText(cidade)
                ? criteriaBuilder.like(
                    criteriaBuilder.lower(root.get(&quot;cidade&quot;)),
                    &quot;%&quot; + cidade.toLowerCase() + &quot;%&quot;
                )
                : criteriaBuilder.conjunction();
    }

    public static Specification&lt;Doador&gt; inState(String estado) {
        return (root, query, criteriaBuilder) -&gt; 
            StringUtils.hasText(estado)
                ? criteriaBuilder.equal(
                    criteriaBuilder.upper(root.get(&quot;estado&quot;)),
                    estado.toUpperCase()
                )
                : criteriaBuilder.conjunction();
    }
}
</code></pre>
<hr>
<h2 id="-passo-3-atualizar-o-service">ğŸ“‹ Passo 3: Atualizar o Service</h2><h3 id="strong-doadorservicejavastrong"><strong>ğŸ”§ DoadorService.java</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction">Spring Transactions</a> | <a href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html">Page and Pageable</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.service;

import com.faculdade.doesangue_api.dto.doador.DoadorRequestFilterDTO;
import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.repository.DoadorRepository;
import com.faculdade.doesangue_api.specifications.DoadorSpecifications;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.domain.Specification;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

@Service
@Transactional(readOnly = true)
public class DoadorService {

    private final DoadorRepository doadorRepository;

    public DoadorService(DoadorRepository doadorRepository) {
        this.doadorRepository = doadorRepository;
    }

    /**
     * ğŸ” Busca com filtros dinÃ¢micos usando Specifications
     * 
     * @param filters - DTO com filtros opcionais
     * @param pageable - ConfiguraÃ§Ã£o de paginaÃ§Ã£o
     * @return Page&lt;Doador&gt; - Resultados paginados
     */
    public Page&lt;Doador&gt; buscarComFiltros(DoadorRequestFilterDTO filters, Pageable pageable) {
        Specification&lt;Doador&gt; spec = DoadorSpecifications.withFilters(filters);
        return doadorRepository.findAll(spec, pageable);
    }

    /**
     * ğŸ¯ Busca usando Specifications compostas (exemplo avanÃ§ado)
     */
    public Page&lt;Doador&gt; buscarDoadoresAtivosNaCidade(String cidade, Pageable pageable) {
        Specification&lt;Doador&gt; spec = Specification
            .where(DoadorSpecifications.isActive())
            .and(DoadorSpecifications.inCity(cidade));
            
        return doadorRepository.findAll(spec, pageable);
    }

    /**
     * ğŸ“Š Exemplo de combinaÃ§Ã£o de Specifications
     */
    public Page&lt;Doador&gt; buscarDoadoresComCriterios(
            String nome, 
            String cidade, 
            String estado, 
            Pageable pageable) {
        
        Specification&lt;Doador&gt; spec = Specification
            .where(DoadorSpecifications.isActive())
            .and(DoadorSpecifications.hasNameLike(nome))
            .and(DoadorSpecifications.inCity(cidade))
            .and(DoadorSpecifications.inState(estado));
            
        return doadorRepository.findAll(spec, pageable);
    }

    // Outros mÃ©todos existentes...
}
</code></pre>
<hr>
<h2 id="-passo-4-atualizar-o-controller">ğŸ“‹ Passo 4: Atualizar o Controller</h2><h3 id="strong-doadorcontrollerjavastrong"><strong>ğŸ® DoadorController.java</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc">Spring Web MVC</a> | <a href="https://springdoc.org/#migrating-from-springfox">OpenAPI Annotations</a> | <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation-beanvalidation">Bean Validation</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.controller;

import com.faculdade.doesangue_api.dto.doador.DoadorRequestFilterDTO;
import com.faculdade.doesangue_api.dto.doador.DoadorDTO;
import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.service.DoadorService;
import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.Parameter;
import io.swagger.v3.oas.annotations.responses.ApiResponse;
import io.swagger.v3.oas.annotations.responses.ApiResponses;
import io.swagger.v3.oas.annotations.tags.Tag;
import jakarta.validation.constraints.Max;
import jakarta.validation.constraints.Min;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.domain.Pageable;
import org.springframework.data.domain.Sort;
import org.springframework.http.ResponseEntity;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping(&quot;/api/doadores&quot;)
@Tag(name = &quot;Doadores&quot;, description = &quot;API para gerenciamento de doadores de sangue&quot;)
@Validated
public class DoadorController {

    private final DoadorService doadorService;
    private final DoadorMapper doadorMapper;

    public DoadorController(DoadorService doadorService, DoadorMapper doadorMapper) {
        this.doadorService = doadorService;
        this.doadorMapper = doadorMapper;
    }

    /**
     * ğŸ” Endpoint principal com filtros dinÃ¢micos
     */
    @GetMapping
    @Operation(
        summary = &quot;ğŸ” Listar doadores com filtros dinÃ¢micos&quot;,
        description = &quot;&quot;&quot;
            Lista doadores com filtros opcionais usando JPA Specifications.
            
            **Funcionalidades:**
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Todos os filtros sÃ£o opcionais
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Busca parcial para texto (nome, email, cidade)
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Busca exata para CPF e estado
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Filtro por peso mÃ­nimo
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; PaginaÃ§Ã£o e ordenaÃ§Ã£o
            - &lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Performance otimizada
            
            **Exemplos de uso:**
            - `GET /api/doadores?fullName=JoÃ£o&amp;cidade=SÃ£o Paulo&amp;page=0&amp;size=10`
            - `GET /api/doadores?tipoSanguineo=O+&amp;doadorHabitual=true`
            - `GET /api/doadores?estado=SP&amp;pesoKg=60&amp;sort=fullName,asc`
            &quot;&quot;&quot;
    )
    @ApiResponses({
        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;&lt;span class=&quot;badge success&quot;&gt;âœ…&lt;/span&gt; Lista retornada com sucesso&quot;),
        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;&lt;span class=&quot;badge danger&quot;&gt;âŒ&lt;/span&gt; ParÃ¢metros invÃ¡lidos&quot;)
    })
    public ResponseEntity&lt;Page&lt;DoadorDTO&gt;&gt; listarComFiltros(
            
            @Parameter(description = &quot;CPF para busca exata (apenas nÃºmeros)&quot;)
            @RequestParam(required = false) String cpf,
            
            @Parameter(description = &quot;Nome completo para busca parcial&quot;)
            @RequestParam(required = false) String fullName,
            
            @Parameter(description = &quot;Email para busca parcial&quot;)
            @RequestParam(required = false) String email,
            
            @Parameter(description = &quot;Telefone para busca parcial&quot;)
            @RequestParam(required = false) String telefonePrincipal,
            
            @Parameter(description = &quot;Tipo sanguÃ­neo (ex: O+, A-, AB+)&quot;)
            @RequestParam(required = false) String tipoSanguineo,
            
            @Parameter(description = &quot;Cidade para busca parcial&quot;)
            @RequestParam(required = false) String cidade,
            
            @Parameter(description = &quot;Estado (UF - 2 caracteres)&quot;)
            @RequestParam(required = false) String estado,
            
            @Parameter(description = &quot;Empresa para busca parcial&quot;)
            @RequestParam(required = false) String empresa,
            
            @Parameter(description = &quot;Peso mÃ­nimo em kg&quot;)
            @RequestParam(required = false) String pesoKg,
            
            @Parameter(description = &quot;Filtrar doadores habituais (true/false)&quot;)
            @RequestParam(required = false) String doadorHabitual,
            
            @Parameter(description = &quot;NÃºmero da pÃ¡gina (0-based)&quot;)
            @RequestParam(defaultValue = &quot;0&quot;) @Min(0) int page,
            
            @Parameter(description = &quot;Tamanho da pÃ¡gina&quot;)
            @RequestParam(defaultValue = &quot;20&quot;) @Min(1) @Max(100) int size,
            
            @Parameter(description = &quot;Campo para ordenaÃ§Ã£o&quot;)
            @RequestParam(defaultValue = &quot;fullName&quot;) String sort,
            
            @Parameter(description = &quot;DireÃ§Ã£o da ordenaÃ§Ã£o (asc/desc)&quot;)
            @RequestParam(defaultValue = &quot;asc&quot;) String direction
    ) {
        
        // ğŸ“Š Criar DTO de filtros
        DoadorRequestFilterDTO filters = new DoadorRequestFilterDTO(
            cpf, fullName, email, telefonePrincipal, tipoSanguineo,
            cidade, estado, empresa, pesoKg, doadorHabitual
        );
        
        // ğŸ“„ Configurar paginaÃ§Ã£o e ordenaÃ§Ã£o
        Sort.Direction sortDirection = &quot;desc&quot;.equalsIgnoreCase(direction) 
            ? Sort.Direction.DESC 
            : Sort.Direction.ASC;
        
        Pageable pageable = PageRequest.of(page, size, Sort.by(sortDirection, sort));
        
        // ğŸ” Executar busca com filtros
        Page&lt;Doador&gt; doadoresPage = doadorService.buscarComFiltros(filters, pageable);
        
        // ğŸ”„ Converter para DTO
        Page&lt;DoadorDTO&gt; doadoresDTO = doadoresPage.map(doadorMapper::toDTO);
        
        return ResponseEntity.ok(doadoresDTO);
    }

    /**
     * ğŸ¯ Endpoint especÃ­fico para busca por cidade (exemplo simples)
     */
    @GetMapping(&quot;/por-cidade/{cidade}&quot;)
    @Operation(summary = &quot;Buscar doadores ativos por cidade&quot;)
    public ResponseEntity&lt;Page&lt;DoadorDTO&gt;&gt; buscarPorCidade(
            @PathVariable String cidade,
            Pageable pageable) {
        
        Page&lt;Doador&gt; doadores = doadorService.buscarDoadoresAtivosNaCidade(cidade, pageable);
        Page&lt;DoadorDTO&gt; doadoresDTO = doadores.map(doadorMapper::toDTO);
        
        return ResponseEntity.ok(doadoresDTO);
    }

    // Outros endpoints existentes...
}
</code></pre>
<hr>
<h2 id="-passo-5-testes-e-validao">ğŸ“‹ Passo 5: Testes e ValidaÃ§Ã£o</h2><h3 id="strong-exemplo-de-teste-unitriostrong"><strong>ğŸ§ª Exemplo de Teste UnitÃ¡rio</strong></h3><blockquote>
<p>ğŸ“– <strong>DocumentaÃ§Ã£o:</strong> <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/testing.html">Spring Boot Testing</a> | <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/test-auto-configuration.html#test-auto-configuration-data-jpa">@DataJpaTest</a> | <a href="https://assertj.github.io/doc/">AssertJ</a></p>
</blockquote>
<pre><code class="language-java">package com.faculdade.doesangue_api.specifications;

import com.faculdade.doesangue_api.dto.doador.DoadorRequestFilterDTO;
import com.faculdade.doesangue_api.entities.Doador;
import com.faculdade.doesangue_api.repository.DoadorRepository;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.jpa.domain.Specification;

import static org.assertj.core.api.Assertions.assertThat;

@DataJpaTest
class DoadorSpecificationsTest {

    @Autowired
    private DoadorRepository doadorRepository;

    @Test
    void deveFilterarPorNome() {
        // Given
        DoadorRequestFilterDTO filters = new DoadorRequestFilterDTO(
            null, &quot;JoÃ£o&quot;, null, null, null, null, null, null, null, null
        );
        
        // When
        Specification&lt;Doador&gt; spec = DoadorSpecifications.withFilters(filters);
        Page&lt;Doador&gt; resultado = doadorRepository.findAll(spec, PageRequest.of(0, 10));
        
        // Then
        assertThat(resultado.getContent())
            .allMatch(doador -&gt; doador.getFullName().toLowerCase().contains(&quot;joÃ£o&quot;));
    }

    @Test
    void deveFilterarPorCidadeEEstado() {
        // Given
        DoadorRequestFilterDTO filters = new DoadorRequestFilterDTO(
            null, null, null, null, null, &quot;SÃ£o Paulo&quot;, &quot;SP&quot;, null, null, null
        );
        
        // When
        Specification&lt;Doador&gt; spec = DoadorSpecifications.withFilters(filters);
        Page&lt;Doador&gt; resultado = doadorRepository.findAll(spec, PageRequest.of(0, 10));
        
        // Then
        assertThat(resultado.getContent())
            .allMatch(doador -&gt; 
                doador.getCidade().toLowerCase().contains(&quot;sÃ£o paulo&quot;) &amp;&amp;
                doador.getEstado().equals(&quot;SP&quot;)
            );
    }
}
</code></pre>
<hr>
<h2 id="-uso-prtico-exemplos-de-requisies">ğŸš€ Uso PrÃ¡tico - Exemplos de RequisiÃ§Ãµes</h2><h3 id="strong-exemplos-de-chamadas-da-apistrong"><strong>ğŸ“± Exemplos de Chamadas da API</strong></h3><pre><code class="language-bash"># 1. Buscar todos os doadores (sem filtros)
GET /api/doadores?page=0&amp;size=20

# 2. Buscar por nome
GET /api/doadores?fullName=JoÃ£o Silva&amp;page=0&amp;size=10

# 3. Buscar por cidade e estado
GET /api/doadores?cidade=SÃ£o Paulo&amp;estado=SP

# 4. Buscar doadores habituais tipo O+
GET /api/doadores?tipoSanguineo=O+&amp;doadorHabitual=true

# 5. Buscar por peso mÃ­nimo e ordenar por nome
GET /api/doadores?pesoKg=60&amp;sort=fullName&amp;direction=asc

# 6. Filtro complexo com mÃºltiplos campos
GET /api/doadores?fullName=Maria&amp;cidade=Rio&amp;estado=RJ&amp;empresa=Hospital&amp;page=0&amp;size=5

# 7. Buscar por CPF especÃ­fico
GET /api/doadores?cpf=12345678901

# 8. Buscar por email parcial
GET /api/doadores?email=gmail.com
</code></pre>
<hr>
<h2 id="-dicas-e-boas-prticas">ğŸ’¡ Dicas e Boas PrÃ¡ticas</h2><h3 id="strongspan-classbadge-successspan-performancestrong"><strong><span class="badge success">âœ…</span> Performance:</strong></h3><ul>
<li>Use <code>LEFT JOIN</code> para relacionamentos opcionais</li>
<li>Evite <code>EAGER</code> loading desnecessÃ¡rio</li>
<li>Considere Ã­ndices para campos filtrados frequentemente</li>
</ul>
<h3 id="strongspan-classbadge-successspan-seguranastrong"><strong><span class="badge success">âœ…</span> SeguranÃ§a:</strong></h3><ul>
<li>Sempre valide entrada de dados</li>
<li>Use <code>StringUtils.hasText()</code> para verificar strings</li>
<li>Limite tamanho da pÃ¡gina (mÃ¡ximo 100)</li>
</ul>
<h3 id="strongspan-classbadge-successspan-flexibilidadestrong"><strong><span class="badge success">âœ…</span> Flexibilidade:</strong></h3><ul>
<li>Specifications sÃ£o composÃ¡veis</li>
<li>Pode combinar com outros mÃ©todos do repository</li>
<li>ReutilizÃ¡vel em diferentes contextos</li>
</ul>
<h3 id="strongspan-classbadge-successspan-manutenibilidadestrong"><strong><span class="badge success">âœ…</span> Manutenibilidade:</strong></h3><ul>
<li>Separe Specifications por entidade</li>
<li>Use nomes descritivos para mÃ©todos</li>
<li>Documente comportamento de cada filtro</li>
</ul>
<hr>
<h2 id="-configuraes-opcionais">ğŸ”§ ConfiguraÃ§Ãµes Opcionais</h2><h3 id="strong-custom-repository-avanadostrong"><strong>ğŸ“Š Custom Repository (AvanÃ§ado)</strong></h3><pre><code class="language-java">@Repository
public interface DoadorRepository extends 
    JpaRepository&lt;Doador, Long&gt;, 
    JpaSpecificationExecutor&lt;Doador&gt;,
    DoadorRepositoryCustom {
}

interface DoadorRepositoryCustom {
    Page&lt;DoadorProjection&gt; findDoadoresProjection(
        DoadorRequestFilterDTO filters, 
        Pageable pageable
    );
}

@Component
class DoadorRepositoryImpl implements DoadorRepositoryCustom {
    
    @PersistenceContext
    private EntityManager entityManager;
    
    @Override
    public Page&lt;DoadorProjection&gt; findDoadoresProjection(
            DoadorRequestFilterDTO filters, 
            Pageable pageable) {
        
        CriteriaBuilder cb = entityManager.getCriteriaBuilder();
        CriteriaQuery&lt;DoadorProjection&gt; query = cb.createQuery(DoadorProjection.class);
        Root&lt;Doador&gt; root = query.from(Doador.class);
        
        // ProjeÃ§Ã£o customizada para melhor performance
        query.select(cb.construct(
            DoadorProjection.class,
            root.get(&quot;id&quot;),
            root.get(&quot;fullName&quot;),
            root.get(&quot;email&quot;),
            root.get(&quot;cidade&quot;)
        ));
        
        // Aplicar filtros usando Specifications
        Specification&lt;Doador&gt; spec = DoadorSpecifications.withFilters(filters);
        Predicate predicate = spec.toPredicate(root, query, cb);
        query.where(predicate);
        
        // Executar query...
        return new PageImpl&lt;&gt;(results, pageable, total);
    }
}
</code></pre>
<hr>
<h2 id="-documentao-oficial-e-referncias">ğŸ“š DocumentaÃ§Ã£o Oficial e ReferÃªncias</h2><h3 id="strong-spring-data-jpa-documentao-principalstrong"><strong>ğŸŒŸ Spring Data JPA - DocumentaÃ§Ã£o Principal</strong></h3><h4 id="strong-jpa-specificationsstrong"><strong>ğŸ“– JPA Specifications:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html">Spring Data JPA Specifications</a></strong> - Guia oficial completo</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html#specifications.predicate">JPA Criteria API</a></strong> - ConstruÃ§Ã£o de predicados</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html#specifications.composing">Type-safe Query Methods</a></strong> - ComposiÃ§Ã£o de Specifications</li>
</ul>
<h4 id="strong-spring-data-jpa-geralstrong"><strong>ğŸ“– Spring Data JPA - Geral:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/">Spring Data JPA Reference</a></strong> - DocumentaÃ§Ã£o completa</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods">Query Methods</a></strong> - MÃ©todos de consulta</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters">Paging and Sorting</a></strong> - PaginaÃ§Ã£o e ordenaÃ§Ã£o</li>
<li><strong><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations">Custom Implementations</a></strong> - ImplementaÃ§Ãµes customizadas</li>
</ul>
<h3 id="strong-jpa-e-hibernate-documentao-corestrong"><strong>ğŸ”§ JPA e Hibernate - DocumentaÃ§Ã£o Core</strong></h3><h4 id="strong-jpa-criteria-apistrong"><strong>ğŸ“– JPA Criteria API:</strong></h4><ul>
<li><strong><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm">Oracle JPA Tutorial - Criteria API</a></strong> - Tutorial oficial Oracle</li>
<li><strong><a href="https://jakarta.ee/specifications/persistence/3.1/">JPA 3.1 Specification</a></strong> - EspecificaÃ§Ã£o oficial JPA</li>
<li><strong><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-criteria002.htm">Criteria API - Building Queries</a></strong> - ConstruÃ§Ã£o de queries</li>
</ul>
<h4 id="strong-hibernate-documentationstrong"><strong>ğŸ“– Hibernate Documentation:</strong></h4><ul>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html">Hibernate User Guide</a></strong> - Guia completo do Hibernate</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#criteria">Criteria Queries</a></strong> - Hibernate Criteria</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#query-by-example">Query by Example</a></strong> - QBE com Hibernate</li>
</ul>
<h3 id="strong-spring-framework-basestrong"><strong>ğŸš€ Spring Framework - Base</strong></h3><h4 id="strong-spring-framework-corestrong"><strong>ğŸ“– Spring Framework Core:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/">Spring Framework Reference</a></strong> - DocumentaÃ§Ã£o completa</li>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc">Data Access with JDBC</a></strong> - Acesso a dados</li>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction">Transaction Management</a></strong> - Gerenciamento de transaÃ§Ãµes</li>
</ul>
<h4 id="strong-spring-bootstrong"><strong>ğŸ“– Spring Boot:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference Guide</a></strong> - Guia oficial Spring Boot</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data">Spring Boot Data JPA</a></strong> - ConfiguraÃ§Ã£o JPA</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/auto-configuration.html">Auto-configuration</a></strong> - ConfiguraÃ§Ã£o automÃ¡tica</li>
</ul>
<h3 id="strong-validao-e-dtosstrong"><strong>ğŸ“Š ValidaÃ§Ã£o e DTOs</strong></h3><h4 id="strong-bean-validationstrong"><strong>ğŸ“– Bean Validation:</strong></h4><ul>
<li><strong><a href="https://jakarta.ee/specifications/bean-validation/3.0/">Jakarta Bean Validation</a></strong> - EspecificaÃ§Ã£o oficial</li>
<li><strong><a href="https://docs.jboss.org/hibernate/validator/7.0/reference/en-US/html_single/">Hibernate Validator</a></strong> - ImplementaÃ§Ã£o de referÃªncia</li>
<li><strong><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation">Spring Validation</a></strong> - ValidaÃ§Ã£o no Spring</li>
</ul>
<h4 id="strong-java-records-java-14strong"><strong>ğŸ“– Java Records (Java 14+):</strong></h4><ul>
<li><strong><a href="https://docs.oracle.com/en/java/javase/17/language/records.html">Oracle Java Records</a></strong> - DocumentaÃ§Ã£o oficial</li>
<li><strong><a href="https://openjdk.org/jeps/395">JEP 395: Records</a></strong> - Proposta de especificaÃ§Ã£o</li>
<li><strong><a href="https://docs.oracle.com/en/java/javase/19/language/pattern-matching-switch-expressions-and-statements.html">Java Record Patterns</a></strong> - Pattern matching</li>
</ul>
<h3 id="strong-testing-e-qualidadestrong"><strong>ğŸ¯ Testing e Qualidade</strong></h3><h4 id="strong-spring-boot-testingstrong"><strong>ğŸ“– Spring Boot Testing:</strong></h4><ul>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/testing.html">Testing in Spring Boot</a></strong> - Testes no Spring Boot</li>
<li><strong><a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html">@DataJpaTest</a></strong> - Testes de JPA</li>
<li><strong><a href="https://www.testcontainers.org/modules/databases/">TestContainers</a></strong> - Testes com containers</li>
</ul>
<h4 id="strong-frameworks-de-testestrong"><strong>ğŸ“– Frameworks de Teste:</strong></h4><ul>
<li><strong><a href="https://junit.org/junit5/docs/current/user-guide/">JUnit 5 User Guide</a></strong> - Framework de testes</li>
<li><strong><a href="https://assertj.github.io/doc/">AssertJ</a></strong> - Assertions fluentes</li>
<li><strong><a href="https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html">Mockito</a></strong> - Framework de mocks</li>
</ul>
<h3 id="strong-performance-e-otimizaostrong"><strong>ğŸ“– Performance e OtimizaÃ§Ã£o</strong></h3><h4 id="strong-jpa-performancestrong"><strong>ğŸ“– JPA Performance:</strong></h4><ul>
<li><strong><a href="https://vladmihalcea.com/jpa-hibernate-performance-tuning/">JPA Performance Tips</a></strong> - Blog Vlad Mihalcea</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#fetching-strategies">N+1 Query Problem</a></strong> - EstratÃ©gias de fetch</li>
<li><strong><a href="https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#caching">Second Level Cache</a></strong> - Cache de segundo nÃ­vel</li>
</ul>
<h4 id="strong-database-optimizationstrong"><strong>ğŸ“– Database Optimization:</strong></h4><ul>
<li><strong><a href="https://docs.microsoft.com/en-us/sql/relational-databases/performance/performance-monitoring-and-tuning-tools">SQL Server Performance</a></strong> - OtimizaÃ§Ã£o SQL Server</li>
<li><strong><a href="https://docs.microsoft.com/en-us/sql/relational-databases/indexes/indexes">Index Tuning</a></strong> - EstratÃ©gias de Ã­ndices</li>
<li><strong><a href="https://docs.microsoft.com/en-us/sql/relational-databases/performance/execution-plans">Query Execution Plans</a></strong> - Planos de execuÃ§Ã£o</li>
</ul>
<h3 id="strong-ferramentas-e-idesstrong"><strong>ğŸ”§ Ferramentas e IDEs</strong></h3><h4 id="strong-development-toolsstrong"><strong>ğŸ“– Development Tools:</strong></h4><ul>
<li><strong><a href="https://www.jetbrains.com/help/idea/jpa-facet.html">IntelliJ IDEA - JPA Support</a></strong> - Suporte JPA no IntelliJ</li>
<li><strong><a href="https://www.eclipse.org/webtools/dali/">Eclipse - Dali JPA Tools</a></strong> - Ferramentas JPA no Eclipse</li>
<li><strong><a href="https://spring.io/tools">Spring Tools Suite</a></strong> - IDE especializada Spring</li>
</ul>
<h4 id="strong-database-toolsstrong"><strong>ğŸ“– Database Tools:</strong></h4><ul>
<li><strong><a href="https://docs.microsoft.com/en-us/sql/ssms/">SQL Server Management Studio</a></strong> - SSMS oficial</li>
<li><strong><a href="https://dbeaver.io/docs/">DBeaver</a></strong> - Cliente universal de banco</li>
<li><strong><a href="https://www.pgadmin.org/docs/">pgAdmin</a></strong> - Para PostgreSQL (se aplicÃ¡vel)</li>
</ul>
<h3 id="strong-api-design-e-documentaostrong"><strong>ğŸ“± API Design e DocumentaÃ§Ã£o</strong></h3><h4 id="strong-openapiswaggerstrong"><strong>ğŸ“– OpenAPI/Swagger:</strong></h4><ul>
<li><strong><a href="https://swagger.io/specification/">OpenAPI Specification</a></strong> - EspecificaÃ§Ã£o oficial</li>
<li><strong><a href="https://springdoc.org/">SpringDoc OpenAPI</a></strong> - IntegraÃ§Ã£o Spring Boot</li>
<li><strong><a href="https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations">Swagger Annotations</a></strong> - AnotaÃ§Ãµes Swagger</li>
</ul>
<h4 id="strong-rest-api-best-practicesstrong"><strong>ğŸ“– REST API Best Practices:</strong></h4><ul>
<li><strong><a href="https://restfulapi.net/">REST API Tutorial</a></strong> - Guia completo REST</li>
<li><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">HTTP Status Codes</a></strong> - CÃ³digos de status</li>
<li><strong><a href="https://martinfowler.com/articles/richardsonMaturityModel.html">Richardson Maturity Model</a></strong> - NÃ­veis de maturidade REST</li>
</ul>
<h3 id="strong-tutoriais-e-guias-prticosstrong"><strong>ğŸ“ Tutoriais e Guias PrÃ¡ticos</strong></h3><h4 id="strong-spring-guidesstrong"><strong>ğŸ“– Spring Guides:</strong></h4><ul>
<li><strong><a href="https://spring.io/guides/gs/accessing-data-jpa/">Accessing Data with JPA</a></strong> - Tutorial bÃ¡sico</li>
<li><strong><a href="https://spring.io/guides/tutorials/rest/">Building REST services with Spring</a></strong> - Tutorial REST completo</li>
<li><strong><a href="https://spring.io/guides/gs/consuming-rest/">Consuming REST services</a></strong> - Consumindo APIs</li>
</ul>
<h4 id="strong-baeldung-tutorialsstrong"><strong>ğŸ“– Baeldung Tutorials:</strong></h4><ul>
<li><strong><a href="https://www.baeldung.com/rest-api-search-language-spring-data-specifications">Spring Data JPA Specifications</a></strong> - Tutorial prÃ¡tico</li>
<li><strong><a href="https://www.baeldung.com/spring-data-jpa-query">Spring Data JPA Query</a></strong> - Queries com Spring Data</li>
<li><strong><a href="https://www.baeldung.com/hibernate-criteria-queries">JPA Criteria Queries</a></strong> - Criteria API</li>
</ul>
<h3 id="strong-blogs-e-recursos-especializadosstrong"><strong>ğŸ” Blogs e Recursos Especializados</strong></h3><h4 id="strong-especialistas-em-jpahibernatestrong"><strong>ğŸ“– Especialistas em JPA/Hibernate:</strong></h4><ul>
<li><strong><a href="https://vladmihalcea.com/">Vlad Mihalcea&#39;s Blog</a></strong> - Expert em JPA/Hibernate</li>
<li><strong><a href="https://thorben-janssen.com/">Thorben Janssen&#39;s Blog</a></strong> - Hibernate tips</li>
<li><strong><a href="https://www.petrikainulainen.net/">Petri Kainulainen&#39;s Blog</a></strong> - Spring Data JPA</li>
</ul>
<h4 id="strong-spring-communitystrong"><strong>ğŸ“– Spring Community:</strong></h4><ul>
<li><strong><a href="https://spring.io/blog">Spring Blog</a></strong> - Blog oficial Spring</li>
<li><strong><a href="https://spring.academy/">Spring Academy</a></strong> - Cursos oficiais</li>
<li><strong><a href="https://spring.io/community">Spring Community</a></strong> - Comunidade Spring</li>
</ul>
<h3 id="strong-quick-reference-linksstrong"><strong>âš¡ Quick Reference Links</strong></h3><h4 id="strong-cheat-sheetsstrong"><strong>ğŸ”– Cheat Sheets:</strong></h4><ul>
<li><strong><a href="https://www.baeldung.com/jpa-annotations">JPA Annotations Cheat Sheet</a></strong> - AnotaÃ§Ãµes JPA</li>
<li><strong><a href="https://springframework.guru/spring-data-jpa-query-derivation/">Spring Data JPA Cheat Sheet</a></strong> - DerivaÃ§Ã£o de queries</li>
<li><strong><a href="https://www.w3schools.com/sql/">SQL Cheat Sheet</a></strong> - ReferÃªncia SQL</li>
</ul>
<h4 id="strong-github-repositoriesstrong"><strong>ğŸ”– GitHub Repositories:</strong></h4><ul>
<li><strong><a href="https://github.com/spring-projects/spring-data-examples">Spring Data Examples</a></strong> - Exemplos oficiais</li>
<li><strong><a href="https://github.com/spring-projects/spring-boot/tree/main/spring-boot-samples">Spring Boot Samples</a></strong> - Amostras Spring Boot</li>
<li><strong><a href="https://github.com/ThomasVitale/awesome-spring">Awesome Spring</a></strong> - Recursos curados Spring</li>
</ul>
<hr>
<p>ğŸ’¡ <strong>Dica:</strong> Marque estes links nos seus favoritos para consulta rÃ¡pida durante o desenvolvimento!</p>
<hr>
<h2 id="-recursos-adicionais">ğŸ“‹ Recursos Adicionais</h2><h3 id="strong-links-teisstrong"><strong>ğŸ“– Links Ãšteis:</strong></h3><ul>
<li><a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html">Spring Data JPA Specifications</a></li>
<li><a href="https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm">Criteria API Guide</a></li>
<li><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods">Spring Data JPA Query Methods</a></li>
</ul>
<h3 id="strong-prximos-passosstrong"><strong>ğŸ” PrÃ³ximos Passos:</strong></h3><ol>
<li>Implementar cache para consultas frequentes</li>
<li>Adicionar mÃ©tricas de performance</li>
<li>Criar DSL customizada para queries complexas</li>
<li>Implementar filtros geoespaciais</li>
</ol>
<hr>
<p><em>Este tutorial fornece uma implementaÃ§Ã£o completa e profissional de JPA Specifications para o projeto DoeSangue, garantindo filtros dinÃ¢micos, performance otimizada e cÃ³digo maintÃ­vel.</em></p>

        </div>
        
        <div class="footer">
            <p>ğŸ“‹ DocumentaÃ§Ã£o gerada automaticamente | ğŸ¯ Projeto DoeSangue</p>
            <p>ğŸ’» Desenvolvido com â¤ï¸ pela equipe de desenvolvimento</p>
        </div>
    </div>
</body>
</html>
